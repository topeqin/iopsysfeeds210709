var JUCI_COMPILED = 1; var JUCI_TEMPLATES = {"devgui.html":"<!doctype html>\n<html lang=\"en\" >\n<head>\n  <meta charset=\"utf-8\">\n  <title >LuCi Express</title><!--ng-bind=\"title\"-->\n  <base href=\"/\">\n  <link href=\"css/normalize.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/angular-ui.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/select.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/angular-ui-switch.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/awesome-bootstrap-checkbox.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"css/nga.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"css/app.css\" rel=\"stylesheet\" type=\"text/css\" />\n</head>\n<body role=\"document\" ng-cloak >\n\t<div ui-view=\"content\" style=\"min-height: 1000px;\"></div>\n\t\n\t<div style=\"margin-bottom: 40px\"></div>\n\t\n\t<script src=\"lib/js/async.js\"></script>\n\t<script src=\"lib/js/require.js\"></script>\n\t<script src=\"lib/js/jquery.min.js\"></script>\n\t<script src=\"lib/js/angular.min.js\"></script>\n\t<script src=\"lib/js/angular-ui.min.js\"></script>\n\t<script src=\"lib/js/angular-ui-router.min.js\"></script>\n\t<script src=\"lib/js/angular-gettext.min.js\"></script>\n\t<script src=\"lib/js/bootstrap-select.min.js\"></script>\n\t<script src=\"lib/js/select.min.js\"></script>\n\t<script src=\"lib/js/angular-animate.min.js\"></script>\n\t<script src=\"lib/js/angular-ui-bootstrap-luci.min.js\"></script>\n\t<script src=\"lib/js/jquery-jsonrpc.js\"></script>\n\t<script src=\"lib/js/translations.js\"></script>\n\t<script src=\"lib/js/bootstrap.min.js\"></script>\n\t<script src=\"lib/js/angular-ui-switch.min.js\"></script>\n\t<script src=\"lib/js/angular-modal-service.min.js\"></script>\n\t<script src=\"lib/js/angular-checklist-model.js\"></script>\n\t\n\t<script src=\"js/rpc.js\"></script>\n\t<script src=\"js/uci.js\"></script>\n\t<script src=\"js/juci.js\"></script>\n\t<script src=\"js/app.js\"></script>\n\t<script src=\"js/localStorage.js\"></script>\n\t<script src=\"js/config.js\"></script>\n\t<script src=\"js/navigation.js\"></script>\n\t<script src=\"js/status.js\"></script>\n\t<script src=\"js/tr.js\"></script>\n\t<script src=\"js/theme.js\"></script>\n\t<script src=\"js/timeout.js\"></script>\n</body>\n</html>\n","html/404.html":"<luci-layout-single-column>\n\t<p translate>The page you were trying to access was not found!</p>\n</luci-layout-single-column>\n","html/default.html":"<luci-layout-with-sidebar>\n\t<p translate>Loading...</p>\n</luci-layout-with-sidebar>\n","html/init.html":"<div ng-controller=\"InitPageController\" >\n\t<i class=\"fa fa-cog fa-spin\"></i> Loading...\n</div>\n","index.html":"<!doctype html>\n<html lang=\"en\" >\n<head>\n  <meta charset=\"utf-8\">\n  <title >LuCi Express</title><!--ng-bind=\"title\"-->\n  <base href=\"/\">\n  <link href=\"__all.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <!--<link href=\"css/normalize.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/font-awesome.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/angular-ui.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/select.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/angular-ui-switch.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"lib/css/awesome-bootstrap-checkbox.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"css/nga.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n  <link href=\"css/app.css\" rel=\"stylesheet\" type=\"text/css\" />-->\n</head>\n<body role=\"document\" ng-cloak >\n\t<div ui-view=\"content\" style=\"min-height: 1000px;\"></div>\n\t\n\t<div style=\"margin-bottom: 40px\"></div>\n\t\n\t<script src=\"__all.js\"></script>\n\t<!--<script src=\"lib/js/async.js\"></script>\n\t<script src=\"lib/js/require.js\"></script>\n\t<script src=\"lib/js/jquery.min.js\"></script>\n\t<script src=\"lib/js/angular.min.js\"></script>\n\t<script src=\"lib/js/angular-ui.min.js\"></script>\n\t<script src=\"lib/js/angular-ui-router.min.js\"></script>\n\t<script src=\"lib/js/angular-gettext.min.js\"></script>\n\t<script src=\"lib/js/bootstrap-select.min.js\"></script>\n\t<script src=\"lib/js/select.min.js\"></script>\n\t<script src=\"lib/js/angular-animate.min.js\"></script>\n\t<script src=\"lib/js/angular-ui-bootstrap-luci.min.js\"></script>\n\t<script src=\"lib/js/jquery-jsonrpc.js\"></script>\n\t<script src=\"lib/js/translations.js\"></script>\n\t<script src=\"lib/js/bootstrap.min.js\"></script>\n\t<script src=\"lib/js/angular-ui-switch.min.js\"></script>\n\t<script src=\"lib/js/angular-modal-service.min.js\"></script>\n\t<script src=\"lib/js/angular-checklist-model.js\"></script>\n\t\n\t<script src=\"js/rpc.js\"></script>\n\t<script src=\"js/uci.js\"></script>\n\t<script src=\"js/juci.js\"></script>\n\t<script src=\"js/app.js\"></script>\n\t<script src=\"js/localStorage.js\"></script>\n\t<script src=\"js/config.js\"></script>\n\t<script src=\"js/navigation.js\"></script>\n\t<script src=\"js/status.js\"></script>\n\t<script src=\"js/tr.js\"></script>\n\t<script src=\"js/theme.js\"></script>\n\t<script src=\"js/timeout.js\"></script>-->\n</body>\n</html>\n","plugins/core/pages/bootstrap.html":"<luci-layout-single-column>\n    <span style=\"font-size: 1.5em\">Make sure that this layout matches: http://anvoz.github.io/bootstrap-tldr/</span>\n    <h1 class=\"page-header\" id=\"css\">CSS</h1>\n\n    <h2 id=\"typography\">Typography</h2><!-- Headings -->\n\n    <div class=\"media js-html-inspector\" data-replace-target=\"&gt; div\">\n        <div class=\"media-left media-middle\">\n            <h1>h1 <small>small</small></h1>\n        </div>\n\n        <div class=\"media-left media-middle\">\n            <div class=\"h2\">\n                .h2 <small>small</small>\n            </div>\n        </div>\n\n        <div class=\"media-left media-middle\">\n            <h3>h3 <small>small</small></h3>\n        </div>\n\n        <div class=\"media-left media-middle\">\n            <div class=\"h4\">\n                .h4 <small>small</small>\n            </div>\n        </div>\n\n        <div class=\"media-left media-middle\">\n            <h5>h5 <small>small</small></h5>\n        </div>\n\n        <div class=\"media-left media-middle\">\n            <div class=\"h6\">\n                .h6 <small>small</small>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row js-html-inspector\" data-remove-target=\"br\"\n    data-replace-target=\"&gt; div\">\n        <div class=\"col-sm-2 col-xs-4\">\n            <!-- Lead body copy -->\n            <span class=\"lead\">.lead</span><br>\n            <!-- Bold -->\n             <b>b (bold)</b><br>\n            <strong>strong</strong>\n        </div>\n\n        <div class=\"col-sm-2 col-xs-4\">\n            <!-- Small text -->\n            <small>small</small><br>\n            <span class=\"small\">.small</span>\n        </div>\n\n        <div class=\"col-sm-2 col-xs-4\">\n            <!-- Italics -->\n            <em>em</em><br>\n            <i>i (italic)</i>\n        </div><!-- Inline text elements -->\n\n        <div class=\"col-sm-2 col-xs-4\">\n            <!-- Deleted text -->\n            <del>del</del><br>\n            <!-- Strikethrough text -->\n             <span style=\"text-decoration: line-through\">s\n            (strikethrough)</span><br>\n            <!-- Inserted text -->\n             <ins>ins</ins><br>\n            <!-- Underlined text -->\n             <span style=\"text-decoration: underline\">u (underline)</span>\n        </div>\n\n        <div class=\"col-sm-2 col-xs-4\">\n            <!-- Inline code -->\n            <code>code</code><br>\n            <!-- Variables -->\n             <var>var</var><br>\n            <!-- Sample output from a program -->\n             <samp>samp</samp>\n        </div>\n\n        <div class=\"col-sm-2 col-xs-4\">\n            <!-- Marked text -->\n            <mark>mark</mark><br>\n            <!-- User input -->\n             <kbd>kbd</kbd>\n        </div>\n    </div><br>\n    <!-- Alignment classes -->\n\n    <div class=\"row js-html-inspector\" data-replace-target=\"&gt; div\">\n        <div class=\"col-xs-4\">\n            <p class=\"text-left\">.text-left</p>\n        </div>\n\n        <div class=\"col-xs-4\">\n            <p class=\"text-center\">.text-center</p>\n        </div>\n\n        <div class=\"col-xs-4\">\n            <p class=\"text-right\">.text-right</p>\n        </div>\n\n        <div class=\"col-xs-12\">\n            <div class=\"text-justify\">\n                .text-justify\n            </div>\n        </div>\n    </div><br>\n    <!-- Transformation classes -->\n\n    <div class=\"js-html-inspector\">\n        <span class=\"text-lowercase\">.text-lowercase</span> <span class=\n        \"text-uppercase\">.text-uppercase</span> <span class=\n        \"text-capitalize\">.text-capitalize</span>\n    </div><br>\n    <!-- Abbreviations -->\n\n    <div class=\"js-html-inspector\">\n        <abbr title=\"abbreviation\">abbr</abbr> <abbr class=\"initialism\" title=\n        \"abbreviation.initialism\">.initialism</abbr>\n    </div><br>\n    <!-- Addresses -->\n\n    <div class=\"js-html-inspector\">\n        <address>\n            <strong>address strong</strong><br>\n            address<br>\n            <a href=\"mailto:#\">first.last@example.com</a>\n        </address>\n    </div><!-- Blockquotes -->\n\n    <div class=\"row\">\n        <div class=\"col-sm-6 js-html-inspector\">\n            <blockquote>\n                <p>blockquote p</p>\n\n                <footer>\n                    footer <cite title=\"Cite\">cite</cite>\n                </footer>\n            </blockquote>\n        </div>\n\n        <div class=\"col-sm-6 js-html-inspector\">\n            <blockquote class=\"blockquote-reverse\">\n                <p>blockquote.blockquote-reverse p</p>\n\n                <footer>\n                    Someone famous in <cite title=\"Source Title\">Source\n                    Title</cite>\n                </footer>\n            </blockquote>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <!-- Unordered list -->\n\n        <div class=\"col-sm-4 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>ul</strong></p>\n\n            <ul>\n                <li>li</li>\n\n                <li>List item\n\n                    <ul>\n                        <li>ul li</li>\n\n                        <li>List item</li>\n                    </ul>\n                </li>\n\n                <li>List item</li>\n            </ul>\n        </div><!-- Ordered list -->\n\n        <div class=\"col-sm-4 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>ol</strong></p>\n\n            <ol>\n                <li>List item</li>\n\n                <li>List item\n\n                    <ol>\n                        <li>List item</li>\n\n                        <li>List item</li>\n                    </ol>\n                </li>\n\n                <li>List item</li>\n            </ol>\n        </div><!-- Unstyled list -->\n\n        <div class=\"col-sm-4 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>ul.list-unstyled</strong></p>\n\n            <ul class=\"list-unstyled\">\n                <li>List item</li>\n\n                <li>List item\n\n                    <ul>\n                        <li>List item</li>\n\n                        <li>List item</li>\n                    </ul>\n                </li>\n\n                <li>List item</li>\n            </ul>\n        </div><!-- Inline list -->\n\n        <div class=\"col-sm-4 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>ul.list-inline</strong></p>\n\n            <ul class=\"list-inline\">\n                <li>List item</li>\n\n                <li>List item</li>\n\n                <li>List item</li>\n            </ul>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <!-- Description -->\n\n        <div class=\"col-xs-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>dl</strong></p>\n\n            <dl>\n                <dt>dt</dt>\n\n                <dd>dd</dd>\n\n                <dt>Term</dt>\n\n                <dd>Description<br>\n                Description</dd>\n            </dl>\n        </div><!-- Horizontal description -->\n\n        <div class=\"col-xs-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>dl.dl-horizontal</strong></p>\n\n            <dl class=\"dl-horizontal\">\n                <dt>Term</dt>\n\n                <dd>Description</dd>\n\n                <dt>Long term will be truncated</dt>\n\n                <dd>Description<br>\n                Description</dd>\n            </dl>\n        </div>\n    </div>\n\n    <h2 id=\"tables\">Tables</h2><!-- Basic example -->\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>table.table</strong></p>\n\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <th>thead tr th</th>\n\n                    <th>th</th>\n\n                    <th>Header</th>\n\n                    <th>Header</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                <tr>\n                    <td>tbody tr td</td>\n\n                    <td>td</td>\n\n                    <td>Data</td>\n\n                    <td>Data</td>\n                </tr>\n\n                <tr>\n                    <td>Data</td>\n\n                    <td>Data</td>\n\n                    <td>Data</td>\n\n                    <td>Data</td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class=\"row\">\n        <!-- Striped rows -->\n\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.table-striped</strong></p>\n\n            <table class=\"table table-striped\">\n                <thead>\n                    <tr>\n                        <th>Header</th>\n\n                        <th>Header</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div><!-- Bordered table -->\n\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.table-bordered</strong></p>\n\n            <table class=\"table table-bordered\">\n                <thead>\n                    <tr>\n                        <th>Header</th>\n\n                        <th>Header</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <!-- Hover rows -->\n\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.table-hover</strong></p>\n\n            <table class=\"table table-hover\">\n                <thead>\n                    <tr>\n                        <th>Header</th>\n\n                        <th>Header</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div><!-- Condensed table -->\n\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.table-condensed</strong></p>\n\n            <table class=\"table table-condensed\">\n                <thead>\n                    <tr>\n                        <th>Header</th>\n\n                        <th>Header</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n\n                    <tr>\n                        <td>Data</td>\n\n                        <td>Data</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div><!-- Responsive tables and Contextual classes -->\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>div.table-responsive table.table</strong></p>\n\n        <div class=\"table-responsive\">\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th>Header</th>\n\n                        <th>Header</th>\n\n                        <th>Header</th>\n\n                        <th>Header</th>\n\n                        <th>Header</th>\n                    </tr>\n                </thead>\n\n                <tbody>\n                    <tr>\n                        <td class=\"active\">td.active</td>\n\n                        <td class=\"success\">td.success</td>\n\n                        <td class=\"info\">td.info</td>\n\n                        <td class=\"warning\">td.warning</td>\n\n                        <td class=\"danger\">td.danger</td>\n                    </tr>\n\n                    <tr class=\"active\">\n                        <td>tr.active td</td>\n\n                        <td colspan=\"4\">Applies the hover color to a particular\n                        row or cell</td>\n                    </tr>\n\n                    <tr class=\"success\">\n                        <td>tr.success td</td>\n\n                        <td colspan=\"4\">Indicates a successful or positive\n                        action</td>\n                    </tr>\n\n                    <tr class=\"info\">\n                        <td>tr.info td</td>\n\n                        <td colspan=\"4\">Indicates a neutral informative change\n                        or action</td>\n                    </tr>\n\n                    <tr class=\"warning\">\n                        <td>tr.warning td</td>\n\n                        <td colspan=\"4\">Indicates a warning that might need\n                        attention</td>\n                    </tr>\n\n                    <tr class=\"danger\">\n                        <td>tr.danger td</td>\n\n                        <td colspan=\"4\">Indicates a dangerous or potentially\n                        negative action</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n\n    <h2 id=\"forms\">Forms</h2><!-- Basic example -->\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>form</strong></p>\n\n        <form>\n            <!-- Inputs with different sizes -->\n\n            <div class=\"form-group\">\n                <input class=\"form-control\" placeholder=\"input.form-control\"\n                type=\"text\">\n            </div>\n\n            <div class=\"form-group\">\n                <input class=\"form-control input-lg\" placeholder=\".input-lg\"\n                type=\"text\">\n            </div>\n\n            <div class=\"form-group\">\n                <input class=\"form-control input-sm\" placeholder=\".input-sm\"\n                type=\"text\">\n            </div><!-- Textarea -->\n\n            <div class=\"form-group\">\n                <textarea class=\"form-control\" rows=\"3\">\ntextarea.form-control\n</textarea>\n            </div><!-- File input -->\n\n            <div class=\"form-group\">\n                <label for=\"example-file-input\">input[type=\"file\"]</label>\n                <input id=\"example-file-input\" type=\"file\"> <span class=\n                \"help-block\">.help-block: Wrap labels and controls in\n                <code>.form-group</code> for optimum spacing.</span>\n            </div><!-- Button -->\n\n            <div class=\"form-group\">\n                <button class=\"btn btn-default\" type=\"submit\">Submit</button>\n            </div>\n        </form>\n    </div><!-- Inline form -->\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>form.form-inline</strong></p>\n\n        <form class=\"form-inline\">\n            <div class=\"form-group\">\n                <input class=\"form-control\" id=\"example-text-input-inline\"\n                placeholder=\"input.form-control\" type=\"text\">\n            </div>\n\n            <div class=\"checkbox\">\n                <label><input type=\"checkbox\"> .checkbox\n                input[type=\"checkbox\"]</label>\n            </div><button class=\"btn btn-default\" type=\"submit\">Submit</button>\n        </form>\n    </div><br>\n    <!-- Horizontal form -->\n\n    <div class=\"js-html-inspector\" data-remove-target=\n    '[\"p:not([class])\",\"br\"]'>\n        <p><strong>form.form-horizontal</strong></p>\n\n        <form class=\"form-horizontal\">\n            <div class=\"form-group\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"example-text-input-horizontal\">label.control-label</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\n                    \"example-text-input-horizontal\" placeholder=\n                    \"input.form-control\" type=\"text\">\n                </div>\n            </div>\n\n            <div class=\"form-group form-group-lg\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"example-text-input-horizontal-lg\">label.control-label</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\n                    \"example-text-input-horizontal-lg\" placeholder=\n                    \".form-group-lg input.form-control\" type=\"text\">\n                </div>\n            </div>\n\n            <div class=\"form-group form-group-sm\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"example-text-input-horizontal-sm\">label.control-label</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\n                    \"example-text-input-horizontal-sm\" placeholder=\n                    \".form-group-sm input.form-control\" type=\"text\">\n                </div>\n            </div><!-- Checkbox -->\n\n            <div class=\"form-group\">\n                <label class=\"col-sm-3 control-label\">Checkboxes</label>\n\n                <div class=\"col-sm-9\">\n                    <div class=\"checkbox\">\n                        <label><input type=\"checkbox\"> .checkbox\n                        input[type=\"checkbox\"]</label>\n                    </div>\n                </div>\n            </div><!-- Inline checkboxes -->\n\n            <div class=\"form-group\">\n                <div class=\"col-sm-offset-3 col-sm-9\">\n                    <label class=\"checkbox-inline\"><input type=\"checkbox\"\n                    value=\"option1\"> label.checkbox-inline Checkbox #1</label>\n                    <label class=\"checkbox-inline\"><input type=\"checkbox\"\n                    value=\"option2\"> Checkbox #2</label> <label class=\n                    \"checkbox-inline disabled\"><input disabled type=\"checkbox\"\n                    value=\"option3\"> Disabled checkbox #3</label>\n                </div>\n            </div><!-- Radio -->\n\n            <div class=\"form-group\">\n                <label class=\"col-sm-3 control-label\">Radios</label>\n\n                <div class=\"col-sm-9\">\n                    <div class=\"radio\">\n                        <label><input checked name=\"optionsRadios\" type=\"radio\"\n                        value=\"option1\"> .radio input[type=\"radio\"]</label>\n                    </div>\n                </div>\n            </div><!-- Inline radios -->\n\n            <div class=\"form-group\">\n                <div class=\"col-sm-offset-3 col-sm-9\">\n                    <label class=\"radio-inline\"><input checked name=\n                    \"optionsRadios2\" type=\"radio\" value=\"option1\">\n                    label.radio-inline Radio #1</label> <label class=\n                    \"radio-inline\"><input name=\"optionsRadios2\" type=\"radio\"\n                    value=\"option2\"> Radio #2</label> <label class=\n                    \"radio-inline disabled\"><input disabled name=\n                    \"optionsRadios2\" type=\"radio\" value=\"option3\"> Disabled\n                    radio #3</label>\n                </div>\n            </div><!-- Select -->\n\n            <div class=\"form-group\">\n                <label class=\n                \"col-sm-3 control-label\">select.form-control</label>\n\n                <div class=\"col-sm-4\">\n                    <select class=\"form-control\">\n                        <option>\n                            option\n                        </option>\n\n                        <option>\n                            Option #2\n                        </option>\n\n                        <option>\n                            Option #3\n                        </option>\n                    </select><br>\n                    <select class=\"form-control\" disabled>\n                        <option>\n                            select[disabled]\n                        </option>\n                    </select>\n                </div>\n\n                <div class=\"col-sm-5\">\n                    <br class=\"visible-xs\">\n\n                    <p>\n                    <strong>select.form-control[multiple]</strong></p><select class=\"form-control\"\n                    multiple>\n                        <option>\n                            Option #1\n                        </option>\n\n                        <option selected>\n                            option[selected]\n                        </option>\n\n                        <option>\n                            Option #3\n                        </option>\n\n                        <option selected>\n                            Selected option #4\n                        </option>\n\n                        <option>\n                            Option #5\n                        </option>\n                    </select>\n                </div>\n            </div><!-- Static control -->\n\n            <div class=\"form-group\">\n                <label class=\"col-sm-3 control-label\">Static control</label>\n\n                <div class=\"col-sm-9\">\n                    <p class=\"form-control-static\">p.form-control-static</p>\n                </div>\n            </div><!-- Disabled input -->\n\n            <div class=\"form-group\">\n                <label class=\"col-sm-3 control-label\">Disabled input</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" disabled placeholder=\n                    \"input.form-control[disabled]\" type=\"text\">\n                </div>\n            </div><!-- Button -->\n\n            <div class=\"form-group\">\n                <div class=\"col-sm-offset-3 col-sm-9\">\n                    <button class=\"btn btn-default\" type=\n                    \"submit\">Submit</button>\n                </div>\n            </div>\n        </form>\n    </div><!-- Validation states -->\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>Validation styles on form controls</strong></p>\n\n        <form class=\"form-horizontal\">\n            <!-- Success state -->\n\n            <div class=\"form-group has-success\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"input-success\">.has-success</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\"input-success\" placeholder=\n                    \"input.form-control\" type=\"text\">\n                </div>\n            </div>\n\n            <div class=\"form-group has-success has-feedback\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"input-success-2\">.has-feedback</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\"input-success-2\"\n                    placeholder=\".form-control-feedback\" type=\"text\">\n                    <span class=\n                    \"glyphicon glyphicon-ok form-control-feedback\"></span>\n                </div>\n            </div><!-- Warning state -->\n\n            <div class=\"form-group has-warning\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"input-warning\">.has-warning</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\"input-warning\" placeholder=\n                    \"input.form-control\" type=\"text\">\n                </div>\n            </div>\n\n            <div class=\"form-group has-warning has-feedback\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"input-warning-2\">.has-feedback</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\"input-warning-2\"\n                    placeholder=\".form-control-feedback\" type=\"text\">\n                    <span class=\n                    \"glyphicon glyphicon-warning-sign form-control-feedback\"></span>\n                </div>\n            </div><!-- Error state -->\n\n            <div class=\"form-group has-error\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"input-error\">.has-error</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\"input-error\" placeholder=\n                    \"input.form-control\" type=\"text\">\n                </div>\n            </div>\n\n            <div class=\"form-group has-error has-feedback\">\n                <label class=\"col-sm-3 control-label\" for=\n                \"input-error-2\">.has-feedback</label>\n\n                <div class=\"col-sm-9\">\n                    <input class=\"form-control\" id=\"input-error-2\" placeholder=\n                    \".form-control-feedback\" type=\"text\"> <span class=\n                    \"glyphicon glyphicon-remove form-control-feedback\"></span>\n                </div>\n            </div>\n        </form>\n    </div>\n\n    <h2 id=\"buttons\">Buttons</h2><!-- Styled buttons -->\n\n    <p class=\"bse-buttons js-html-inspector\"><button class=\"btn btn-default\"\n    type=\"button\">button.btn.btn-default</button> <button class=\n    \"btn btn-primary\" type=\"button\">.btn-primary</button> <button class=\n    \"btn btn-success\" type=\"button\">.btn-success</button> <button class=\n    \"btn btn-info\" type=\"button\">.btn-info</button> <button class=\n    \"btn btn-warning\" type=\"button\">.btn-warning</button> <button class=\n    \"btn btn-danger\" type=\"button\">.btn-danger</button> <button class=\n    \"btn btn-link\" type=\"button\">.btn-link</button></p><!-- Button sizes -->\n\n    <p class=\"bse-buttons js-html-inspector\"><button class=\n    \"btn btn-default btn-lg\" type=\"button\">.btn-lg</button> <button class=\n    \"btn btn-default\" type=\"button\">Default button size</button> <button class=\n    \"btn btn-default btn-sm\" type=\"button\">.btn-sm</button> <button class=\n    \"btn btn-default btn-xs\" type=\"button\">.btn-xs</button></p>\n    <!-- Block level buttons -->\n\n    <p class=\"js-html-inspector\"><button class=\"btn btn-primary btn-block\"\n    type=\"button\">.btn-block</button> <button class=\"btn btn-default btn-block\"\n    type=\"button\">.btn-block</button></p><!-- Button tags -->\n\n    <p class=\"bse-buttons js-html-inspector\"><a class=\"btn btn-default\" href=\n    \"#\">a</a> <button class=\"btn btn-default\" type=\"button\">button</button>\n    <input class=\"btn btn-default\" type=\"button\" value=\"input[type='button']\">\n    <input class=\"btn btn-default\" type=\"submit\" value=\n    \"input[type='submit']\"></p>\n\n    <p class=\"bse-buttons js-html-inspector\"><!-- Active state -->\n     <a class=\"btn btn-default active\" href=\"#\">a.active</a> <button class=\n    \"btn btn-default active\" type=\"button\">button.active</button> \n    <!-- Disabled state -->\n     <a class=\"btn btn-default disabled\" href=\"#\">a.disabled</a> <button class=\n    \"btn btn-default\" disabled=\"disabled\" type=\n    \"button\">button[disabled]</button></p>\n\n    <h2 id=\"images\">Images</h2>\n\n    <div class=\"row bs-thumbnails js-html-inspector\" data-remove-target=\"p\"\n    data-replace-target=\"&gt; div\">\n        <div class=\"col-sm-3 col-xs-6\">\n        <p><strong>.img-rounded</strong></p><img alt=\".img-rounded\" class=\n        \"img-rounded\" src=\n        \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"></div>\n\n        <div class=\"col-sm-3 col-xs-6\">\n        <p><strong>.img-circle</strong></p><img alt=\".img-circle\" class=\n        \"img-circle\" src=\n        \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"></div>\n\n        <div class=\"col-sm-3 col-xs-6\">\n        <p><strong>.img-thumbnail</strong></p><img alt=\".img-thumbnail\" class=\n        \"img-thumbnail\" src=\n        \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"></div>\n\n        <div class=\"col-sm-3 col-xs-6\">\n        <p><strong>.img-responsive</strong></p><img alt=\".img-responsive\"\n        class=\"img-responsive\" src=\n        \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"></div>\n    </div>\n\n    <h2 id=\"helper-classes\">Helper classes</h2><!-- Contextual colors -->\n\n    <p class=\"js-html-inspector\"><span class=\"text-muted\">.text-muted</span>\n    <span class=\"text-primary\">.text-primary</span> <span class=\n    \"text-success\">.text-success</span> <span class=\n    \"text-info\">.text-info</span> <span class=\n    \"text-warning\">.text-warning</span> <span class=\n    \"text-danger\">.text-danger</span></p><!-- Contextual backgrounds -->\n\n    <p class=\"js-html-inspector\"><span class=\"bg-primary\">.bg-primary</span>\n    <span class=\"bg-success\">.bg-success</span> <span class=\n    \"bg-info\">.bg-info</span> <span class=\"bg-warning\">.bg-warning</span>\n    <span class=\"bg-danger\">.bg-danger</span></p><!-- Close icon -->\n\n    <p class=\"js-html-inspector\">button.close &rarr; <button class=\"close\"\n    type=\"button\">&times;</button></p><!-- Carets -->\n\n    <p class=\"js-html-inspector\">.caret <span class=\"caret\"></span></p>\n    <!-- Clearfix and floats -->\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.clearfix</strong></p>\n\n        <div class=\"clearfix\">\n            <div class=\"pull-left\">\n                .pull-left\n            </div>\n\n            <div class=\"pull-right\">\n                .pull-right\n            </div>\n        </div>\n    </div><br>\n\n    <p><!-- Center content blocks -->\n     <code>.center-block</code>: Set an element to <code>display: block</code>\n    and center via <code>margin</code>.<br></p>\n\n    <p><!-- Showing and hiding content -->\n     <code>.show</code> and <code>.hidden</code>: Showing and hiding\n    content.<br>\n    <code>.invisible</code>: Toggle only the visibility of an element.<br></p>\n\n    <p><!-- Screen reader content -->\n     <code>.sr-only</code>: Hide an element to all devices <b>except screen\n    readers</b>.<br></p>\n\n    <p><!-- Image replacement -->\n     <code>.text-hide</code>: Replace an element's text content with a\n    background image.</p>\n\n    <h1 class=\"page-header\" id=\"components\">Components</h1>\n\n    <h2 id=\"glyphicons\">Glyphicons</h2>\n\n    <p><a href=\"http://glyphicons.com/\" target=\"_blank\">Glyphicons</a> classes:\n    <code>glyphicon glyphicon-*</code></p><!-- Simple symbols -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-asterisk\"></span> asterisk</li>\n\n        <li><span class=\"glyphicon glyphicon-plus\"></span> plus</li>\n\n        <li><span class=\"glyphicon glyphicon-minus\"></span> minus</li>\n\n        <li><span class=\"glyphicon glyphicon-ok\"></span> ok</li>\n\n        <li><span class=\"glyphicon glyphicon-remove\"></span> remove</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-remove-circle\"></span>\n        remove-circle</li>\n\n        <li><span class=\"glyphicon glyphicon-ok-circle\"></span> ok-circle</li>\n\n        <li><span class=\"glyphicon glyphicon-ban-circle\"></span>\n        ban-circle</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-copyright-mark\"></span>\n        copyright-mark</li>\n\n        <li><span class=\"glyphicon glyphicon-registration-mark\"></span>\n        registration-mark</li>\n    </ul><!-- Directions -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-chevron-left\"></span>\n        chevron-left</li>\n\n        <li><span class=\"glyphicon glyphicon-chevron-right\"></span>\n        chevron-right</li>\n\n        <li><span class=\"glyphicon glyphicon-chevron-up\"></span>\n        chevron-up</li>\n\n        <li><span class=\"glyphicon glyphicon-chevron-down\"></span>\n        chevron-down</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-arrow-left\"></span>\n        arrow-left</li>\n\n        <li><span class=\"glyphicon glyphicon-arrow-right\"></span>\n        arrow-right</li>\n\n        <li><span class=\"glyphicon glyphicon-arrow-up\"></span> arrow-up</li>\n\n        <li><span class=\"glyphicon glyphicon-arrow-down\"></span>\n        arrow-down</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-hand-left\"></span> hand-left</li>\n\n        <li><span class=\"glyphicon glyphicon-hand-right\"></span>\n        hand-right</li>\n\n        <li><span class=\"glyphicon glyphicon-hand-up\"></span> hand-up</li>\n\n        <li><span class=\"glyphicon glyphicon-hand-down\"></span> hand-down</li>\n\n        <li><span class=\"glyphicon glyphicon-thumbs-up\"></span> thumbs-up</li>\n\n        <li><span class=\"glyphicon glyphicon-thumbs-down\"></span>\n        thumbs-down</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-circle-arrow-left\"></span>\n        circle-arrow-left</li>\n\n        <li><span class=\"glyphicon glyphicon-circle-arrow-right\"></span>\n        circle-arrow-right</li>\n\n        <li><span class=\"glyphicon glyphicon-circle-arrow-up\"></span>\n        circle-arrow-up</li>\n\n        <li><span class=\"glyphicon glyphicon-circle-arrow-down\"></span>\n        circle-arrow-down</li>\n    </ul><!-- Transfer -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-signal\"></span> signal</li>\n\n        <li><span class=\"glyphicon glyphicon-envelope\"></span> envelope</li>\n\n        <li><span class=\"glyphicon glyphicon-inbox\"></span> inbox</li>\n\n        <li><span class=\"glyphicon glyphicon-cloud\"></span> cloud</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-cloud-download\"></span>\n        cloud-download</li>\n\n        <li><span class=\"glyphicon glyphicon-cloud-upload\"></span>\n        cloud-upload</li>\n\n        <li><span class=\"glyphicon glyphicon-download-alt\"></span>\n        download-alt</li>\n\n        <li><span class=\"glyphicon glyphicon-download\"></span> download</li>\n\n        <li><span class=\"glyphicon glyphicon-upload\"></span> upload</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-transfer\"></span> transfer</li>\n\n        <li><span class=\"glyphicon glyphicon-share-alt\"></span> share-alt</li>\n\n        <li><span class=\"glyphicon glyphicon-send\"></span> send</li>\n\n        <li><span class=\"glyphicon glyphicon-retweet\"></span> retweet</li>\n    </ul>\n\n    <ul class=\"list-inline\">\n        <!-- Functions (group by style) -->\n\n        <li><span class=\"glyphicon glyphicon-open\"></span> open</li>\n\n        <li><span class=\"glyphicon glyphicon-save\"></span> save</li>\n\n        <li><span class=\"glyphicon glyphicon-saved\"></span> saved</li>\n\n        <li><span class=\"glyphicon glyphicon-import\"></span> import</li>\n\n        <li><span class=\"glyphicon glyphicon-export\"></span> export</li>\n\n        <li style=\"list-style: none\"><br>\n        <!-- Functions (disc) --></li>\n\n        <li><span class=\"glyphicon glyphicon-play\"></span> play</li>\n\n        <li><span class=\"glyphicon glyphicon-pause\"></span> pause</li>\n\n        <li><span class=\"glyphicon glyphicon-stop\"></span> stop</li>\n\n        <li><span class=\"glyphicon glyphicon-eject\"></span> eject</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-fast-backward\"></span>\n        fast-backward</li>\n\n        <li><span class=\"glyphicon glyphicon-step-backward\"></span>\n        step-backward</li>\n\n        <li><span class=\"glyphicon glyphicon-backward\"></span> backward</li>\n\n        <li><span class=\"glyphicon glyphicon-forward\"></span> forward</li>\n\n        <li><span class=\"glyphicon glyphicon-step-forward\"></span>\n        step-forward</li>\n\n        <li><span class=\"glyphicon glyphicon-fast-forward\"></span>\n        fast-forward</li>\n    </ul><!-- Functions (display) -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-zoom-in\"></span> zoom-in</li>\n\n        <li><span class=\"glyphicon glyphicon-zoom-out\"></span> zoom-out</li>\n\n        <li><span class=\"glyphicon glyphicon-fullscreen\"></span>\n        fullscreen</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-resize-full\"></span>\n        resize-full</li>\n\n        <li><span class=\"glyphicon glyphicon-resize-small\"></span>\n        resize-small</li>\n\n        <li><span class=\"glyphicon glyphicon-resize-vertical\"></span>\n        resize-vertical</li>\n\n        <li><span class=\"glyphicon glyphicon-resize-horizontal\"></span>\n        resize-horizontal</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-eye-open\"></span> eye-open</li>\n\n        <li><span class=\"glyphicon glyphicon-eye-close\"></span> eye-close</li>\n    </ul><!-- Functions (group by style) -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-check\"></span> check</li>\n\n        <li><span class=\"glyphicon glyphicon-unchecked\"></span> unchecked</li>\n\n        <li><span class=\"glyphicon glyphicon-expand\"></span> expand</li>\n\n        <li><span class=\"glyphicon glyphicon-collapse-down\"></span>\n        collapse-down</li>\n\n        <li><span class=\"glyphicon glyphicon-collapse-up\"></span>\n        collapse-up</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-log-in\"></span> log-in</li>\n\n        <li><span class=\"glyphicon glyphicon-log-out\"></span> log-out</li>\n\n        <li><span class=\"glyphicon glyphicon-new-window\"></span>\n        new-window</li>\n\n        <li><span class=\"glyphicon glyphicon-edit\"></span> edit</li>\n\n        <li><span class=\"glyphicon glyphicon-share\"></span> share</li>\n    </ul><!-- Functions (text editor) -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-font\"></span> font</li>\n\n        <li><span class=\"glyphicon glyphicon-bold\"></span> bold</li>\n\n        <li><span class=\"glyphicon glyphicon-italic\"></span> italic</li>\n\n        <li><span class=\"glyphicon glyphicon-header\"></span> header</li>\n\n        <li><span class=\"glyphicon glyphicon-text-height\"></span>\n        text-height</li>\n\n        <li><span class=\"glyphicon glyphicon-text-width\"></span>\n        text-width</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-align-left\"></span>\n        align-left</li>\n\n        <li><span class=\"glyphicon glyphicon-align-center\"></span>\n        align-center</li>\n\n        <li><span class=\"glyphicon glyphicon-align-right\"></span>\n        align-right</li>\n\n        <li><span class=\"glyphicon glyphicon-align-justify\"></span>\n        align-justify</li>\n\n        <li><span class=\"glyphicon glyphicon-indent-left\"></span>\n        indent-left</li>\n\n        <li><span class=\"glyphicon glyphicon-indent-right\"></span>\n        indent-right</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-list\"></span> list</li>\n\n        <li><span class=\"glyphicon glyphicon-list-alt\"></span> list-alt</li>\n\n        <li><span class=\"glyphicon glyphicon-th-list\"></span> th-list</li>\n\n        <li><span class=\"glyphicon glyphicon-th-large\"></span> th-large</li>\n\n        <li><span class=\"glyphicon glyphicon-th\"></span> th</li>\n\n        <li><span class=\"glyphicon glyphicon-filter\"></span> filter</li>\n    </ul><!-- Functions (sort) -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-sort\"></span> sort</li>\n\n        <li><span class=\"glyphicon glyphicon-sort-by-alphabet\"></span>\n        sort-by-alphabet</li>\n\n        <li><span class=\"glyphicon glyphicon-sort-by-alphabet-alt\"></span>\n        sort-by-alphabet-alt</li>\n\n        <li><span class=\"glyphicon glyphicon-sort-by-order\"></span>\n        sort-by-order</li>\n\n        <li><span class=\"glyphicon glyphicon-sort-by-order-alt\"></span>\n        sort-by-order-alt</li>\n\n        <li><span class=\"glyphicon glyphicon-sort-by-attributes\"></span>\n        sort-by-attributes</li>\n\n        <li><span class=\"glyphicon glyphicon-sort-by-attributes-alt\"></span>\n        sort-by-attributes-alt</li>\n    </ul><!-- Functions (group by floppy disk style) -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-floppy-disk\"></span>\n        floppy-disk</li>\n\n        <li><span class=\"glyphicon glyphicon-floppy-saved\"></span>\n        floppy-saved</li>\n\n        <li><span class=\"glyphicon glyphicon-floppy-remove\"></span>\n        floppy-remove</li>\n\n        <li><span class=\"glyphicon glyphicon-floppy-save\"></span>\n        floppy-save</li>\n\n        <li><span class=\"glyphicon glyphicon-floppy-open\"></span>\n        floppy-open</li>\n    </ul><!-- Functions -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-home\"></span> home</li>\n\n        <li><span class=\"glyphicon glyphicon-dashboard\"></span> dashboard</li>\n\n        <li><span class=\"glyphicon glyphicon-tasks\"></span> tasks</li>\n\n        <li><span class=\"glyphicon glyphicon-stats\"></span> stats</li>\n\n        <li><span class=\"glyphicon glyphicon-link\"></span> link</li>\n\n        <li><span class=\"glyphicon glyphicon-comment\"></span> comment</li>\n\n        <li><span class=\"glyphicon glyphicon-calendar\"></span> calendar</li>\n\n        <li><span class=\"glyphicon glyphicon-time\"></span> time</li>\n\n        <li><span class=\"glyphicon glyphicon-print\"></span> print</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-user\"></span> user</li>\n\n        <li><span class=\"glyphicon glyphicon-certificate\"></span>\n        certificate</li>\n\n        <li><span class=\"glyphicon glyphicon-qrcode\"></span> qrcode</li>\n\n        <li><span class=\"glyphicon glyphicon-barcode\"></span> barcode</li>\n    </ul><!-- Element symbols -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-globe\"></span> globe</li>\n\n        <li><span class=\"glyphicon glyphicon-tower\"></span> tower</li>\n\n        <li><span class=\"glyphicon glyphicon-road\"></span> road</li>\n\n        <li><span class=\"glyphicon glyphicon-tree-conifer\"></span>\n        tree-conifer</li>\n\n        <li><span class=\"glyphicon glyphicon-tree-deciduous\"></span>\n        tree-deciduous</li>\n\n        <li><span class=\"glyphicon glyphicon-leaf\"></span> leaf</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-heart\"></span> heart</li>\n\n        <li><span class=\"glyphicon glyphicon-heart-empty\"></span>\n        heart-empty</li>\n\n        <li><span class=\"glyphicon glyphicon-star\"></span> star</li>\n\n        <li><span class=\"glyphicon glyphicon-star-empty\"></span>\n        star-empty</li>\n\n        <li><span class=\"glyphicon glyphicon-flash\"></span> flash</li>\n\n        <li><span class=\"glyphicon glyphicon-fire\"></span> fire</li>\n    </ul><!-- Tools -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-search\"></span> search</li>\n\n        <li><span class=\"glyphicon glyphicon-flag\"></span> flag</li>\n\n        <li><span class=\"glyphicon glyphicon-pencil\"></span> pencil</li>\n\n        <li><span class=\"glyphicon glyphicon-wrench\"></span> wrench</li>\n\n        <li><span class=\"glyphicon glyphicon-cog\"></span> cog</li>\n\n        <li><span class=\"glyphicon glyphicon-cutlery\"></span> cutlery</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-plane\"></span> plane</li>\n\n        <li><span class=\"glyphicon glyphicon-trash\"></span> trash</li>\n\n        <li><span class=\"glyphicon glyphicon-shopping-cart\"></span>\n        shopping-cart</li>\n\n        <li><span class=\"glyphicon glyphicon-briefcase\"></span> briefcase</li>\n\n        <li><span class=\"glyphicon glyphicon-gift\"></span> gift</li>\n\n        <li><span class=\"glyphicon glyphicon-glass\"></span> glass</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-phone-alt\"></span> phone-alt</li>\n\n        <li><span class=\"glyphicon glyphicon-earphone\"></span> earphone</li>\n\n        <li><span class=\"glyphicon glyphicon-phone\"></span> phone</li>\n\n        <li><span class=\"glyphicon glyphicon-bullhorn\"></span> bullhorn</li>\n\n        <li><span class=\"glyphicon glyphicon-bell\"></span> bell</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-hdd\"></span> hdd</li>\n\n        <li><span class=\"glyphicon glyphicon-folder-close\"></span>\n        folder-close</li>\n\n        <li><span class=\"glyphicon glyphicon-folder-open\"></span>\n        folder-open</li>\n\n        <li><span class=\"glyphicon glyphicon-file\"></span> file</li>\n\n        <li><span class=\"glyphicon glyphicon-tags\"></span> tags</li>\n\n        <li><span class=\"glyphicon glyphicon-tag\"></span> tag</li>\n\n        <li><span class=\"glyphicon glyphicon-book\"></span> book</li>\n\n        <li><span class=\"glyphicon glyphicon-bookmark\"></span> bookmark</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-lock\"></span> lock</li>\n\n        <li><span class=\"glyphicon glyphicon-compressed\"></span>\n        compressed</li>\n\n        <li><span class=\"glyphicon glyphicon-magnet\"></span> magnet</li>\n\n        <li><span class=\"glyphicon glyphicon-paperclip\"></span> paperclip</li>\n\n        <li><span class=\"glyphicon glyphicon-pushpin\"></span> pushpin</li>\n    </ul><!-- Signs -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-plus-sign\"></span> plus-sign</li>\n\n        <li><span class=\"glyphicon glyphicon-minus-sign\"></span>\n        minus-sign</li>\n\n        <li><span class=\"glyphicon glyphicon-remove-sign\"></span>\n        remove-sign</li>\n\n        <li><span class=\"glyphicon glyphicon-ok-sign\"></span> ok-sign</li>\n\n        <li><span class=\"glyphicon glyphicon-question-sign\"></span>\n        question-sign</li>\n\n        <li><span class=\"glyphicon glyphicon-info-sign\"></span> info-sign</li>\n\n        <li><span class=\"glyphicon glyphicon-exclamation-sign\"></span>\n        exclamation-sign</li>\n\n        <li><span class=\"glyphicon glyphicon-warning-sign\"></span>\n        warning-sign</li>\n    </ul><!-- Picture -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-picture\"></span> picture</li>\n\n        <li><span class=\"glyphicon glyphicon-map-marker\"></span>\n        map-marker</li>\n\n        <li><span class=\"glyphicon glyphicon-adjust\"></span> adjust</li>\n\n        <li><span class=\"glyphicon glyphicon-tint\"></span> tint</li>\n\n        <li><span class=\"glyphicon glyphicon-move\"></span> move</li>\n\n        <li><span class=\"glyphicon glyphicon-screenshot\"></span>\n        screenshot</li>\n    </ul><!-- Video -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-film\"></span> film</li>\n\n        <li><span class=\"glyphicon glyphicon-camera\"></span> camera</li>\n\n        <li><span class=\"glyphicon glyphicon-facetime-video\"></span>\n        facetime-video</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-sd-video\"></span> sd-video</li>\n\n        <li><span class=\"glyphicon glyphicon-hd-video\"></span> hd-video</li>\n\n        <li><span class=\"glyphicon glyphicon-subtitles\"></span> subtitles</li>\n    </ul><!-- Sound -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-music\"></span> music</li>\n\n        <li><span class=\"glyphicon glyphicon-headphones\"></span>\n        headphones</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-volume-off\"></span>\n        volume-off</li>\n\n        <li><span class=\"glyphicon glyphicon-volume-down\"></span>\n        volume-down</li>\n\n        <li><span class=\"glyphicon glyphicon-volume-up\"></span> volume-up</li>\n\n        <li style=\"list-style: none\"><br></li>\n\n        <li><span class=\"glyphicon glyphicon-play-circle\"></span>\n        play-circle</li>\n\n        <li><span class=\"glyphicon glyphicon-repeat\"></span> repeat</li>\n\n        <li><span class=\"glyphicon glyphicon-record\"></span> record</li>\n\n        <li><span class=\"glyphicon glyphicon-off\"></span> off</li>\n\n        <li><span class=\"glyphicon glyphicon-random\"></span> random</li>\n\n        <li><span class=\"glyphicon glyphicon-refresh\"></span> refresh</li>\n    </ul>\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-sound-stereo\"></span>\n        sound-stereo</li>\n\n        <li><span class=\"glyphicon glyphicon-sound-dolby\"></span>\n        sound-dolby</li>\n\n        <li><span class=\"glyphicon glyphicon-sound-5-1\"></span> sound-5-1</li>\n\n        <li><span class=\"glyphicon glyphicon-sound-6-1\"></span> sound-6-1</li>\n\n        <li><span class=\"glyphicon glyphicon-sound-7-1\"></span> sound-7-1</li>\n    </ul><!-- $ -->\n\n    <ul class=\"list-inline\">\n        <li><span class=\"glyphicon glyphicon-credit-card\"></span>\n        credit-card</li>\n\n        <li><span class=\"glyphicon glyphicon-euro\"></span> euro</li>\n\n        <li><span class=\"glyphicon glyphicon-usd\"></span> usd</li>\n\n        <li><span class=\"glyphicon glyphicon-gbp\"></span> gbp</li>\n    </ul>\n\n    <h2 id=\"dropdowns\">Dropdowns</h2>\n\n    <div class=\"clearfix js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.dropdown ul.dropdown-menu</strong></p>\n\n        <div class=\"dropdown\">\n            <!-- Only use inline style for static display -->\n\n            <ul class=\"dropdown-menu\" style=\n            \"display: block; position: static;\">\n                <li class=\"dropdown-header\">li.dropdown-header</li>\n\n                <li>\n                    <a href=\"#\">li a</a>\n                </li>\n\n                <li>\n                    <a href=\"#\">Another link</a>\n                </li>\n\n                <li class=\"disabled\">\n                    <a href=\"#\">li.disabled a</a>\n                </li>\n\n                <li class=\"divider\"></li>\n\n                <li class=\"dropdown-header\">Dropdown header</li>\n\n                <li>\n                    <a href=\"#\">Separated link</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <h2 id=\"button-groups\">Button groups</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.btn-group</strong></p>\n\n        <div class=\"btn-group\">\n            <button class=\"btn btn-default\" type=\"button\">#1</button>\n            <button class=\"btn btn-default\" type=\"button\">#2</button>\n            <button class=\"btn btn-default\" type=\"button\">#3</button>\n        </div>\n    </div><br>\n\n    <div class=\"js-html-inspector\" data-remove-class-target=\"div.bse-buttons\"\n    data-remove-target=\"p:first\">\n        <p><strong>.btn-toolbar .btn-group</strong></p>\n\n        <div class=\"btn-toolbar bse-buttons\">\n            <!-- Large button group -->\n\n            <div class=\"btn-group btn-group-lg\">\n                <button class=\"btn btn-default\" type=\"button\">.btn-group-lg\n                #1</button> <button class=\"btn btn-default\" type=\n                \"button\">#2</button> <button class=\"btn btn-default\" type=\n                \"button\">#3</button>\n            </div><!-- Small button group -->\n\n            <div class=\"btn-group btn-group-sm\">\n                <button class=\"btn btn-default\" type=\"button\">.btn-group-sm\n                #1</button> <button class=\"btn btn-default\" type=\n                \"button\">#2</button> <button class=\"btn btn-default\" type=\n                \"button\">#3</button>\n            </div><!-- Extra small button group -->\n\n            <div class=\"btn-group btn-group-xs\">\n                <button class=\"btn btn-default\" type=\"button\">.btn-group-xs\n                #1</button> <button class=\"btn btn-default\" type=\n                \"button\">#2</button> <button class=\"btn btn-default\" type=\n                \"button\">#3</button>\n            </div>\n        </div>\n    </div><br>\n\n    <div class=\"btn-toolbar bse-buttons js-html-inspector\">\n        <!-- Button group with dropdown -->\n\n        <div class=\"btn-group\">\n            <button class=\"btn btn-default\" type=\"button\">#1</button>\n            <button class=\"btn btn-default\" type=\"button\">#2</button>\n\n            <div class=\"btn-group\">\n                <button class=\"btn btn-default dropdown-toggle\" data-toggle=\n                \"dropdown\" type=\"button\">button.dropdown-toggle <span class=\n                \"caret\"></span></button>\n\n                <ul class=\"dropdown-menu\">\n                    <li>\n                        <a href=\"#\">Link #1</a>\n                    </li>\n\n                    <li>\n                        <a href=\"#\">Link #2</a>\n                    </li>\n                </ul>\n            </div>\n        </div>&nbsp;\n        <!-- Only .btn-group has left padding inside .btn-toolbar -->\n         <!-- Vertical button group with dropdown -->\n\n        <div class=\"btn-group-vertical\">\n            <button class=\"btn btn-default\" type=\"button\">.btn-group-vertical\n            button</button>\n\n            <div class=\"btn-group\">\n                <button class=\"btn btn-default dropdown-toggle\" data-toggle=\n                \"dropdown\" type=\"button\">Dropdown <span class=\n                \"caret\"></span></button>\n\n                <ul class=\"dropdown-menu\">\n                    <li>\n                        <a href=\"#\">Link #1</a>\n                    </li>\n\n                    <li>\n                        <a href=\"#\">Link #2</a>\n                    </li>\n                </ul>\n            </div><button class=\"btn btn-default\" type=\"button\">#3</button>\n        </div>\n    </div><br>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.btn-group.btn-group-justified</strong></p>\n\n        <div class=\"btn-group btn-group-justified\">\n            <a class=\"btn btn-default\" href=\"#\">#1</a> <a class=\n            \"btn btn-default\" href=\"#\">#2</a> <a class=\"btn btn-default\" href=\n            \"#\">#3</a>\n        </div>\n    </div><br>\n\n    <div class=\"js-html-inspector\" data-remove-class-target=\"div.bse-buttons\"\n    data-remove-target=\"p:first\">\n        <p><strong>.btn-group.dropup</strong></p><!-- Split button dropup -->\n\n        <div class=\"btn-group dropup bse-buttons\">\n            <button class=\"btn btn-default\" type=\"button\">.dropdown-menu\n            &rarr;</button> <button class=\"btn btn-default dropdown-toggle\"\n            data-toggle=\"dropdown\" type=\"button\"><span class=\n            \"caret\"></span></button>\n\n            <ul class=\"dropdown-menu\">\n                <li>\n                    <a href=\"#\">Link #1</a>\n                </li>\n\n                <li>\n                    <a href=\"#\">Link #2</a>\n                </li>\n            </ul>\n        </div><!-- Split button right dropup -->\n\n        <div class=\"btn-group dropup\">\n            <button class=\"btn btn-default\" type=\"button\">.dropdown-menu-right\n            &rarr;</button> <button class=\"btn btn-default dropdown-toggle\"\n            data-toggle=\"dropdown\" type=\"button\"><span class=\n            \"caret\"></span></button>\n\n            <ul class=\"dropdown-menu dropdown-menu-right\">\n                <li>\n                    <a href=\"#\">Link #1</a>\n                </li>\n\n                <li>\n                    <a href=\"#\">Link #2</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <h2 id=\"input-groups\">Input groups</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.input-group</strong></p>\n\n        <div class=\"form-group\">\n            <div class=\"input-group\">\n                <span class=\"input-group-addon\">.input-group-addon</span>\n                <input class=\"form-control\" placeholder=\"input.form-control\"\n                type=\"text\"> <span class=\"input-group-addon\"><input type=\n                \"checkbox\"></span> <span class=\"input-group-addon\"><input type=\n                \"radio\"></span>\n            </div>\n        </div>\n\n        <div class=\"form-group\">\n            <div class=\"input-group\">\n                <input class=\"form-control\" placeholder=\"input.form-control\"\n                type=\"text\"> <span class=\"input-group-btn\"><button class=\n                \"btn btn-default\" type=\"button\"><span class=\n                \"input-group-btn\">.input-group-btn\n                button</span></button></span>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.input-group-lg</strong></p>\n\n        <div class=\"form-group\">\n            <div class=\"input-group input-group-lg\">\n                <span class=\"input-group-addon\">Addon</span> <input class=\n                \"form-control input-lg\" placeholder=\".input-lg\" type=\"text\">\n                <span class=\"input-group-addon\">Addon</span>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.input-group-sm</strong></p>\n\n        <div class=\"form-group\">\n            <div class=\"input-group input-group-sm\">\n                <span class=\"input-group-addon\">Addon</span> <input class=\n                \"form-control input-sm\" placeholder=\".input-sm\" type=\"text\">\n                <span class=\"input-group-addon\">Addon</span>\n            </div>\n        </div>\n    </div>\n\n    <h2 id=\"navs\">Navs</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>ul.nav.nav-tabs</strong></p>\n\n        <ul class=\"nav nav-tabs\">\n            <li class=\"active\">\n                <a href=\"#\">li.active a</a>\n            </li>\n\n            <li class=\"disabled\">\n                <a href=\"#\">li.disabled a</a>\n            </li>\n\n            <li class=\"dropdown\">\n                <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\n                \"#\">li.dropdown <span class=\"caret\"></span></a>\n\n                <ul class=\"dropdown-menu dropdown-menu-right\">\n                    <li>\n                        <a href=\"#\">Link #1</a>\n                    </li>\n\n                    <li>\n                        <a href=\"#\">Link #2</a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target='[\"p:first\",\"br\"]'>\n        <br>\n\n        <p><strong>ul.nav.nav-pills</strong></p>\n\n        <ul class=\"nav nav-pills\">\n            <li class=\"active\">\n                <a href=\"#\">li.active a</a>\n            </li>\n\n            <li class=\"disabled\">\n                <a href=\"#\">li.disabled a</a>\n            </li>\n\n            <li class=\"dropdown\">\n                <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\n                \"#\">li.dropdown <span class=\"caret\"></span></a>\n\n                <ul class=\"dropdown-menu dropdown-menu-right\">\n                    <li>\n                        <a href=\"#\">Link #1</a>\n                    </li>\n\n                    <li>\n                        <a href=\"#\">Link #2</a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target='[\"p:first\",\"br\"]'>\n        <br>\n\n        <p><strong>ul.nav.nav-pills.nav-stacked</strong></p>\n\n        <ul class=\"nav nav-pills nav-stacked\">\n            <li class=\"active\">\n                <a href=\"#\">li.active a <span class=\n                \"badge pull-right\">.badge.pull-right</span></a>\n            </li>\n\n            <li class=\"disabled\">\n                <a href=\"#\">li.disabled a</a>\n            </li>\n\n            <li class=\"dropdown\">\n                <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\n                \"#\">li.dropdown <span class=\"caret\"></span></a>\n\n                <ul class=\"dropdown-menu\">\n                    <li>\n                        <a href=\"#\">Link #1</a>\n                    </li>\n\n                    <li>\n                        <a href=\"#\">Link #2</a>\n                    </li>\n                </ul>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target='[\"p:first\",\"br\"]'>\n        <br>\n\n        <p><strong>ul.nav.nav-tabs.nav-justified</strong></p>\n\n        <ul class=\"nav nav-tabs nav-justified\">\n            <li class=\"active\">\n                <a href=\"#\">li.active a <span class=\"badge\">.badge</span></a>\n            </li>\n\n            <li>\n                <a href=\"#\">Link #2</a>\n            </li>\n\n            <li>\n                <a href=\"#\">Link #3</a>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target='[\"p:first\",\"br\"]'>\n        <br>\n\n        <p><strong>ul.nav.nav-pills.nav-justified</strong></p>\n\n        <ul class=\"nav nav-pills nav-justified\">\n            <li class=\"active\">\n                <a href=\"#\">li.active a <span class=\"badge\">.badge</span></a>\n            </li>\n\n            <li>\n                <a href=\"#\">Link #2</a>\n            </li>\n\n            <li>\n                <a href=\"#\">Link #3</a>\n            </li>\n        </ul>\n    </div>\n\n    <h2 id=\"navbar\">Navbar</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.navbar.navbar-default .container-fluid</strong></p>\n\n        <nav class=\"navbar navbar-default\">\n            <div class=\"container-fluid\">\n                <!-- Brand and toggle get grouped for better mobile display -->\n\n                <div class=\"navbar-header\">\n                    <a class=\"navbar-brand\" href=\"#\">.navbar-header\n                    .navbar-brand</a>\n                </div>\n\n                <ul class=\"nav navbar-nav\">\n                    <li class=\"active\">\n                        <a href=\"#\">ul.nav.navbar-nav li.active a</a>\n                    </li>\n\n                    <li>\n                        <a href=\"#\">Link #2</a>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.navbar.navbar-inverse .container-fluid</strong></p>\n\n        <nav class=\"navbar navbar-inverse\">\n            <div class=\"container-fluid\">\n                <div class=\"navbar-header\">\n                    <a class=\"navbar-brand\" href=\"#\">Brand</a>\n                </div>\n\n                <p class=\"navbar-text\">p.navbar-text <a class=\"navbar-link\"\n                href=\"#\">a.navbar-link</a></p>\n                <!-- Add the .navbar-btn class to <button> elements not residing\n      in a <form> to vertically center them in the navbar. -->\n                <button class=\"btn btn-default navbar-btn\" type=\n                \"button\">.navbar-btn</button> <button class=\n                \"btn btn-default navbar-btn btn-sm\" type=\n                \"button\">.btn-sm</button> <button class=\n                \"btn btn-default navbar-btn btn-xs\" type=\n                \"button\">.btn-xs</button>\n            </div>\n        </nav>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p>Complex navbar with <code>navbar-left</code>,\n        <code>navbar-right</code> and <code>navbar-collapse</code>.</p>\n\n        <nav class=\"navbar navbar-default\">\n            <div class=\"container-fluid\">\n                <div class=\"navbar-header\">\n                    <button class=\"navbar-toggle\" data-target=\n                    \"#navbar-collapse-2\" data-toggle=\"collapse\" type=\n                    \"button\"><span class=\"icon-bar\"></span> <span class=\n                    \"icon-bar\"></span> <span class=\"icon-bar\"></span></button>\n                    <a class=\"navbar-brand\" href=\"#\">Brand</a>\n                </div>\n\n                <div class=\"collapse navbar-collapse\" id=\"navbar-collapse-2\">\n                    <ul class=\"nav navbar-nav\">\n                        <li class=\"dropdown\">\n                            <a class=\"dropdown-toggle\" data-toggle=\"dropdown\"\n                            href=\"#\">Dropdown <b class=\"caret\"></b></a>\n\n                            <ul class=\"dropdown-menu\">\n                                <li>\n                                    <a href=\"#\">Link #1</a>\n                                </li>\n\n                                <li>\n                                    <a href=\"#\">Link #2</a>\n                                </li>\n                            </ul>\n                        </li>\n                    </ul>\n\n                    <form class=\"navbar-form navbar-left\">\n                        <div class=\"form-group\">\n                            <input class=\"form-control\" placeholder=\n                            \".navbar-form.navbar-left\" type=\"text\">\n                        </div><button class=\"btn btn-default\" type=\n                        \"submit\">Submit</button>\n                    </form>\n\n                    <ul class=\"nav navbar-nav navbar-right\">\n                        <li class=\"dropdown\">\n                            <a class=\"dropdown-toggle\" data-toggle=\"dropdown\"\n                            href=\"#\">.navbar-right Dropdown <b class=\n                            \"caret\"></b></a>\n\n                            <ul class=\"dropdown-menu\">\n                                <li>\n                                    <a href=\"#\">Link #1</a>\n                                </li>\n\n                                <li>\n                                    <a href=\"#\">Link #2</a>\n                                </li>\n                            </ul>\n                        </li>\n                    </ul>\n                </div><!-- /.navbar-collapse -->\n            </div>\n        </nav>\n    </div>\n\n    <h2 id=\"breadcrumbs\">Breadcrumbs</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>ol.breadcrumb</strong></p>\n\n        <ol class=\"breadcrumb\">\n            <li>\n                <a href=\"#\">li a</a>\n            </li>\n\n            <li>\n                <a href=\"#\">Link #2</a>\n            </li>\n\n            <li class=\"active\">li.active</li>\n        </ol>\n    </div>\n\n    <h2 id=\"pagination\">Pagination</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"div:first\">\n        <div>\n            <strong>ul.pagination</strong>\n        </div>\n\n        <ul class=\"pagination\">\n            <li>\n                <a href=\"#\">&laquo;</a>\n            </li>\n\n            <li>\n                <a href=\"#\">li a</a>\n            </li>\n\n            <li class=\"active\">\n                <a href=\"#\">li.active a</a>\n            </li>\n\n            <li class=\"disabled\">\n                <a href=\"#\">li.disabled a</a>\n            </li>\n\n            <li>\n                <a href=\"#\">&raquo;</a>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"div:first\">\n        <div>\n            <strong>ul.pagination.pagination-lg</strong>\n        </div>\n\n        <ul class=\"pagination pagination-lg\">\n            <li>\n                <a href=\"#\">&laquo;</a>\n            </li>\n\n            <li>\n                <a href=\"#\">#1</a>\n            </li>\n\n            <li class=\"active\">\n                <a href=\"#\">#2</a>\n            </li>\n\n            <li>\n                <a href=\"#\">#3</a>\n            </li>\n\n            <li>\n                <a href=\"#\">&raquo;</a>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"div:first\">\n        <div>\n            <strong>ul.pagination.pagination-sm</strong>\n        </div>\n\n        <ul class=\"pagination pagination-sm\">\n            <li>\n                <a href=\"#\">&laquo;</a>\n            </li>\n\n            <li>\n                <a href=\"#\">#1</a>\n            </li>\n\n            <li class=\"active\">\n                <a href=\"#\">#2</a>\n            </li>\n\n            <li>\n                <a href=\"#\">#3</a>\n            </li>\n\n            <li>\n                <a href=\"#\">&raquo;</a>\n            </li>\n        </ul>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"div:first\">\n        <div>\n            <strong>ul.pager</strong>\n        </div><!-- Default pager -->\n\n        <ul class=\"pager\">\n            <li>\n                <a href=\"#\">li a \"Previous\"</a>\n            </li>\n\n            <li>\n                <a href=\"#\">li a \"Next\"</a>\n            </li>\n        </ul><!-- Aligned pager links -->\n\n        <ul class=\"pager\">\n            <li class=\"previous\">\n                <a href=\"#\">li.previous a \"&larr; Older\"</a>\n            </li>\n\n            <li class=\"next\">\n                <a href=\"#\">li.next a \"Newer &rarr;\"</a>\n            </li>\n        </ul>\n    </div>\n\n    <h2 id=\"labels\">Labels</h2>\n\n    <p class=\"js-html-inspector\" data-remove-target=\"p:first\"><span class=\n    \"label label-default\">.label.label-default</span> <span class=\n    \"label label-primary\">.label.label-primary</span> <span class=\n    \"label label-success\">.label.label-success</span> <span class=\n    \"label label-info\">.label.label-info</span> <span class=\n    \"label label-warning\">.label.label-warning</span> <span class=\n    \"label label-danger\">.label.label-danger</span></p>\n\n    <h2 id=\"jumbotron\">Jumbotron</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.jumbotron</strong></p>\n\n        <div class=\"jumbotron\">\n            <h1>Heading</h1>\n\n            <p>Paragraph</p>\n\n            <p><a class=\"btn btn-primary\">Button</a></p>\n        </div>\n    </div>\n\n    <h2 id=\"page-header\">Page header</h2>\n\n    <div class=\"js-html-inspector\">\n        <div class=\"page-header\">\n            <h3>.page-header h3 <small>small</small></h3>\n        </div>\n    </div>\n\n    <h2 id=\"thumbnails\">Thumbnails</h2>\n    <!-- @TODO: Use 200x200 images instead of style=\"width: 100%\" -->\n\n    <div class=\"row\">\n        <div class=\"col-sm-3 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>.thumbnail</strong></p>\n\n            <div class=\"thumbnail\">\n                <img alt=\"thumbnail\" src=\n                \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"\n                style=\"width: 100%\">\n\n                <div class=\"caption\">\n                    <h3>.caption h3</h3>\n\n                    <p>Paragraph</p>\n\n                    <p><a class=\"btn btn-default\" href=\"#\">Button</a></p>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"col-sm-3 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>.thumbnail</strong></p>\n\n            <div class=\"thumbnail\">\n                <img alt=\"thumbnail\" src=\n                \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"\n                style=\"width: 100%\">\n\n                <div class=\"caption\">\n                    <h3>Caption</h3>\n\n                    <p>Paragraph</p>\n\n                    <p><a class=\"btn btn-default\" href=\"#\">Button</a></p>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"col-sm-3 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>.thumbnail</strong></p>\n\n            <div class=\"thumbnail\">\n                <img alt=\"thumbnail\" src=\n                \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"\n                style=\"width: 100%\">\n\n                <div class=\"caption\">\n                    <h3>Caption</h3>\n\n                    <p>Paragraph</p>\n\n                    <p><a class=\"btn btn-default\" href=\"#\">Button</a></p>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"col-sm-3 col-xs-6 js-html-inspector\" data-remove-target=\n        \"p:first\">\n            <p><strong>.thumbnail</strong></p>\n\n            <div class=\"thumbnail\">\n                <img alt=\"thumbnail\" src=\n                \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDAiIGhlaWdodD0iMTQwIj48cmVjdCB3aWR0aD0iMTQwIiBoZWlnaHQ9IjE0MCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjcwIiB5PSI3MCIgc3R5bGU9ImZpbGw6I2FhYTtmb250LXdlaWdodDpib2xkO2ZvbnQtc2l6ZToxMnB4O2ZvbnQtZmFtaWx5OkFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO2RvbWluYW50LWJhc2VsaW5lOmNlbnRyYWwiPjE0MHgxNDA8L3RleHQ+PC9zdmc+\"\n                style=\"width: 100%\">\n\n                <div class=\"caption\">\n                    <h3>Caption</h3>\n\n                    <p>Paragraph</p>\n\n                    <p><a class=\"btn btn-default\" href=\"#\">Button</a></p>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <h2 id=\"alerts\">Alerts</h2><!-- Alerts -->\n\n    <div class=\"js-html-inspector\">\n        <!-- The misspelled .alert-dismissable was deprecated in 3.2.0. -->\n\n        <div class=\"alert alert-dismissible\">\n            <button class=\"close\" data-dismiss=\"alert\" type=\n            \"button\">&times;</button> .alert.alert-dismissible\n        </div>\n    </div>\n\n    <div class=\"row js-html-inspector\" data-replace-target=\"&gt; div\">\n        <div class=\"col-sm-6\">\n            <div class=\"alert alert-success\">\n                .alert.alert-success <a class=\"alert-link\" href=\n                \"#\">a.alert-link</a>\n            </div>\n        </div>\n\n        <div class=\"col-sm-6\">\n            <div class=\"alert alert-info\">\n                .alert.alert-info <a class=\"alert-link\" href=\n                \"#\">a.alert-link</a>\n            </div>\n        </div>\n\n        <div class=\"col-sm-6\">\n            <div class=\"alert alert-warning\">\n                .alert.alert-warning <a class=\"alert-link\" href=\n                \"#\">a.alert-link</a>\n            </div>\n        </div>\n\n        <div class=\"col-sm-6\">\n            <div class=\"alert alert-danger\">\n                .alert.alert-danger <a class=\"alert-link\" href=\n                \"#\">a.alert-link</a>\n            </div>\n        </div>\n    </div>\n\n    <h2 id=\"progress-bars\">Progress bars</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.progress</strong></p>\n\n        <div class=\"progress\">\n            <div class=\"progress-bar\" style=\"width: 80%;\">\n                <span>.progress-bar</span>\n            </div>\n        </div>\n\n        <div class=\"progress\">\n            <div class=\"progress-bar progress-bar-success\" style=\"width: 80%;\">\n                <span>.progress-bar.progress-bar-success</span>\n            </div>\n        </div>\n\n        <div class=\"progress\">\n            <div class=\"progress-bar progress-bar-info\" style=\"width: 80%;\">\n                <span>.progress-bar.progress-bar-info</span>\n            </div>\n        </div>\n\n        <div class=\"progress\">\n            <div class=\"progress-bar progress-bar-warning\" style=\"width: 80%;\">\n                <span>.progress-bar.progress-bar-warning</span>\n            </div>\n        </div>\n\n        <div class=\"progress\">\n            <div class=\"progress-bar progress-bar-danger\" style=\"width: 80%;\">\n                <span>.progress-bar.progress-bar-danger</span>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.progress .progress-bar.progress-bar-striped</strong></p>\n\n        <div class=\"progress\">\n            <div class=\"progress-bar progress-bar-striped\" style=\"width: 17%;\">\n            </div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-success\"\n            style=\"width: 17%;\"></div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-info\"\n            style=\"width: 17%;\"></div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-warning\"\n            style=\"width: 17%;\"></div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-danger\"\n            style=\"width: 17%;\"></div>\n        </div>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.progress.active\n        .progress-bar.progress-bar-striped</strong></p>\n\n        <div class=\"progress active\">\n            <div class=\"progress-bar progress-bar-striped\" style=\"width: 17%;\">\n            </div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-success\"\n            style=\"width: 17%;\"></div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-info\"\n            style=\"width: 17%;\"></div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-warning\"\n            style=\"width: 17%;\"></div>\n\n            <div class=\"progress-bar progress-bar-striped progress-bar-danger\"\n            style=\"width: 17%;\"></div>\n        </div>\n    </div>\n\n    <h2 id=\"media-object\">Media object</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"strong:first\">\n        <strong>.media</strong>\n\n        <div class=\"media\">\n            <a class=\"media-left\" href=\"#\"><img alt=\".media-object\" class=\n            \"media-object\" src=\n            \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\"></a>\n\n            <div class=\"media-body\">\n                <h4 class=\"media-heading\">.media-body\n                h4.media-heading</h4>&larr; a.media-left img.media-object\n            </div>\n        </div>\n    </div><br>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <strong>.media</strong>\n\n        <div class=\"media\">\n            <a class=\"media-left media-middle\" href=\"#\"><img alt=\n            \".media-object\" class=\"media-object\" src=\n            \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\"></a>\n\n            <div class=\"media-body\">\n                <h4 class=\"media-heading\">.media-body\n                h4.media-heading</h4>&larr; a.media-left.<span style=\n                \"text-decoration: underline\">media-middle</span>\n                img.media-object\n\n                <div class=\"media\">\n                    <a class=\"media-left\" href=\"#\"><img alt=\".media-object\"\n                    class=\"media-object\" src=\n                    \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\"></a>\n\n                    <div class=\"media-body\">\n                        <h4 class=\"media-heading\">.media .media-body\n                        h4.media-heading</h4>&larr; a.media-left\n                        img.media-object\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div><br>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <strong>ul.media-list</strong>\n\n        <ul class=\"media-list\">\n            <li class=\"media\">\n                <a class=\"media-left media-bottom\" href=\"#\"><img alt=\n                \".media-object\" class=\"media-object\" src=\n                \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\"></a>\n\n                <div class=\"media-body\">\n                    <h4 class=\"media-heading\">li.media .media-body\n                    h4.media-heading</h4>&larr; a.media-left.<span style=\n                    \"text-decoration: underline\">media-bottom</span>\n                    img.media-object\n\n                    <div class=\"media\">\n                        <a class=\"media-left\" href=\"#\"><img alt=\".media-object\"\n                        class=\"media-object\" src=\n                        \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\"></a>\n\n                        <div class=\"media-body\">\n                            <h4 class=\"media-heading\">.media .media-body\n                            h4.media-heading</h4>&larr; a.media-left\n                            img.media-object\n                        </div>\n                    </div>\n                </div>\n            </li>\n\n            <li class=\"media\">\n                <div class=\"media-body\">\n                    <h4 class=\"media-heading\">li.media .media-body\n                    h4.media-heading</h4>a.media-right img.media-object &rarr;\n                </div><a class=\"media-right\" href=\"#\"><img alt=\".media-object\"\n                class=\"media-object\" src=\n                \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCI+PHJlY3Qgd2lkdGg9IjY0IiBoZWlnaHQ9IjY0IiBmaWxsPSIjZWVlIi8+PHRleHQgdGV4dC1hbmNob3I9Im1pZGRsZSIgeD0iMzIiIHk9IjMyIiBzdHlsZT0iZmlsbDojYWFhO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEycHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+NjR4NjQ8L3RleHQ+PC9zdmc+\"></a>\n            </li>\n        </ul>\n    </div>\n\n    <h2 id=\"list-group\">List group</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>ul.list-group</strong></p>\n\n        <ul class=\"list-group\">\n            <li class=\"list-group-item\">li.list-group-item</li>\n\n            <li class=\"list-group-item\">List item #2 <span class=\n            \"badge\">.badge</span></li>\n\n            <li class=\"list-group-item\">List item #3</li>\n        </ul>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-md-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>div.list-group</strong></p>\n\n            <div class=\"list-group\">\n                <a class=\"list-group-item\" href=\"#\">a.list-group-item</a>\n                <a class=\"list-group-item list-group-item-success\" href=\n                \"#\">a.list-group-item.list-group-item-success</a> <a class=\n                \"list-group-item list-group-item-info\" href=\n                \"#\">a.list-group-item.list-group-item-info</a> <a class=\n                \"list-group-item list-group-item-warning\" href=\n                \"#\">a.list-group-item.list-group-item-warning</a> <a class=\n                \"list-group-item list-group-item-danger\" href=\n                \"#\">a.list-group-item.list-group-item-danger</a>\n            </div>\n        </div>\n\n        <div class=\"col-md-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>div.list-group</strong></p>\n\n            <div class=\"list-group\">\n                <a class=\"list-group-item active\" href=\n                \"#\">a.list-group-item.active</a> <a class=\n                \"list-group-item list-group-item-success active\" href=\n                \"#\">a.list-group-item.list-group-item-success.active</a>\n                <a class=\"list-group-item list-group-item-info active\" href=\n                \"#\">a.list-group-item.list-group-item-info.active</a> <a class=\n                \"list-group-item list-group-item-warning active\" href=\n                \"#\">a.list-group-item.list-group-item-warning.active</a>\n                <a class=\"list-group-item list-group-item-danger active\" href=\n                \"#\">a.list-group-item.list-group-item-danger.active</a>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>div.list-group</strong></p>\n\n        <div class=\"list-group\">\n            <a class=\"list-group-item active\" href=\"#\">\n            <h4 class=\"list-group-item-heading\">h4.list-group-item-heading</h4>\n\n            <p class=\"list-group-item-text\">p.list-group-item-text</p></a>\n            <a class=\"list-group-item\" href=\"#\">\n            <h4 class=\"list-group-item-heading\">List group item heading</h4>\n\n            <p class=\"list-group-item-text\">Paragraph</p></a>\n        </div>\n    </div>\n\n    <h2 id=\"panels\">Panels</h2>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.panel.panel-default</strong></p>\n\n        <div class=\"panel panel-default\">\n            <div class=\"panel-heading\">\n                .panel-heading\n            </div>\n\n            <div class=\"panel-heading\">\n                <h3 class=\"panel-title\">.panel-heading h3.panel-title</h3>\n            </div>\n\n            <div class=\"panel-body\">\n                .panel-body\n            </div>\n\n            <div class=\"panel-footer\">\n                .panel-footer\n            </div>\n        </div>\n    </div>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.panel.panel-primary</strong></p>\n\n        <div class=\"panel panel-primary\">\n            <div class=\"panel-heading\">\n                .panel-heading\n            </div>\n\n            <div class=\"panel-body\">\n                .panel-body\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.panel.panel-success</strong></p>\n\n            <div class=\"panel panel-success\">\n                <div class=\"panel-heading\">\n                    .panel-heading\n                </div>\n\n                <div class=\"panel-body\">\n                    .panel-body\n                </div>\n            </div>\n        </div>\n\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.panel.panel-info</strong></p>\n\n            <div class=\"panel panel-info\">\n                <div class=\"panel-heading\">\n                    .panel-heading\n                </div>\n\n                <div class=\"panel-body\">\n                    .panel-body\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"row\">\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.panel.panel-warning (with table)</strong></p>\n\n            <div class=\"panel panel-warning\">\n                <div class=\"panel-heading\">\n                    .panel-heading\n                </div>\n\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            <th>Header</th>\n\n                            <th>Header</th>\n\n                            <th>Header</th>\n                        </tr>\n                    </thead>\n\n                    <tbody>\n                        <tr>\n                            <td>Data</td>\n\n                            <td>Data</td>\n\n                            <td>Data</td>\n                        </tr>\n\n                        <tr>\n                            <td>Data</td>\n\n                            <td>Data</td>\n\n                            <td>Data</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </div>\n        </div>\n\n        <div class=\"col-sm-6 js-html-inspector\" data-remove-target=\"p:first\">\n            <p><strong>.panel.panel-danger (with list group)</strong></p>\n\n            <div class=\"panel panel-danger\">\n                <div class=\"panel-heading\">\n                    .panel-heading\n                </div>\n\n                <ul class=\"list-group\">\n                    <li class=\"list-group-item\">List item</li>\n\n                    <li class=\"list-group-item\">List item</li>\n\n                    <li class=\"list-group-item\">List item</li>\n                </ul>\n            </div>\n        </div>\n    </div>\n\n    <h2 id=\"wells\">Wells</h2>\n\n    <div class=\"row js-html-inspector\" data-replace-target=\"&gt; div\">\n        <div class=\"col-sm-4\">\n            <div class=\"well well-lg\">\n                .well.well-lg\n            </div>\n        </div>\n\n        <div class=\"col-sm-4\">\n            <div class=\"well\">\n                .well\n            </div>\n        </div>\n\n        <div class=\"col-sm-4\">\n            <div class=\"well well-sm\">\n                .well.well-sm\n            </div>\n        </div>\n    </div>\n\n    <h1 class=\"page-header\" id=\"javascript\">Javascript</h1>\n\n    <h2 id=\"js-modals\">Modals</h2>\n\n    <p class=\"bse-buttons\">Via data attributes:\n    <code>data-toggle=\"modal\"</code> <code>data-target=\"#modal\"</code>\n    <a class=\"btn btn-primary\" data-toggle=\"modal\" href=\"#modal\">Launch\n    modal</a></p>\n\n    <p class=\"bse-buttons\">Via Javascript: <code>$('#modal').modal()</code>\n    <a class=\"btn btn-primary\" href=\"#\" onclick=\n    \"$('#modal').modal(); return false;\">Launch modal</a></p>\n\n    <div>\n        <a class=\"btn btn-primary\" data-toggle=\"modal\" href=\"#modal-lg\">Large\n        modal</a> <a class=\"btn btn-primary\" data-toggle=\"modal\" href=\n        \"#modal-sm\">Small modal</a>\n    </div><!-- Static modal example -->\n\n    <div class=\"js-html-inspector\" data-remove-target='[\"p:first\",\"span\"]'>\n        <!-- Only use inline style for static display -->\n\n        <div class=\"modal\" style=\n        \"display: block; position: static; overflow: hidden;\">\n            <div class=\"modal-dialog\">\n                <p><strong>.modal .modal-dialog .modal-content</strong></p>\n\n                <div class=\"modal-content\">\n                    <div class=\"modal-header\">\n                        <button class=\"close\" type=\"button\">&times;</button>\n\n                        <h4 class=\"modal-title\">.modal-header\n                        h4.modal-title</h4>\n                    </div>\n\n                    <div class=\"modal-body\">\n                        .modal-body\n                    </div>\n\n                    <div class=\"modal-footer\">\n                        <span>.modal-footer</span> <button class=\n                        \"btn btn-default\" data-dismiss=\"modal\" type=\n                        \"button\">Close</button> <button class=\"btn btn-primary\"\n                        type=\"button\">Button</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <p>Options: <code>backdrop: true|false|'static'</code> <code>keyboard:\n    true|false</code> <code>show: true|false</code> <code>remote:\n    false|path</code></p>\n\n    <p>Methods: <code>.modal('toggle')</code> <code>.modal('show')</code>\n    <code>.modal('hide')</code></p>\n\n    <p>Events: <code>show.bs.modal</code> <code>shown.bs.modal</code>\n    <code>hide.bs.modal</code> <code>hidden.bs.modal</code>\n    <code>loaded.bs.modal</code></p><!-- Default modal -->\n\n    <div class=\"modal fade\" id=\"modal\">\n        <div class=\"modal-dialog\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <button class=\"close\" data-dismiss=\"modal\" type=\n                    \"button\">&times;</button>\n\n                    <h4 class=\"modal-title\">.modal-title</h4>\n                </div>\n\n                <div class=\"modal-body\">\n                    .modal-body\n                </div>\n\n                <div class=\"modal-footer\">\n                    <button class=\"btn btn-default\" data-dismiss=\"modal\" type=\n                    \"button\">Close</button> <button class=\"btn btn-primary\"\n                    type=\"button\">Button</button>\n                </div>\n            </div>\n        </div>\n    </div><!-- Optional sizes -->\n\n    <div class=\"modal fade\" id=\"modal-lg\">\n        <div class=\"modal-dialog modal-lg\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <button class=\"close\" data-dismiss=\"modal\" type=\n                    \"button\">&times;</button>\n\n                    <h4 class=\"modal-title\">.modal-title</h4>\n                </div>\n\n                <div class=\"modal-body\">\n                    .modal-body\n                </div>\n\n                <div class=\"modal-footer\">\n                    <button class=\"btn btn-default\" data-dismiss=\"modal\" type=\n                    \"button\">Close</button> <button class=\"btn btn-primary\"\n                    type=\"button\">Button</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"modal fade\" id=\"modal-sm\">\n        <div class=\"modal-dialog modal-sm\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <button class=\"close\" data-dismiss=\"modal\" type=\n                    \"button\">&times;</button>\n\n                    <h4 class=\"modal-title\">.modal-title</h4>\n                </div>\n\n                <div class=\"modal-body\">\n                    .modal-body\n                </div>\n\n                <div class=\"modal-footer\">\n                    <button class=\"btn btn-default\" data-dismiss=\"modal\" type=\n                    \"button\">Close</button> <button class=\"btn btn-primary\"\n                    type=\"button\">Button</button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <h2 id=\"js-dropdowns\">Dropdowns</h2>\n\n    <p>Via data attributes: <code>data-toggle=\"dropdown\"</code></p>\n\n    <div class=\"js-html-inspector\">\n        <div class=\"dropdown\">\n            <a class=\"btn btn-primary\" data-toggle=\"dropdown\" href=\"#\">Dropdown\n            trigger</a>\n\n            <ul class=\"dropdown-menu\">\n                <li>\n                    <a href=\"#\">Link #1</a>\n                </li>\n\n                <li>\n                    <a href=\"#\">Link #2</a>\n                </li>\n            </ul>\n        </div>\n    </div>\n\n    <p><br>\n    Via Javascript:\n    <code>$('.dropdown-toggle').dropdown()</code>(<code>data-toggle=\"dropdown\"</code>\n    still required)</p>\n\n    <p>Methods: <code>.dropdown('toggle')</code></p>\n\n    <p>Events: <code>show.bs.dropdown</code> <code>shown.bs.dropdown</code>\n    <code>hide.bs.dropdown</code> <code>hidden.bs.dropdown</code></p>\n\n    <h2 id=\"js-tabs\">Tabs</h2>\n\n    <p>Via data attributes: <code>data-toggle=\"tab\"</code></p>\n\n    <div class=\"js-html-inspector\">\n        <ul class=\"nav nav-tabs\">\n            <li class=\"active\">\n                <a data-toggle=\"tab\" href=\"#js-tab-pane1\">Tab #1</a>\n            </li>\n\n            <li>\n                <a data-toggle=\"tab\" href=\"#js-tab-pane2\">Tab #2</a>\n            </li>\n        </ul>\n\n        <div class=\"tab-content\">\n            <div class=\"tab-pane active\" id=\"js-tab-pane1\">\n                <p>Content #1: .table-content .tab-pane.active</p>\n            </div>\n\n            <div class=\"tab-pane\" id=\"js-tab-pane2\">\n                <p>Content #2: .table-content .tab-pane</p>\n            </div>\n        </div>\n    </div>\n\n    <p>Via Javascript: <code>$(this).tab('show')</code></p>\n\n    <div class=\"js-html-inspector\">\n        <ul class=\"nav nav-tabs\">\n            <li class=\"active\">\n                <a href=\"#js-tab-pane3\" onclick=\n                \"$(this).tab('show'); return false;\">Tab #1</a>\n            </li>\n\n            <li>\n                <a href=\"#js-tab-pane4\" onclick=\n                \"$(this).tab('show'); return false;\">Tab #2</a>\n            </li>\n        </ul>\n\n        <div class=\"tab-content\">\n            <div class=\"tab-pane fade in active\" id=\"js-tab-pane3\">\n                <p>Content #1: .table-content .tab-pane.fade.in.active</p>\n            </div>\n\n            <div class=\"tab-pane fade\" id=\"js-tab-pane4\">\n                <p>Content #2: .table-content .tab-pane.fade</p>\n            </div>\n        </div>\n    </div>\n\n    <p>Events: <code>show.bs.tab</code> <code>shown.bs.tab</code></p>\n\n    <h2 id=\"js-tooltips\">Tooltips</h2>\n\n    <p>Usage: <code>$('[data-toggle=\"tooltip\"]').tooltip()</code></p>\n\n    <div class=\"text-center js-html-inspector\">\n        <button class=\"btn btn-primary\" data-placement=\"left\" data-toggle=\n        \"tooltip\" title=\"[title]\" type=\"button\">Left</button> <button class=\n        \"btn btn-primary\" data-placement=\"top\" data-toggle=\"tooltip\" title=\n        \"[title]\" type=\"button\">Top</button> <button class=\"btn btn-primary\"\n        data-placement=\"bottom\" data-toggle=\"tooltip\" title=\"[title]\" type=\n        \"button\">Bottom</button> <button class=\"btn btn-primary\"\n        data-placement=\"right\" data-toggle=\"tooltip\" title=\"[title]\" type=\n        \"button\">Right</button>\n    </div>\n\n    <div class=\"text-center js-html-inspector\">\n        <!-- Static tooltip -->\n\n        <div class=\"tooltip bottom\" style=\n        \"display: inline-block; position: relative; opacity: 1; filter: alpha(opacity=100); z-index: 1000;\">\n        <div class=\"tooltip-inner\">\n                You must initialize them yourself\n            </div>\n\n            <div class=\"tooltip-arrow\"></div>\n        </div>\n    </div>\n\n    <p>Options: <code>animation: true|false</code> <code>html:\n    false|true</code> <code>selector: false|string</code><br>\n    <code>title: ''|function</code> <code>container: false|string</code><br>\n    <code>placement: top|location|auto|function</code><br>\n    <code>trigger: hover focus|click|manual</code><br>\n    <code>delay: 0|{show:500, hide:100}</code></p>\n\n    <p>Methods: <code>.tooltip('show')</code> <code>.tooltip('hide')</code>\n    <code>.tooltip('toggle')</code> <code>.tooltip('destroy')</code></p>\n\n    <p>Events: <code>show.bs.tooltip</code> <code>shown.bs.tooltip</code>\n    <code>hide.bs.tooltip</code> <code>hidden.bs.tooltip</code></p>\n\n    <h2 id=\"js-popovers\">Popovers</h2>\n\n    <p>Usage: <code>$('[data-toggle=\"popover\"]').popover()</code></p>\n\n    <div class=\"text-center js-html-inspector\">\n        <button class=\"btn btn-primary\" data-content=\"[data-content]\"\n        data-placement=\"left\" data-toggle=\"popover\" title=\"[title]\" type=\n        \"button\">Left</button> <button class=\"btn btn-primary\" data-content=\n        \"[data-content]\" data-placement=\"top\" data-toggle=\"popover\" title=\n        \"[title]\" type=\"button\">Top</button> <button class=\"btn btn-primary\"\n        data-content=\"[data-content]\" data-placement=\"bottom\" data-toggle=\n        \"popover\" title=\"[title]\" type=\"button\">Bottom</button> <button class=\n        \"btn btn-primary\" data-content=\"[data-content]\" data-placement=\"right\"\n        data-toggle=\"popover\" title=\"[title]\" type=\"button\">Right</button>\n    </div>\n\n    <div class=\"text-center js-html-inspector\">\n        <!-- Static popover -->\n\n        <div class=\"popover bottom\" style=\n        \"display: inline-block; position: relative; z-index: 1000;\">\n            <div class=\"arrow\"></div>\n\n            <h3 class=\"popover-title\">Popover</h3>\n\n            <div class=\"popover-content\">\n                <p>You must initialize them yourself</p>\n            </div>\n        </div>\n    </div>\n\n    <p><br>\n    Options: <code>animation: true|false</code> <code>html: false|true</code>\n    <code>selector: false|string</code><br>\n    <code>title: ''|function</code> <code>content: ''|function</code>\n    <code>container: false|string</code><br>\n    <code>placement: right|location|auto|function</code><br>\n    <code>trigger: click|hover|focus|manual</code><br>\n    <code>delay: 0|{show:500, hide:100}</code></p>\n\n    <p>Methods: <code>.popover('show')</code> <code>.popover('hide')</code>\n    <code>.popover('toggle')</code> <code>.popover('destroy')</code></p>\n\n    <p>Events: <code>show.bs.popover</code> <code>shown.bs.popover</code>\n    <code>hide.bs.popover</code> <code>hidden.bs.popover</code></p>\n\n    <h2 id=\"js-alerts\">Alerts</h2>\n\n    <p>Via data attributes (close button):\n    <code>data-dismiss=\"alert\"</code></p>\n\n    <div class=\"js-html-inspector\">\n        <div class=\"alert alert-danger fade in\">\n            <button class=\"close\" data-dismiss=\"alert\" type=\n            \"button\">&times;</button> .alert.alert-danger.fade.in\n        </div>\n    </div>\n\n    <p>Via Javascript: <code>$('.alert').alert()</code></p>\n\n    <p>Methods: <code>.alert('close')</code></p>\n\n    <p>Events: <code>close.bs.alert</code> <code>closed.bs.alert</code></p>\n\n    <h2 id=\"js-buttons\">Buttons</h2>\n\n    <p>Stateful button: <code>data-loading-text=\"Loading...\"</code>\n    <code>data-complete-text=\"Completed\"</code></p>\n\n    <div class=\"bse-buttons js-html-inspector\">\n        <button class=\"btn btn-primary\" data-complete-text=\"Completed\"\n        data-loading-text=\"Loading...\" id=\"stateful\" onclick=\n        \"$(this).button('loading').siblings().prop('disabled', false);\" type=\n        \"button\">$('#stateful').button('loading')</button> <button class=\n        \"btn btn-primary\" disabled onclick=\n        \"$(this).prop('disabled', true); $('#stateful').button('complete');\"\n        type=\"button\">$('#stateful').button('complete')</button> <button class=\n        \"btn btn-primary\" disabled onclick=\n        \"$('#stateful').button('reset').siblings().prop('disabled', true);\"\n        type=\"button\">$('#stateful').button('reset')</button>\n    </div><br>\n\n    <div class=\"js-html-inspector\">\n        Single toggle: <button class=\"btn btn-primary\" data-toggle=\"button\"\n        type=\"button\">[data-toggle=\"button\"]</button>\n    </div><br>\n\n    <div class=\"bse-buttons js-html-inspector\">\n        Checkbox: <code>data-toggle=\"buttons\"</code>\n\n        <div class=\"btn-group\" data-toggle=\"buttons\">\n            <label class=\"btn btn-primary\"><input type=\"checkbox\"> #1</label>\n            <label class=\"btn btn-primary\"><input type=\"checkbox\"> #2</label>\n            <label class=\"btn btn-primary disabled\"><input type=\"checkbox\">\n            Disabled</label> <label class=\"btn btn-primary\"><input type=\n            \"checkbox\"> #4</label>\n        </div>\n    </div><br>\n\n    <div class=\"bse-buttons js-html-inspector\">\n        Radio: <code>data-toggle=\"buttons\"</code>\n\n        <div class=\"btn-group\" data-toggle=\"buttons\">\n            <label class=\"btn btn-primary\"><input checked name=\n            \"optionsRadiosJS\" type=\"radio\" value=\"option1\"> #1</label>\n            <label class=\"btn btn-primary\"><input name=\"optionsRadiosJS\" type=\n            \"radio\" value=\"option2\"> #2</label> <label class=\n            \"btn btn-primary disabled\"><input name=\"optionsRadiosJS\" type=\n            \"radio\" value=\"option3\"> Disabled</label> <label class=\n            \"btn btn-primary\"><input name=\"optionsRadiosJS\" type=\"radio\" value=\n            \"option2\"> #4</label>\n        </div>\n    </div><br>\n\n    <p>Methods: <code>.button('toggle')</code> <code>.button('loading')</code>\n    <code>.button('reset')</code> <code>.button(string)</code></p>\n\n    <h2 id=\"js-collapse\">Collapse</h2>\n\n    <p>Via data attributes: <code>data-toggle=\"collapse\"</code></p>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>#accordion.panel-group</strong></p>\n\n        <div class=\"panel-group\" id=\"accordion\">\n            <div class=\"panel panel-primary\">\n                <div class=\"panel-heading\">\n                    <h4 class=\"panel-title\"><a class=\"accordion-toggle\"\n                    data-parent=\"#accordion\" data-toggle=\"collapse\" href=\n                    \"#collapse-1\">data-toggle=\"collapse\"\n                    data-parent=\"#accordion\" href=\"#collapse-1\"</a></h4>\n                </div>\n\n                <div class=\"panel-collapse collapse in\" id=\"collapse-1\">\n                    <div class=\"panel-body\">\n                        #collapse-1.collapse.in\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"panel panel-primary\">\n                <div class=\"panel-heading\">\n                    <h4 class=\"panel-title\"><a class=\"accordion-toggle\"\n                    data-parent=\"#accordion\" data-toggle=\"collapse\" href=\n                    \"#collapse-2\">data-toggle=\"collapse\"\n                    data-parent=\"#accordion\" href=\"#collapse-2\"</a></h4>\n                </div>\n\n                <div class=\"panel-collapse collapse\" id=\"collapse-2\">\n                    <div class=\"panel-body\">\n                        #collapse-2.collapse\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <p>Via Javascript: <code>$(\".collapse\").collapse()</code></p>\n\n    <p>Options: <code>parent: false|selector</code> <code>toggle:\n    true|false</code></p>\n\n    <p>Methods: <code>.collapse('toggle')</code> <code>.collapse('show')</code>\n    <code>.collapse('hide')</code></p>\n\n    <p>Events: <code>show.bs.collapse</code> <code>shown.bs.collapse</code>\n    <code>hide.bs.collapse</code> <code>hidden.bs.collapse</code></p>\n\n    <h2 id=\"js-carousel\">Carousel</h2>\n\n    <p>Via data attributes: <code>data-target=\"#carousel\"</code>\n    <code>data-slide</code> <code>data-slide-to</code>\n    <code>data-ride</code></p>\n\n    <p>Via Javascript: <code>$('.carousel').carousel()</code></p>\n\n    <div class=\"js-html-inspector\" data-remove-target=\"p:first\">\n        <p><strong>.carousel.slide</strong></p>\n\n        <div class=\"carousel slide\" id=\"carousel\">\n            <!-- Indicators -->\n\n            <ol class=\"carousel-indicators\">\n                <li class=\"active\" data-slide-to=\"0\" data-target=\"#carousel\">\n                </li>\n\n                <li data-slide-to=\"1\" data-target=\"#carousel\"></li>\n\n                <li data-slide-to=\"2\" data-target=\"#carousel\"></li>\n            </ol><!-- Wrapper for slides -->\n\n            <div class=\"carousel-inner\">\n                <div class=\"item active\">\n                    <img alt=\"First slide\" src=\n                    \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MDAiIGhlaWdodD0iNTAwIj48cmVjdCB3aWR0aD0iOTAwIiBoZWlnaHQ9IjUwMCIgZmlsbD0iIzc3NyIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjQ1MCIgeT0iMjUwIiBzdHlsZT0iZmlsbDojNTU1O2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjU2cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+Rmlyc3Qgc2xpZGU8L3RleHQ+PC9zdmc+\">\n\n                    <div class=\"carousel-caption\">\n                        <h3>.carousel-caption h3</h3>\n\n                        <p>Paragraph</p>\n                    </div>\n                </div>\n\n                <div class=\"item\">\n                    <a href=\"#\"><img alt=\"Second slide\" src=\n                    \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MDAiIGhlaWdodD0iNTAwIj48cmVjdCB3aWR0aD0iOTAwIiBoZWlnaHQ9IjUwMCIgZmlsbD0iIzY2NiIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjQ1MCIgeT0iMjUwIiBzdHlsZT0iZmlsbDojNDQ0O2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjU2cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+U2Vjb25kIHNsaWRlPC90ZXh0Pjwvc3ZnPg==\"></a>\n                </div>\n\n                <div class=\"item\">\n                    <a href=\"#\"><img alt=\"Third slide\" src=\n                    \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5MDAiIGhlaWdodD0iNTAwIj48cmVjdCB3aWR0aD0iOTAwIiBoZWlnaHQ9IjUwMCIgZmlsbD0iIzU1NSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjQ1MCIgeT0iMjUwIiBzdHlsZT0iZmlsbDojMzMzO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjU2cHg7Zm9udC1mYW1pbHk6QXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7ZG9taW5hbnQtYmFzZWxpbmU6Y2VudHJhbCI+VGhpcmQgc2xpZGU8L3RleHQ+PC9zdmc+\"></a>\n                </div>\n            </div><!-- Controls -->\n            <a class=\"left carousel-control\" data-slide=\"prev\" href=\n            \"#carousel\"><span class=\"icon-prev\"></span></a> <a class=\n            \"right carousel-control\" data-slide=\"next\" href=\n            \"#carousel\"><span class=\"icon-next\"></span></a>\n        </div>\n    </div><br>\n\n    <p>Options: <code>interval: 5000</code> <code>pause: hover</code>\n    <code>wrap: true|false</code></p>\n\n    <p>Methods: <code>.carousel('cycle')</code> <code>.carousel('pause')</code>\n    <code>.carousel(number)</code> <code>.carousel('prev')</code>\n    <code>.carousel('next')</code></p>\n\n    <p>Events: <code>slide.bs.carousel</code> <code>slid.bs.carousel</code></p>\n</luci-layout-single-column>\n","plugins/core/pages/login.html":"<luci-layout-naked>\n\t<div ng-controller=\"LoginPageCtrl\">\n\t\t<table class=\"table\">\n\t\t\t<tr>\n\t\t\t\t<td class=\"col-md-4\"></td>\n\t\t\t\t<td class=\"col-md-4\"><luci-login></luci-login></td>\n\t\t\t\t<td class=\"col-md-4\"></td></tr>\n\t\t</table>\n\t</div>\n</luci-layout-naked>\n","plugins/core/pages/overview.html":"<luci-layout-single-column>\n\t<div ng-controller=\"OverviewPageCtrl\">\n\t\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-4 visible-lg\" ng-show=\"dsl.mode != ''\">\n\t\t\t\t<div style=\"position: relative;\">\n\t\t\t\t\t<span ng-show=\"dsl.max_rate_down\" style=\"position: absolute; left: 250px; top: 100px; white-space: nowrap; font-family: 'vodafont';\">{{dsl.max_rate_down}} Mbit/s</span>\n\t\t\t\t\t<span ng-show=\"dsl.max_rate_up\" style=\"position: absolute; left: 250px; top: 130px; white-space: nowrap; font-family: 'vodafont';\">{{dsl.max_rate_up}} Mbit/s</span>\n\t\t\t\t\t<div style=\"position: absolute; width: 110px; height: 1px; background-color: #a9b300; left: 220px; top: 126px;\"></div>\n\t\t\t\t\t<div style=\"position: absolute; width: 60px; height: 30px; background-color: #a9b300; left: 164px; top: 112px; border-radius: 20px; color: white; padding: 3px 0px; text-align: center;\">{{wan_type}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-lg-4\">\n\t\t\t\t\t<center>\n\t\t\t\t\t\t<img style=\"width: 300px;\" ng-src=\"/img/hardware/{{config.system.hardware}}.jpg\" usemap=\"#routerBot\" alt=\"Router\"/>\n\t\t\t\t\t</center>\n\t\t\t</div> \n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-lg-12 visible-lg\"> \n\t\t\t\t<center style=\"position:relative; font-size: 3em; color: #00b0c9; \">\n\t\t\t\t\t<img ng-src=\"themes/vodafone/img/overview-background.jpg\" id=\"Image-Maps-Com-image-maps-2015-04-08-032815\" usemap=\"#image-maps-2015-04-08-032815\" alt=\"Router\">\n\t\t\t\t\t<div style=\"position: absolute; top: 70px; left: 100px; text-align: center; width: 60px;\">{{wireless.clients.length}}</div>\n\t\t\t\t\t<div style=\"position: absolute; top: 70px; left: 450px; text-align: center; width: 60px;\">{{network.clients.length}}</div>\n\t\t\t\t\t<div style=\"position: absolute; top: 70px; left: 795px; text-align: center; width: 60px;\">{{sipAccounts.length||0}}</div>\n\t\t\t\t</center>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-4\">\n\t\t\t\t<center><h3 style=\"color: #00b0c9\"><i class=\"fa fa-wifi\"></i> WiFi</h3></center>\n\t\t\t\t<table class=\"table\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class=\"col-xs-2\"><i class=\"fa fa-calendar fa-2x\"></i></div>\n\t\t\t\t\t\t\t<div class=\"col-xs-8\">\n\t\t\t\t\t\t\t\t<a class=\"overview-list-item-text\" href=\"#!/wifi-schedule\"><strong>{{'Schedule'|translate}}</strong></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-xs-2\">\n\t\t\t\t\t\t\t\t<a class=\"label label-{{(wifi.status.schedule.value)?'success':'default'}} pull-right overview-list-item-label\" href=\"\" ng-click=\"onWIFISchedToggle()\"><strong>{{wifiSchedStatus| translate}}</strong></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class=\"col-xs-2\"><i class=\"fa fa-wifi fa-2x\"></i></div>\n\t\t\t\t\t\t\t<div class=\"col-xs-8\">\n\t\t\t\t\t\t\t\t<a class=\"overview-list-item-text\" href=\"#!/wifi-wps\"><strong>WPS</strong></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-xs-2\">\n\t\t\t\t\t\t\t\t<a class=\"label label-{{(wifi.status.wps.value)?'success':'default'}} pull-right overview-list-item-label\" href=\"\" ng-click=\"onWPSToggle()\"><strong>{{wifiWPSStatus | translate}}</strong></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr ng-repeat=\"client in wireless.clients\">\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<div class=\"col-xs-2\"><i class=\"fa fa-desktop fa-2x\"></i></div>\n\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">{{client.hostname}}<br/>{{client.ipaddr}}</div>\n\t\t\t\t\t\t\t\t<div ng-show=\"client.connected\" class=\"col-xs-2\" style=\"color: #a9b400;\">\n\t\t\t\t\t\t\t\t\t<wifi-signal-indicator ng-model=\"client.snr\"></wifi-signal-indicator>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-show=\"!client.connected\" class=\"col-xs-2\" style=\"color:#eee;\"><i class=\"fa fa-signal fa-2x\"></i></div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t\t<section ng-show=\"wireless.guest_clients.length > 0\">\n\t\t\t\t\t<center><h3 style=\"color: #00b0c9\">Guest WiFi</h3></center>\n\t\t\t\t\t<table class=\"table\">\n\t\t\t\t\t\t<tr ng-repeat=\"client in wireless.guest_clients\">\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<div class=\"col-xs-2\"><i class=\"fa fa-desktop fa-2x\"></i></div>\n\t\t\t\t\t\t\t\t<div class=\"col-xs-8\">{{client.hostname}}<br/>{{client.ipaddr}}</div>\n\t\t\t\t\t\t\t\t<div ng-show=\"client.connected\" class=\"col-xs-2\" style=\"color: #a9b400\"><i class=\"fa fa-signal fa-2x\"></i></div>\n\t\t\t\t\t\t\t\t<div ng-show=\"!client.connected\" class=\"col-xs-2\" style=\"color: #eee\"><i class=\"fa fa-signal fa-2x\"></i></div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</table>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t\t<div class=\"col-md-4\">\n\t\t\t\t<center><h3 style=\"color: #00b0c9\"><i class=\"fa fa-globe\"></i> Network</h3></center>\n\t\t\t\t<table class=\"table\">\n\t\t\t\t\t<tr ng-repeat=\"client in network.clients\">\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class=\"col-xs-2\"><i class=\"fa fa-laptop fa-2x\"></i></div>\n\t\t\t\t\t\t\t<div class=\"col-xs-8\">{{client.hostname || defaultHostName}}<br/>{{client.ipaddr}}</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class=\"col-md-4\">\n\t\t\t\t<center><h3 style=\"color: #00b0c9\"><i class=\"fa fa-phone\"></i> Phone</h3></center>\n\t\t\t\t<table class=\"table\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<div class=\"col-xs-2\"><i class=\"fa fa-calendar fa-2x\"></i></div>\n\t\t\t\t\t\t\t<div class=\"col-xs-8\">\n\t\t\t\t\t\t\t\t<a class=\"overview-list-item-text\" href=\"#!/phone-ringing-schedule\"><strong>{{'Schedule'|translate}}</strong></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-xs-2\">\n\t\t\t\t\t\t\t\t<a class=\"label label-{{(voice_client.RINGING_STATUS.enabled.value)?'success':'default'}} pull-right overview-list-item-label\" href=\"\" ng-click=\"onPhoneToggle()\"><strong>{{phoneSchedStatus | translate}}</strong></a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr ng-repeat=\"sip in sipAccounts track by $index\">\n\t\t\t\t\t\t<td >\n\t\t\t\t\t\t\t<div class=\"col-xs-2\"><strong>S{{$index|uppercase}}: </strong></div>\n\t\t\t\t\t\t\t<div class=\"col-xs-8\"><strong>{{sip.user.value||'Unknown'}}</strong></div>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\n\t</div>\n</luci-layout-single-column>\n","plugins/core/widgets/core.modal.html":"<div class=\"modal fade\"> \n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div class=\"modal-header\">\n\t\t\t\t<button ng-hide=\"hideCloseBtn\" type=\"button\" class=\"close\" ng-click=\"onDismiss()\" aria-hidden=\"true\">&times;</button>\n\t\t\t\t<h3 class=\"modal-title\">{{title|translate}}</h3>\n\t\t\t</div>\n\t\t\t<div ng-show=\"formIncluded\" ng-transclude></div>\n\t\t\t<div ng-hide=\"formIncluded\" class=\"modal-body\" ng-transclude></div>\n\t\t\t<div ng-hide=\"formIncluded\" class=\"modal-footer\">\n\t\t\t\t<button class=\"btn btn-primary\" ng-show=\"acceptLabel\" ng-click=\"onAccept()\">{{acceptLabel}}</button>\n\t\t\t\t<button class=\"btn btn-default\" ng-show=\"dismissLabel\" ng-click=\"onDismiss()\">{{dismissLabel}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","plugins/core/widgets/luci.brightness.html":"<div class=\"row\">\n\t<div class=\"col-md-2\"><button class=\"btn btn-sm btn-default pull-right\" ng-click=\"onDecrease()\"><i class=\"fa fa-arrow-circle-left \"></i></button></div>\n\t<div class=\"col-md-8\">\n\t\t<div ng-repeat=\"bar in bars\" ng-click=\"onBarClick(bar)\" style=\"width: 20%; float: left; height: 30px; background-color: #{{bar.color}};\"></div>\n\t</div> \n\t<div class=\"col-md-2\"><button class=\"btn btn-sm btn-default pull-left\" ng-click=\"onIncrease()\"><i class=\"fa fa-arrow-circle-right\"></i></button></div>\n</div>\n","plugins/core/widgets/luci.errors.html":"<div class=\"alert alert-danger\" ng-show=\"errors.length\">\n\t<ul>\n\t\t<li ng-repeat=\"err in errors track by $index\"><!--<button class=\"btn btn-default pull-right\" >Hide</button>-->{{(err.message||err)}}<div style=\"clear: both;\"></div></li>\n\t</ul>\n</div>\n","plugins/core/widgets/luci.expandable.html":"<div class=\"panel panel-default\">\n\t<div class=\"panel-heading\">\n\t\t<div class=\"btn-group pull-right\">\n\t\t\t<span ng-show=\"status == 'ok'\" class=\"btn pull-right\"><i style=\"color: green;\" class=\"fa fa-check-circle fa-2x\"></i></span>\n\t\t\t<span ng-show=\"status == 'disabled'\" class=\"btn pull-right\"><i style=\"color: gray;\" class=\"fa fa-times-circle fa-2x\"></i></span>\n\t\t\t<span ng-show=\"status == 'progress'\" class=\"btn pull-right\"><i style=\"color: orange;\" class=\"fa fa-spinner fa-2x fa-spin\"></i></span>\n\t\t\t<span ng-show=\"status == 'error'\" class=\"btn pull-right\"><i style=\"color: red;\" class=\"fa fa-exclamation-circle fa-2x\"></i></span>\n\t\t</div>\n\t\t<h3 class=\"panel-title\" style=\"font-size: 1.5em; padding-top: 0.4em; font-weight: bold; font-family: 'vodafont';\">\n\t\t\t{{title | translate}}\n\t\t</h3>\n\t\t<div style=\"clear: both;\"></div>\n\t</div>\n\t<div class=\"panel-body\" ng-transclude>\n\t</div>\n</div>\n","plugins/core/widgets/luci.footer.html":"<div class=\"container\">\n\t<div id=\"language-info\" >\n\t\t<div id=\"language-switcher-list\" >\n\t\t\t<span ng-repeat=\"lang in languages\">\n\t\t\t\t<a style=\"text-decoration: {{isActiveLanguage(lang)?'underline':'none'}}; color: inherit;\" href=\"\" ng-click=\"setLanguage(lang)\">{{lang.title|translate}}</a>{{$last ? '' : ' | '}}\n\t\t\t</span>\n\t\t</div>\n\t\t<div style=\"float: right;\">\n\t\t\t<!--<juci-theme-picker></juci-theme-picker>-->\n\t\t</div>\n\t\t<div id=\"info\">\n\t\t\tWAN IP Address: {{wanip}} | Firmware version: {{firmware}}\n\t\t</div>\n\t\t\n\t</div>\n</div>\n","plugins/core/widgets/luci.input.ipaddress.html":"<div class=\"form-group\" class=\"col-md-6\">\n    <div class=\"col-md-5\" ng-show=\"{{label}}\">\n        <label class=\"detail-strong-input\">{{label|translate}}</label>\n    </div>\n    <div class=\"{{label?'col-md-7':'col-md-12'}}\">\n        <div class=\"col-sm-2 no-side-padding col-sm-offset-1\">\n            <input type=\"text\" class=\"form-control input-lg no-padding text-center\" ng-model=\"data[0]\" placeholder=\"...\" maxlength=\"3\" />\n        </div>\n        <div class=\"col-xs-1 no-side-padding text-center input-lg\">\n            <strong>.</strong>\n        </div>\n        <div class=\"col-sm-2 no-side-padding\">\n            <input type=\"text\" class=\"form-control input-lg no-padding text-center\" ng-model=\"data[1]\" placeholder=\"...\" maxlength=\"3\" />\n        </div>\n        <div class=\"col-xs-1 no-side-padding text-center input-lg\">\n            <strong>.</strong>\n        </div>\n        <div class=\"col-sm-2 no-side-padding\">\n            <input type=\"text\" class=\"form-control input-lg no-padding text-center\" ng-model=\"data[2]\" placeholder=\"...\" maxlength=\"3\" />\n        </div>\n        <div class=\"col-xs-1 no-side-padding text-center input-lg\">\n            <strong>.</strong>\n        </div>\n        <div class=\"col-sm-2 no-side-padding\">\n            <input type=\"text\" class=\"form-control input-lg no-padding text-center\" ng-model=\"data[3]\" placeholder=\"...\" maxlength=\"3\" />\n        </div>\n    </div>\n</div>","plugins/core/widgets/luci.input.port.html":"<div>\n\t<div ng-show=\"portRange\">\n\t\t<ul class=\"list-inline\">\n\t\t\t<li>\n\t\t\t\t<input type=\"text\" name=\"startPort\" ng-model=\"startPort\" class=\"form-control\" style=\"width: 80px\" maxlength=\"5\" placeholder=\"{{'Start port'|translate}}\" />\n\t\t\t</li>\n\t\t\t<li>to</li>\n\t\t\t<li>\n\t\t\t\t<input type=\"text\" name=\"startPort\" ng-model=\"endPort\" class=\"form-control\" style=\"width: 80px\" maxlength=\"5\"  placeholder=\"{{'End port'|translate}}\" />\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div ng-show=\"!portRange\">\n\t\t<input type=\"text\" class=\"form-control\" ng-model=\"port\" placeholder=\"{{'Port (1-65535)'|translate}}\" style=\"width: 80px\" maxlength=\"5\" />\n\t</div>\n</div>\n","plugins/core/widgets/luci.input.port.range.html":"<div><!--<div class=\"form-group\">\n    <label class=\"control-label {{labelClass}}\">{{label|translate}}</label>\n    <div class=\"has-feedback {{inputOuterClass}}\" ng-class=\"{ 'has-error': form.startPort.$dirty && form.startPort.$invalid }\">\n        <input type=\"text\" name=\"startPort\" ng-model=\"startPort\" class=\"form-control\" placeholder=\"Add port...\" maxlength=\"5\" validate-port-range=\"model\" required />\n        <span ng-show=\"form.startPort.$dirty && form.startPort.$invalid\" class=\"glyphicon glyphicon-remove form-control-feedback\"></span>\n    </div>\n    <div class=\"has-feedback {{inputOuterClass}}\" ng-class=\"{ 'has-error': form.endPort.$dirty && form.endPort.$invalid }\">\n        <input type=\"text\" name=\"endPort\" ng-model=\"endPort\" class=\"form-control\" placeholder=\"Add port...\" maxlength=\"5\" validate-port-range=\"model\" required />\n        <span ng-show=\"form.endPort.$dirty && form.endPort.$invalid\" class=\"glyphicon glyphicon-remove form-control-feedback\"></span>\n    </div>\n    <div class=\"{{messageClass}} {{messageOffsetClass}}\">\n        <div class=\"error small\" ng-show=\"form.startPort.$dirty && form.startPort.$error.required\">{{'error.port.range.start.required'|translate}}</div>\n        <div class=\"error small\" ng-show=\"form.startPort.$dirty && form.startPort.$error.invalid\">{{'error.port.range.start.invalid'|translate}}</div>\n        <div class=\"error small\" ng-show=\"form.endPort.$dirty && form.endPort.$error.required\">{{'error.port.range.end.required'|translate}}</div>\n        <div class=\"error small\" ng-show=\"form.endPort.$dirty && form.endPort.$error.invalid\">{{'error.port.range.end.invalid'|translate}}</div>\n        <div class=\"error small\" ng-show=\"form.startPort.$error.startgreaterthanend || form.endPort.$error.startgreaterthanend\">{{'error.port.range.startgreaterthanend'|translate}}</div>\n    </div>\n</div>\n\t<div class=\"has-feedback \" ng-class=\"{ 'has-error': model.error }\">\n\t\t<input type=\"text\" name=\"startPort\" ng-model=\"startPort\" class=\"form-control\" placeholder=\"Add port...\" maxlength=\"5\" validate-port-range=\"model\" required />\n\t\t<span ng-show=\"model.error\" class=\"glyphicon glyphicon-remove form-control-feedback\"></span>\n\t</div>\n\t<div class=\"has-feedback \" ng-class=\"{ 'has-error': model.error }\">\n\t\t<input type=\"text\" name=\"startPort\" ng-model=\"endPort\" class=\"form-control\" placeholder=\"Add port...\" maxlength=\"5\" validate-port-range=\"model\" required />\n\t\t<span ng-show=\"model.error\" class=\"glyphicon glyphicon-remove form-control-feedback\"></span>\n\t</div>-->\n</div>\n","plugins/core/widgets/luci.input.radio.html":"<div class=\"radio radio-info\">\n\t<input type=\"radio\" ng-model=\"ngModel.value\" value=\"{{value}}\"></input>\n\t<label class=\"detail-strong-input\"><strong>{{label}}</strong></label>\n</div>\n","plugins/core/widgets/luci.input.timespan.html":"<div class=\"row\" ng-class=\"{'field-error': model.error}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"{{model.error}}\">\n\t<div class=\"col-xs-2\"><label translate>from</label></div>\n\t<div class=\"col-xs-4\"><input class=\"form-control\" type=\"text\" ng-model=\"data.from\" placeholder=\"09:00\"/></div>\n\t<div class=\"col-xs-2\"><label translate>to</label></div>\n\t<div class=\"col-xs-4\"><input class=\"form-control\" type=\"text\" ng-model=\"data.to\" placeholder=\"09:00\"/></div>\n</div>\n","plugins/core/widgets/luci.layout.naked.html":"<div>\n\t<div class=\"row\">\n\t\t<div class=\"col-md-12\">\n\t\t\t<ng-transclude></ng-transclude>\n\t\t</div>\n\t</div>\n</div>\n","plugins/core/widgets/luci.layout.single_column.html":"<luci-top-bar></luci-top-bar>\n<div>\n\t<div class=\"container\" role=\"main\" style=\"min-height: 1000px;\">\n\t\t<luci-main>\n\t\t\t<div class=\"row\">\n\t\t\t\t\t<luci-navbar></luci-navbar>\n\t\t\t</div>\n\t\t\t<div class=\"row\">\n\t\t\t\t<div class=\"col-md-12\">\n\t\t\t\t\t<ng-transclude></ng-transclude>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</luci-main>\n\t</div>\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-12\">\n\t\t\t\t<luci-footer></luci-footer>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","plugins/core/widgets/luci.layout.with_sidebar.html":"<luci-top-bar></luci-top-bar>\n<div>\n\t<div class=\"luci-content container\" role=\"main\" style=\"min-height: 1000px;\">\n\t\t<div class=\"row\">\n\t\t\t\t<luci-navbar></luci-navbar>\n\t\t</div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-3\">\n\t\t\t\t<luci-nav></luci-nav>\n\t\t\t</div>\n\t\t\t<div class=\"col-md-9\">\n\t\t\t\t<ng-transclude></ng-transclude>\n\t\t\t</div>\n\t\t</div>\n\t\t<!--\n\t\t<div class=\"row\">\n\t\t\t\t<luci-navbar></luci-navbar>\n\t\t</div>\n\t\t\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-3\">\n\t\t\t\t<luci-nav></luci-nav>\n\t\t\t</div>\n\t\t\t<div class=\"col-md-9\">\n\t\t\t\t<ng-transclude></ng-transclude>\n\t\t\t</div>\n\t\t</div>-->\n\t</div>\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-12\">\n\t\t\t\t<luci-footer></luci-footer>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","plugins/core/widgets/luci.login.html":"<div>\n\t<div ng-show=\"loggedIn\">\n\t\t<p translate>You are logged in!</p>\n\t\t<button class=\"btn btn-success\" ng-click=\"doLogout()\" translate>Log out</button>\n\t</div>\n\t<form ng-hide=\"loggedIn\" class=\"form-signin\" ng-model=\"form\">\n\t\t<h2 class=\"form-signin-heading\" translate>Please sign in</h2>\n\t\t<div class=\"alert alert-danger\" ng-show=\"errors.length\">\n\t\t\t<ul>\n\t\t\t\t<li ng-repeat=\"item in errors track by $index\">{{item}}</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t<div class=\"form-group\" ng-show=\"showHost\">\n\t\t\t<label class=\"sr-only\" translate>Host</label>\n\t\t\t<input ng-model=\"form.host\" type=\"text\" class=\"form-control\" placeholder=\"Router IP\">\n\t\t</div>\n\t\t<div class=\"form-group\">\n\t\t\t<label for=\"inputEmail\" class=\"sr-only\" translate>Username</label>\n\t\t\t<input ng-model=\"form.username\" type=\"text\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Username\" required autofocus>\n\t\t</div>\n\t\t<div class=\"form-group\">\n\t\t\t<label for=\"inputPassword\" class=\"sr-only\" translate>Password</label>\n\t\t\t<input ng-model=\"form.password\" type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" required>\n\t\t</div>\n\t\t<!--<div class=\"checkbox\">\n\t\t\t<label>\n\t\t\t\t<input ng-model=\"form.remember\" type=\"checkbox\" value=\"remember-me\" translate> Remember me\n\t\t\t</label>\n\t\t</div>-->\n\t\t<button ng-click=\"doLogin()\" class=\"btn btn-lg btn-primary btn-block\" type=\"submit\" translate>Sign in</button>\n\t</form>\n</div>\n","plugins/core/widgets/luci.nav.html":"<nav class=\"luci-nav\" >\n\t<ul class=\"left-menu\">\n\t\t<li ng-repeat=\"item in tree.children_list\" ng-show=\"itemVisible(item)\">\n\t\t\t<a ng-class=\"[isItemActive(item)?'open':'', showSubMenuItems?'collapsed':'']\" ng-href=\"#!{{item.href}}\">{{item.text | translate}}</a>\n\t\t\t<ul class=\"left-sub-menu\" ng-show=\"showSubMenuItems\">\n\t\t\t\t<li ng-repeat=\"item2 in item.children_list\">\n\t\t\t\t\t<a ng-class=\"isSubItemActive(item2)?'open':''\" href=\"#!/{{item2.href}}\">{{item2.text | translate}}</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</li>\n\t</ul>\n</nav>\n","plugins/core/widgets/luci.navbar.html":"<div class=\"navbar navbar-default\" ng-controller=\"NavigationCtrl\">\n    <div class=\"navbar-header\">\n        <button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\">\n            <span class=\"sr-only\" translate>Toggle navigation</span>\n\t\t\t<span class=\"icon-bar\"></span>\n\t\t\t<span class=\"icon-bar\"></span>\n\t\t\t<span class=\"icon-bar\"></span>\n\t\t</button>\n\t\t\n\t\t<a class=\"navbar-brand\" href=\"/#!overview\">\n\t\t\t<div class=\"logo\"></div>\n\t\t</a>\n\t</div>\n\t<div id=\"navbar\" class=\"navbar-collapse collapse\">\n\t\t<ul class=\"nav navbar-nav\" auto-active>\n\t\t\t<li class=\"dropdown\" ng-repeat=\"item in tree.children_list track by $index\">\n\t\t\t\t<a href=\"#!{{item.path}}\" role=\"button\" >{{item.text | translate}} </a>\n\t\t\t\t<!--<a href=\"#!{{item.path}}\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">{{item.text | translate}}  <span class=\"caret\"></a>\n\t\t\t\t<ul class=\"dropdown-menu\" role=\"menu\">\n\t\t\t\t\t<li ng-repeat=\"item2 in item.children_list | orderBy:'text':!reverse\">\n\t\t\t\t\t\t<a href=\"#!{{item2.path}}\">{{item2.text | translate}}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>-->\n\t\t\t</li>\n\t\t</ul>\n\t\t<ul class=\"nav navbar-nav navbar-right\" auto-active>\n\t\t\t<li class=\"dropdown\">\n\t\t\t\t<a class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-expanded=\"false\">{{'Theme' | translate}}  <span class=\"caret\"/></a>\n\t\t\t\t<ul class=\"dropdown-menu\" role=\"menu\">\n\t\t\t\t\t<li >\n\t\t\t\t\t\t<a href=\"\" data-theme=\"default\" class=\"theme-link\">Default</a>\n\t\t\t\t\t\t<a href=\"\" data-theme=\"vodafone\" class=\"theme-link\">Vodafone</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n","plugins/core/widgets/luci.progress.html":"<div class=\"progress\" style=\" position: relative; \">\n\t<div style=\"width: {{ width }}%; position: absolute;\" \n\t\tclass=\"progress-bar progress-bar-info\">\n\t</div>\n\t<small style=\"text-align: center; position: absolute; width: 100%;\">\n\t\t{{ value }} {{ units }} / {{ total }} {{ units }} ({{ width }}%)\n\t</small>\n</div>\n","plugins/core/widgets/luci.table.html":"<div >\n\t<h2>{{ title }}</h2>\n\t<div class=\"table-responsive\">\n\t\t<table class=\"table\" >\n\t\t\t<thead>\n\t\t\t\t<th style=\"text-align: center;\" ng-repeat=\"label in data.columns  track by $index\" class=\"{{ cellClass($index) }}\" >\n\t\t\t\t\t{{ label | translate }}</th>\n\t\t\t</thead>\n\t\t\t<tr ng-repeat=\"row in data.rows \">\n\t\t\t\t<td ng-repeat=\"cell in row track by $index\" class=\"{{ cellClass($index) }}\"  dynamic=\"cell\">\n\t\t\t\t\t \n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t</div>\n</div>\n","plugins/core/widgets/luci.top_bar.html":"<div class=\"top-bar\">\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-xs-5\" style=\"font-size: 28px; padding-top: 10px;\">{{ model }}</div>\n\t\t\t<div style=\"float: right; margin-top: 10px; \">\n\t\t\t\t<luci-select ng-model=\"selectedModeValue\" ng-items=\"guiModes\" on-change=\"onChangeMode()\"></luci-select>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","plugins/core/widgets/theme_picker.html":"<div ng-controller=\"JuciThemePickerController\">\n\t<div class=\"form-group\">\n\t\t<luci-select ng-model=\"selectedTheme\" ng-items=\"themes\" on-change=\"onChangeTheme()\" prefix=\"Theme: \"></luci-select>\n\t</div>\n</div>\n","plugins/internet/pages/internet.dns.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"InternetDNSPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'DNS' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'dns.config.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'DNS configuration'|translate}}\">\n\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t<luci-input-radio ng-model=\"wan.peerdns\" label=\"{{'Automatic' | translate}}\" value=\"0\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-md-5 col-lg-offset-1\">\n\t\t\t\t\t\t<luci-input-radio ng-model=\"wan.peerdns\" label=\"{{'Manual' | translate}}\" value=\"1\" />\n\t\t\t\t\t</div>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'DNS Servers'|translate}} #{{$index}}\" ng-show=\"wan.peerdns.value == 1\" >\n\t\t\t\t\t<div ng-repeat=\"dns in dnsServers track by $index\" class=\"form-group\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"dns.value\" ng-blur=\"onDNSBlur()\" placeholder=\"{{'DNS Server'|translate}} #{{$index}}\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'DDNS (Dynamic DNS)' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'ddns.config.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Dynamic DNS'|translate}}\">\n\t\t\t\t\t<switch ng-model=\"ddns.enabled.value\" class=\"green\" ng-change=\"onApply()\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<luci-config-lines ng-show=\"ddns.enabled.value\">\n\t\t\t\t<luci-config-line title=\"{{'Provider'|translate}}\">\n\t\t\t\t\t<div ng-show=\"enterDNSProvider\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"ddns.service_name.value\" placeholder=\"{{'For example'}} noip.com\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div ng-hide=\"enterDNSProvider\">\n\t\t\t\t\t\t<luci-select ng-model=\"ddns.service_name.value\" \n\t\t\t\t\t\t\tng-items=\"allServices\" placeholder=\"{{'Choose DNS Provider'|translate}}\" ></luci-select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"checkbox checkbox-info\">\n\t\t\t\t\t\t<input type=\"checkbox\" value=\"1\" ng-model=\"enterDNSProvider\"/>\n\t\t\t\t\t\t<label translate>Enter DDNS Provider</label>\n\t\t\t\t\t</div>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Domain name'|translate}}\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"ddns.domain.value\" placeholder=\"{{'Add domain name'|translate}}\" />\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Username'|translate}}\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"ddns.username.value\" placeholder=\"{{'Add username'|translate}}\" />\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Password'|translate}}\">\n\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" ng-model=\"ddns.password.value\" placeholder=\"{{'Add password'|translate}}\" />\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-apply></luci-config-apply>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/internet/pages/internet.exposed_host.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"InternetExHostPageCtrl\">\n\t\t<luci-config-heading>{{'Exposed Host'|translate}}</luci-config-heading>\n\t\t<luci-config-section >\n\t\t\t<luci-config-info>{{'internet.exposed_host.info'|translate}}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Exposed Host Function'|translate}}\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"firewall.dmz.enabled.value\" class=\"green\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section ng-show=\"firewall.dmz.enabled.value\">\n\t\t\t<div class=\"alert alert-danger\">\n\t\t\t\t<p translate><span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span> Warning: By using the exposed host function you bypass the firewall of your {{config.friendly_name}}. Please make sure that your computer is protected against attacks from Internet. The following ports will not be forwarded: {{ nonforwardedPorts || 'None'}}.</p>\n\t\t\t</div>\n\t\t\t<p translate>Choose the local IP address that should be exposed to Internet. Additionally you should configure this IP address as static DHCP address for your device (see Settings/Network).</p>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Public IP Address'|translate}}\">\n\t\t\t\t\t<strong>{{wan.ip}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Local IP Address'|translate}}\">\n\t\t\t\t\t<input type=\"text\" class=\"form-control\" placeholder=\"{{'ip.address.label'|translate}}\" ng-model=\"firewall.dmz.host.value\"/>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-apply></luci-config-apply>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/internet/pages/internet.firewall.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"InternetFirewallPageCtrl\">\n\t\t<h2 translate>Firewall settings</h2>\n\t\t<p translate>Your EasyBox provides extensive firewall functionality which protects against common attacks. Vodafone recommends not to turn off firewall.</p>\n\t\t<luci-config-section>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Enable firewall'|translate}}\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"firewallSwitchState\" ng-change=\"onFirewallToggle\" class=\"green\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{rule.name.value | translate}}\" ng-repeat=\"rule in firewall['@rule']\"  ng-hide=\"rule.hidden.value\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"rule.enabled.value\"  class=\"green\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<!--<table class=\"table\">\n\t\t\t<tr>\n\t\t\t\t<td>\n\t\t\t\t\t<div class=\"col-md-11\"><strong style=\"font-size: 1.5em\" translate>Enable firewall</strong></div>\n\t\t\t\t\t<div class=\"col-md-1\"><switch id=\"enabled\" name=\"enabled\" ng-model=\"firewallSwitchState\" ng-change=\"onFirewallToggle\" class=\"green\"></switch></div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n\t\t<table class=\"table\" ng-show=\"firewallSwitchState\">\n\t\t\t<tr ng-repeat=\"rule in firewall['@rule']\"  ng-hide=\"rule.hidden.value\">\n\t\t\t\t<td>\n\t\t\t\t\t<div class=\"col-md-11\"><strong style=\"font-size: 1.5em\">{{rule.name.value | translate}}</strong></div>\n\t\t\t\t\t<div class=\"col-md-1\"><switch id=\"enabled\" name=\"enabled\" ng-model=\"rule.enabled.value\"  class=\"green\"></switch></div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>-->\n\t\t<luci-config-apply></luci-config-apply>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/internet/pages/internet.port_mapping.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"InternetPortMappingPageCtrl\">\n\t\t<h2 translate>Port Mapping</h2>\n\t\t<p translate>Port mapping allows remote computers to connect to a specific device within your private network.</p>\n\t\t<!--<div class=\"panel panel-default\" ng-show=\"rule\">\n\t\t\t<div class=\"panel-heading\">\n\t\t\t\t<h3 class=\"panel-title\">{{rule[\".name\"]}}</h3>\n\t\t\t</div>\n\t\t\t<div class=\"panel-body\">\n\t\t\t\t<uci-firewall-nat-rule-edit ng-model=\"rule\"></uci-firewall-nat-rule-edit>\n\t\t\t</div>\n\t\t\t<div class=\"panel-footer\">\n\t\t\t\t<luci-config-apply ></luci-config-apply>\n\t\t\t</div>\n\t\t</div>-->\n\t\t<table class=\"table\">\n\t\t\t<thead><th translate>Local IP</th><th translate>Protocol</th><th translate>Local port</th><th translate>Public Port</th><th></th><th></th></thead>\n\t\t\t<tbody ng-repeat=\"r in redirects\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td>{{ r.dest_ip.value }}</td>\n\t\t\t\t\t<td>{{ r.proto.value }}</td>\n\t\t\t\t\t<td>{{ r.dest_port.value }}</td>\n\t\t\t\t\t<td>{{ r.src_dport.value }}</td>\n\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onEditRule(r)\" ng-hide=\"r['.edit']\"><i class=\"fa fa-pencil\" style=\"{{editColor}}\"></i></button></td>\n\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onDeleteRule(r)\"><i class=\"fa fa-trash-o\"></i></button></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-show=\"r['.edit']\">\n\t\t\t\t\t<td colspan=\"6\">\n\t\t\t\t\t\t<uci-firewall-nat-rule-edit ng-model=\"r\"></uci-firewall-nat-rule-edit>\n\t\t\t\t\t\t<div class=\"btn-toolbar pull-right\" >\n\t\t\t\t\t\t\t<button class=\"btn btn-lg btn-primary\" ng-click=\"onAcceptEdit(r)\" ng-disabled=\"busy\">\n\t\t\t\t\t\t\t\t<i class=\"fa fa-spinner\" ng-show=\"r['.busy']\"/>{{ \"Apply\"| translate }}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onCancelEdit(r)\">{{ \"Cancel\" | translate }}</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t\t<tbody>\n\t\t\t\t<tr>\n\t\t\t\t\t<td colspan=\"5\"></td>\n\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onAddRule()\"><i class=\"fa fa-plus\"></i></button></td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t\t<!--<modal title=\"Add Port Mapping\" ng-show=\"showModal\" on-accept=\"onAcceptModal()\" on-dismiss=\"onDismissModal()\" dismiss-label=\"Cancel\" accept-label=\"Save\">\n\t\t\t<uci-firewall-nat-rule-edit ng-model=\"rule\"></uci-firewall-nat-rule-edit>\n\t\t</modal>-->\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/internet/pages/settings.network.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"SettingsNetworkCtrl\">\n\t\t<luci-config-heading>{{ 'Network Settings' | translate }}</luci-config-heading>\n\t\t<luci-config-info>{{ 'settings.network.info' | translate }}</luci-config-info>\n\t\t<luci-config-section>\n\t\t\t<div ng-repeat=\"interface in interfaces\">\n\t\t\t\t<uci-network-interface-edit ng-model=\"interface\"></uci-network-interface-edit>\n\t\t\t</div>\n\t\t</luci-config-section>\n\t\t<luci-config-apply></luci-config-apply>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/internet/pages/status.nat.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusNATPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<h2 translate>Connections</h2>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Active Connections'|translate}}\" no-pull>\n\t\t\t\t\t<luci-progress value=\"conntrack.count\" total=\"conntrack.limit\"></luci-progress>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-line>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Connections for each Device' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.nat.connections.info' | translate }}</luci-config-info>\n\t\t\t<table class=\"table\" style=\"font-size: 12px;\">\n\t\t\t\t<thead >\n\t\t\t\t\t<th>#</th>\n\t\t\t\t\t<th>Hostname</th>\n\t\t\t\t\t<th  style=\"text-align: center;\">IP</th>\n\t\t\t\t\t<th  style=\"text-align: center;\">Nr. of Connections</th>\n\t\t\t\t</thead>\n\t\t\t\t<tr ng-repeat=\"cl in clients track by $index\">\n\t\t\t\t\t<td>{{$index}}</td>\n\t\t\t\t\t<td>{{cl.hostname}}</td>\n\t\t\t\t\t<td style=\"text-align: center;\">{{cl.ipaddr}}</td>\n\t\t\t\t\t<td style=\"text-align: center;\">{{cl.active_cons||0}}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t\t<luci-config-section style=\"display: none;\">\n\t\t\t<luci-config-heading>{{ 'NAT Connection Table' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.nat.info' | translate }}</luci-config-info>\n\t\t\t<table class=\"table\" style=\"font-size: 12px\">\n\t\t\t\t<thead>\n\t\t\t\t\t<!--<th>IPV6</th>-->\n\t\t\t\t\t<th>Protocol</th>\n\t\t\t\t\t<!--<th>Expires</th>-->\n\t\t\t\t\t<th>Source</th>\n\t\t\t\t\t<th>Dest.</th>\n\t\t\t\t\t<th>Source Port</th>\n\t\t\t\t\t<th>Dest. Port</th>\n\t\t\t\t\t<th>RX Packets</th>\n\t\t\t\t\t<th>TX Packets</th>\n\t\t\t\t\t<th>RX Bytes</th>\n\t\t\t\t\t<th>TX Bytes</th>\n\t\t\t\t</thead>\n\t\t\t\t<tr ng-repeat=\"con in connections\">\n\t\t\t\t\t<!--<td>{{con.ipv6}}</td>-->\n\t\t\t\t\t<td>{{con.protocol}}</td>\n\t\t\t\t\t<!--<td>{{con.expires}}</td>-->\n\t\t\t\t\t<td>{{con.src}}</td>\n\t\t\t\t\t<td>{{con.dest}}</td>\n\t\t\t\t\t<td>{{con.sport}}</td>\n\t\t\t\t\t<td>{{con.dport}}</td>\n\t\t\t\t\t<td>{{con.rx_packets}}</td>\n\t\t\t\t\t<td>{{con.rx_bytes}}</td>\n\t\t\t\t\t<td>{{con.tx_packets}}</td>\n\t\t\t\t\t<td>{{con.tx_bytes}}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/internet/widgets/uci.firewall.nat.rule.edit.html":"<form name=\"ruleForm\" class=\"form-horizontal\" novalidate>\n\t<div class=\"form-group\">\n\t\t\t<label for=\"device\" class=\"control-label col-xs-4\" translate>Device</label>\n\t\t\t<div class=\"col-xs-8\" id=\"device\">\n\t\t\t\t<luci-select ng-model=\"rule.dest_ip.value\" ng-items=\"deviceChoices\" placeholder=\"Select connected device\"></luci-select>\n\t\t\t</div>\n\t</div>\n\t<div class=\"form-group\">\n\t\t\t<label for=\"ipAddress\" class=\"control-label col-xs-4\" translate>Local IP Address</label>\n\t\t\t<div class=\"col-xs-8\">\n\t\t\t\t<input id=\"ipAddress\" type=\"text\" class=\"form-control\" ng-model=\"rule.dest_ip.value\" />\n\t\t\t</div>\n\t</div>\n\t<div class=\"form-group\">\n\t\t<label for=\"protocol\" class=\"control-label col-xs-4\" translate>Protocol</label>\n\t\t<div class=\"col-xs-8\" id=\"protocol\">\n\t\t\t<luci-select ng-model=\"rule.proto.value\" ng-items=\"protocolChoices\" placeholder=\"Select protocol\"></luci-select>\n\t\t</div>\n\t</div>\n\t<div class=\"form-group\">\n\t\t<label for=\"range\" class=\"control-label col-xs-4\">Type</label>\n\t\t<div class=\"col-xs-8\" id=\"range\">\n\t\t\t<div class=\"btn-group\">\n\t\t\t\t<button ng-repeat=\"item in [[false,'Port'], [true, 'Port range']]\" class=\"btn btn-default\" ng-model=\"portIsRange\" btn-radio=\"item[0]\" ng-click=\"onPortRangeClick(item[0])\">{{item[1]}}</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"form-group\" >\n\t\t<label for=\"range\" class=\"control-label col-xs-4\" ng-show=\"!portIsRange\" translate>Public port</label>\n\t\t<label for=\"range\" class=\"control-label col-xs-4\" ng-show=\"portIsRange\" translate>Public port range</label>\n\t\t<div class=\"col-xs-8\" ng-class=\"{'field-error': rule.src_dport.error}\" >\n\t\t\t<luci-input-port ng-model=\"rule.src_dport.value\" port-range=\"portIsRange\"/>\n\t\t</div>\n\t</div>\n\t<div class=\"form-group\" >\n\t\t<label for=\"range\" class=\"control-label col-xs-4\" ng-show=\"!portIsRange\" translate>Private port</label>\n\t\t<label for=\"range\" class=\"control-label col-xs-4\" ng-show=\"portIsRange\" translate>Private port range</label>\n\t\t<div class=\"col-xs-8\" ng-class=\"{'field-error': rule.dest_port.error}\" >\n\t\t\t<luci-input-port ng-model=\"rule.dest_port.value\" port-range=\"portIsRange\"/>\n\t\t</div>\n\t</div>\n\t<!--<div class=\"form-group\" ng-show=\"portIsRange\" >\n\t\t<label for=\"range\" class=\"control-label col-xs-4\">Public port range</label>\n\t\t<div class=\"col-xs-8\" ng-class=\"{'field-error': rule.src_dport.error}\" >\n\t\t\t<luci-input-port-range ng-model=\"rule.src_dport.value\" />\n\t\t</div>\n\t</div>\n\t<div class=\"form-group\" ng-show=\"portIsRange\" >\n\t\t<label for=\"range\" class=\"control-label col-xs-4\">Private port range</label>\n\t\t<div class=\"col-xs-8\" ng-class=\"{'field-error': rule.dest_port.error}\" >\n\t\t\t<luci-input-port-range ng-model=\"rule.dest_port.value\" />\n\t\t</div>\n\t</div>-->\n\t<!--<div ng-show=\"portIsRange\" > \n\t\t<input type=\"text\" ng-model=\"rule.dest_port.value\"/>\n\t\t<luci-input-port-range name=\"publicPortRange\" model=\"rule.src_dport\" form=\"ruleForm\" label=\"Public port range\" label-class=\"col-xs-4\" input-outer-class=\"col-xs-3\" message-class=\"col-xs-8\" message-offset-class=\"col-xs-offset-4\" />\n\t</div>\n\t<div ng-show=\"portIsRange\">\n\t\t<luci-input-port-range name=\"privatePortRange\" model=\"rule.dest_port\" form=\"ruleForm\" label=\"Private port range\" label-class=\"col-xs-4\" input-outer-class=\"col-xs-3\" message-class=\"col-xs-8\" message-offset-class=\"col-xs-offset-4\" />\n\t</div>\n\t<div ng-show=\"!portIsRange\">\n\t\t<luci-input-port id=\"publicPortId\" name=\"publicPort\" model=\"rule.src_dport\" form=\"ruleForm\" label=\"Public port\" label-class=\"col-xs-4\" input-outer-class=\"col-xs-3\" message-class=\"col-xs-8\" message-offset-class=\"col-xs-offset-4\" />\n\t</div>\n\t<div ng-show=\"!portIsRange\">\n\t\t<luci-input-port id=\"privatePortId\" name=\"privatePort\" model=\"rule.dest_port\" form=\"ruleForm\" label=\"Private port\" label-class=\"col-xs-4\" input-outer-class=\"col-xs-3\" message-class=\"col-xs-8\" message-offset-class=\"col-xs-offset-4\" />\n\t</div>-->\n</form>\n","plugins/internet/widgets/uci.network.interface.edit.html":"<div>\n\t<div class=\"panel panel-default\">\n\t\t<div class=\"panel-heading\">\n\t\t\t<div class=\"btn-group pull-right\">\n\t\t\t\t<span class=\"btn \" ng-click=\"expanded = !expanded\">\n\t\t\t\t\t<i class=\"fa fa-caret-down fa-2x\" ng-show=\"expanded\"></i>\n\t\t\t\t\t<i class=\"fa fa-caret-left fa-2x\" ng-hide=\"expanded\"></i>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<h3 class=\"panel-title\" style=\"font-size: 1.5em; padding-top: 0.4em; font-weight: bold; font-family: 'vodafont';\">\n\t\t\t\t{{interface[\".name\"] | uppercase}} {{'Network'|translate}}\n\t\t\t</h3>\n\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t<div class=\"panel-body \" ng-show=\"expanded\" >\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'IP Address'|translate}}\">\n\t\t\t\t\t<input class=\"form-control\" ng-model=\"interface.ipaddr.value\" placeholder=\"{{'Static IP Address'|translate}}\"></input>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'IP Subnet Mask'|translate}}\">\n\t\t\t\t\t<strong>{{interface.netmask.value}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'DHCP Server'|translate}}\">\n\t\t\t\t\t<switch ng-model=\"dhcp.ignore.value\" class=\"green\" inverted></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<luci-config-lines ng-hide=\"dhcp.ignore.value\">\n\t\t\t\t<hr/>\n\t\t\t\t<luci-config-line title=\"{{'Address Pool Start IP'|translate}}\">\n\t\t\t\t\t<input class=\"form-control pull-right\" style=\"width: 60px;\" ng-model=\"dhcp.start.value\" placeholder=\"1\"></input>\n\t\t\t\t\t<span style=\"font-size: 1.2em; margin-right: 10px; line-height: 2em;\">{{interface.ipaddr.value.split(\".\").splice(0, 3).join(\".\")}}</span>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Address Pool End IP'|translate}}\">\n\t\t\t\t\t<input class=\"form-control pull-right\" style=\"width: 60px;\" ng-model=\"dhcp.limit.value\" placeholder=\"1\"></input>\n\t\t\t\t\t<span style=\"font-size: 1.2em; margin-right: 10px; line-height: 2em;\">{{interface.ipaddr.value.split(\".\").splice(0, 3).join(\".\")}}</span>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'DHCP Lease Time'|translate}}\">\n\t\t\t\t\t<luci-select ng-model=\"dhcp.leasetime.value\" ng-items=\"dhcpLeaseTimes\" placeholder=\"{{'Lease Time'|translate}}\"/>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<div ng-hide=\"dhcp.ignore.value\">\n\t\t\t\t<hr/>\n\t\t\t\t<h3 translate>Static DHCP</h3>\n\t\t\t\t<table class=\"table\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<th translate>Device Name</th>\n\t\t\t\t\t\t<th translate>MAC Address</th>\n\t\t\t\t\t\t<th translate>IP Address</th>\n\t\t\t\t\t\t<th width=\"1%\"></th>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tr ng-repeat=\"host in staticDHCP\">\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"host.name.value\"/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"host.mac.value\"/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"host.ip.value\"/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style=\"white-space: nowrap\">\n\t\t\t\t\t\t\t<!--<button class=\"btn btn-default\" style=\"display: inline-block; float: none;\" ng-click=\"onAddExistingHost()\"><i class=\"fa fa-plus\"></i></button>-->\n\t\t\t\t\t\t\t<button class=\"btn btn-default\" style=\"display: inline-block; float: none;\" ng-click=\"onRemoveStaticDHCP(host)\"><i class=\"fa fa-trash-o\"></i></button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td colspan=\"2\"></td>\n\t\t\t\t\t\t<td style=\"text-align: right;\">\n\t\t\t\t\t\t\t<luci-select ng-model=\"existingHost\" ng-items=\"hosts\" on-change=\"onAddExistingHost()\" placeholder=\"{{'Add existing host'|translate}}\"/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td style=\"text-align: right;\">\n\t\t\t\t\t\t\t<button class=\"btn btn-default\" ng-click=\"onAddStaticDHCP()\"><i class=\"fa fa-plus\"></i></button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n","plugins/juci-mod-dropbear/pages/services.dropbear.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"DropbearSettings\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Dropbear' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'settings.dropbear.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-line title=\"{{'Enabled'|translate}}\" help=\"Set to 0 to disable starting dropbear at system boot.\">\n\t\t\t\t<switch ng-model=\"dropbear.enable.value\" class=\"green\" ng-change=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Verbose logging'|translate}}\" help=\"Set to 1 to enable verbose output by the start script.\">\n\t\t\t\t<switch ng-model=\"dropbear.verbose.value\" class=\"green\" ng-change=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Banner File'|translate}}\" help=\"Name of a file to be printed before the user has authenticated successfully.\">\n\t\t\t\t<input class=\"form-control\" ng-model=\"dropbear.BannerFile.value\" ng-blur=\"onApply()\"></input>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Password Authentication'|translate}}\" help=\"Set to 0 to disable authenticating with passwords.\">\n\t\t\t\t<switch ng-model=\"dropbear.PasswordAuth.value\" ng-change=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Port'|translate}}\" help=\"Port number to listen on.\">\n\t\t\t\t<input class=\"form-control\" ng-model=\"dropbear.Port.value\" ng-blur=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Root Password Auth'|translate}}\" help=\"Set to 0 to disable authenticating as root with passwords.\">\n\t\t\t\t<switch ng-model=\"dropbear.RootPasswordAuth.value\" ng-change=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Root Login'|translate}}\" help=\"Set to 0 to disable SSH logins as root.\">\n\t\t\t\t<switch ng-model=\"dropbear.RootLogin.value\" ng-change=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Gateway Ports'|translate}}\" help=\"Set to 1 to allow remote hosts to connect to forwarded ports.\">\n\t\t\t\t<switch ng-model=\"dropbear.GatewayPorts.value\" ng-change=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Interface'|translate}}\" help=\"Tells dropbear to listen only on the specified interface.\">\n\t\t\t\t<input class=\"form-control\" ng-model=\"dropbear.Interface.value\" ng-blur=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'RSA Key File'|translate}}\" help=\"Path to RSA file\">\n\t\t\t\t<input class=\"form-control\" ng-model=\"dropbear.rsakeyfile.value\" ng-blur=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'DSS Key File'|translate}}\" help=\"Path to DSS/DSA file\">\n\t\t\t\t<input class=\"form-control\" ng-model=\"dropbear.dsskeyfile.value\" ng-blur=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Connection Keep Alive'|translate}}\" help=\"Keep Alive timout\">\n\t\t\t\t<input class=\"form-control\" ng-model=\"dropbear.SSHKeepAlive.value\" ng-blur=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Idle Timeout'|translate}}\" help=\"Idle timeout\">\n\t\t\t\t<input class=\"form-control\" ng-model=\"dropbear.IdleTimeout.value\" ng-blur=\"onApply()\"></switch>\n\t\t\t</luci-config-line>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/phone/pages/phone.call_log.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"PhoneCallLogPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Call Log' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'phone.call_log.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Show calls for'|translate}}\">\n\t\t\t\t\t<luci-dropdown type=\"button\" placeholder=\"{{'Pick phone'|translate}}\" size=\"lg\" ng-model=\"phoneList\" ng-selected=\"phoneFilterSelected\" on-select=\"onChangeFilter()\"/>\n\t\t\t\t\t<!--<ui-select ng-model=\"phoneFilterSelected\" search=\"disabled\" theme=\"bootstrap\" style=\"width: 300px;\" on-select=\"onChangeFilter($item, $model)\">\n\t\t\t\t\t\t<ui-select-match placeholder=\"All Phones\">{{$select.selected.from}}</ui-select-match>\n\t\t\t\t\t\t<ui-select-choices repeat=\"phone in phoneList\" refresh-delay=\"0\"><div >{{phone.from}}</div></ui-select-choices>\n\t\t\t\t\t</ui-select>-->\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<table class=\"table\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th></th>\n\t\t\t\t\t<th translate>Date</th>\n\t\t\t\t\t<th translate>Time</th>\n\t\t\t\t\t<th translate>External Number</th>\n\t\t\t\t\t<th translate>Your number</th>\n\t\t\t\t\t<th translate>Duration</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-repeat=\"log in call_log | filter:phoneFilter\">\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<i class='fa fa-arrow-left' ng-show=\"log.direction == 'Outgoing'\"></i>\n\t\t\t\t\t\t<i class='fa fa-arrow-right' ng-show=\"log.direction == 'Incoming'\"></i>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>{{log.date}}</td>\n\t\t\t\t\t<td>{{log.time}}</td>\n\t\t\t\t\t<td>{{log.to}}</td>\n\t\t\t\t\t<td>{{log.from}}</td>\n\t\t\t\t\t<td></td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/phone/pages/phone.lines.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"PhoneLines\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Phone Lines' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'phone.lines.info' | translate }}</luci-config-info>\n\t\t\t<luci-expandable title=\"{{line.name.value}}\" ng-repeat=\"line in phone_lines track by $index\">\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line title=\"Name\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"line.name.value\"/>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"Internal Number\">\n\t\t\t\t\t\t{{line.extension.value}}\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"Outgoing Calls Number\">\n\t\t\t\t\t\t<luci-select ng-model=\"line.sip_account.value\" ng-items=\"allSipAccounts\"/>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"Call Waiting\">\n\t\t\t\t\t\t<switch ng-model=\"line.callwaiting.value\" class=\"green\"/>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"Call ID Restriction\">\n\t\t\t\t\t\t<switch ng-model=\"line.clir.value\" class=\"green\"/>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</luci-expandable>\n\t\t</luci-config-section>\n\t\t<luci-config-apply/>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/phone/pages/phone.number_blocking.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"PhoneNumberBlockingPageCtrl\">\n\t\t<luci-config-heading>{{ 'Number Blocking' | translate }}</luci-config-heading>\n\t\t<luci-config-info>{{ 'phone.number_blocking.info' | translate }}</luci-config-info>\n\t\t\n\t\t<luci-config-section>\n\t\t\t<h2 translate>Outgoing Calls</h2>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"Outgoing Number Blocking\">\n\t\t\t\t\t<switch ng-model=\"filter.block_outgoing.value\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t<luci-config-lines>\n\t\t\t<luci-config-lines ng-show=\"filter.block_outgoing.value\">\n\t\t\t\t<hr/>\n\t\t\t\t<luci-config-line title=\"Do not allow connections to these numbers\">\n\t\t\t\t\t<div class=\"row\" ng-repeat=\"rule in outgoingRules track by rule['.name']\">\n\t\t\t\t\t\t<div class=\"form-group form-inline\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"rule.extension.value\" ng-blur=\"onSave()\" placeholder=\"{{'Phone Extension'|translate}}\"/>\n\t\t\t\t\t\t\t<button class=\"btn btn-default\" ng-click=\"onDeleteOutgoingRule(rule)\"><i class=\"fa fa-trash\"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"form-group form-inline\">\n\t\t\t\t\t\t\t<button class=\"btn btn-default pull-right\" ng-click=\"onAddOutgoingRule()\"><i class=\"fa fa-plus\"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<hr/>\n\t\t\t\t<i translate>You can also block ranges of numbers.For example: \"0160#\" blocks all numbers starting with \"0160\".</i>\n\t\t\t\t<luci-config-line title=\"Block connections to all foreign numbers\">\n\t\t\t\t\t<switch ng-model=\"filter.block_foreign.value\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"Block connections to all special rate numbers\">\n\t\t\t\t\t<switch ng-model=\"filter.block_special_rate.value\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t<luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<h2 translate>Incoming Calls</h2>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"Incoming Number Blocking\">\n\t\t\t\t\t<switch ng-model=\"filter.block_incoming.value\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t<luci-config-lines>\n\t\t\t<luci-config-lines ng-show=\"filter.block_incoming.value\">\n\t\t\t\t<luci-config-line title=\"Do not allow connections from these numbers\">\n\t\t\t\t\t<div class=\"row\" ng-repeat=\"rule in incomingRules\">\n\t\t\t\t\t\t<div class=\"form-group form-inline\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"rule.extension.value\"  ng-blur=\"onSave()\" placeholder=\"{{'Phone Extension'|translate}}\"/>\n\t\t\t\t\t\t\t<button class=\"btn btn-default\" ng-click=\"onDeleteIncomingRule(rule)\"><i class=\"fa fa-trash\"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<div class=\"form-group form-inline\">\n\t\t\t\t\t\t\t<button class=\"btn btn-default pull-right\" ng-click=\"onAddIncomingRule()\"><i class=\"fa fa-plus\"></i></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</luci-config-line>\n\t\t\t<luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-apply></luci-config-apply>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/phone/pages/phone.numbers.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"PhoneNumbersPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Phone Numbers' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'phone.numbers.info' | translate }}</luci-config-info>\n\t\t\t<luci-expandable title=\"{{num.name.value}}\" ng-repeat=\"num in phone_numbers track by $index\">\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line title=\"Name\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"num.name.value\"/>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"Phone Number\">\n\t\t\t\t\t\t{{num.username.value}}\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"Incoming Phone Lines\">\n\t\t\t\t\t\t<div class=\"form-group col-md-6 \" ng-repeat=\"line in phone_lines track by $index\">\n\t\t\t\t\t\t\t<div class=\"checkbox checkbox-info\">\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" checklist-model=\"num.call_lines.value\" checklist-value=\"line['.name']\"/>\n\t\t\t\t\t\t\t\t<label>{{line.name.value}}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</luci-expandable>\n\t\t</luci-config-section>\n\t\t<luci-config-apply/>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/phone/pages/phone.ringing_schedule.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"PhoneRingingScheduleCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Ringing Schedule' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'phone.schedule.info' | translate }}</luci-config-info>\n\t\t\t<p>This page is not done yet. Waiting for voice API. </p>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Ringing Schedule'|translate}}\">\n\t\t\t\t\t<switch name=\"enabled\" ng-model=\"settings.enabled.value\" class=\"green\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'During this time ringing is '|translate}}\"  ng-show=\"settings.enabled.value\">\n\t\t\t\t\t<luci-select ng-model=\"settings.status.value\" ng-items=\"enabledDisabledItems\"></luci-select>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<table class=\"table\" ng-show=\"settings.enabled.value\">\n\t\t\t\t<thead>\n\t\t\t\t\t<th translate>Day</th>\n\t\t\t\t\t<th translate>Time</th>\n\t\t\t\t\t<th translate>Number</th>\n\t\t\t\t\t<th translate>Status</th>\n\t\t\t\t\t<!--<th translate>Status</th>-->\n\t\t\t\t\t<th></th>\n\t\t\t\t\t<th></th>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr ng-repeat=\"item in schedules\">\n\t\t\t\t\t\t\t<td>{{ item.days.value.join(\",\") }}</td>\n\t\t\t\t\t\t\t<td>{{ item.time.value }}</td>\n\t\t\t\t\t\t\t<td>{{ allSipAccountsMap[item.sip_service_provider.value].name.value }}</td>\n\t\t\t\t\t\t\t<td>{{ ((settings.status.value)?\"Enabled\":\"Disabled\") | translate}}</td>\n\t\t\t\t\t\t\t<!--<td>{{ item.enabled.value }}</td>-->\n\t\t\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onEditSchedule(item)\"><i class=\"fa fa-pencil\" style=\"{{editColor}}\"></i></button></td>\n\t\t\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onDeleteSchedule(item)\"><i class=\"fa fa-trash-o\"></i></button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colspan=\"5\"></td>\n\t\t\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onAddSchedule()\"><i class=\"fa fa-plus\"></i></button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t\t<luci-config-apply></luci-config-apply>\n\t\t<modal title=\"Add a new Ringing Schedule\" ng-show=\"showScheduleDialog\" on-accept=\"onAcceptSchedule()\" \n\t\t\ton-dismiss=\"onDismissSchedule()\" dismiss-label=\"Cancel\" accept-label=\"Save\">\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"Phone Number\">\n\t\t\t\t\t<luci-select ng-model=\"schedule.sip_service_provider.value\" ng-items=\"allSipAccounts\" placeholder=\"Pick Phone Number\"/>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-line>\n\t\t\t<uci-wireless-schedule-edit ng-model=\"schedule\" schedule=\"schedule\" valid=\"scheduleValid\"></uci-wireless-schedule-edit>\n\t\t\t<div class=\"alert alert-danger\" ng-show=\"errors && errors.length\"><ul><li ng-repeat=\"e in errors\">{{e|translate}}</li></ul></div>\n\t\t</modal>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/phone/pages/phone.speed_dialing.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"PhoneSpeedDialingCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Speed Dialing' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'phone.speed_dialing.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Speed Dialing'|translate}}\">\n\t\t\t\t\t<switch ng-model=\"speed_dialing\" class=\"green\"/>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<div class=\"row\" ng-show=\"speed_dialing\">\n\t\t\t\t<div class=\"col-md-6\" ng-repeat=\"dial in speed_dials\">\n\t\t\t\t\t<div class=\"col-md-3\">#{{dial.tone}}</div>\n\t\t\t\t\t<div class=\"col-md-9 form-group\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"dial.number\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<luci-config-lines  ng-show=\"speed_dialing\">\n\t\t\t\t<luci-config-line title=\"{{'Remove all entries from speed dial list'|translate}}\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onClearAll()\" translate>Clear</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-apply></luci-config-apply>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/phone/widgets/uci.voice_client.call_filter.html":"","plugins/settings/pages/settings.configuration.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"SettingsConfigurationCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Configuration' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'settings.config.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Save settings to computer with password protection'|translate}}\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onSaveConfig()\">{{'Save'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Restore settings from a configuration saved on a computer'|translate}}\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onRestoreConfig()\">{{'Load'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section ng-show=\"resetPossible\">\n\t\t\t<h3>{{'Factory Settings'|translate}}</h3>\n\t\t\t<luci-config-lines >\n\t\t\t\t<luci-config-line title=\"{{'Reset restores the factory default settings of your gateway'|translate}}\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onReset()\">{{'Reset'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<modal title=\"{{'Save Configuration to Computer'|translate}}\" ng-show=\"showModal\" on-accept=\"onAcceptModal()\" on-dismiss=\"onDismissModal()\" dismiss-label=\"Cancel\" accept-label=\"Continue\">\n\t\t\t<form name=\"backupForm\" action=\"/cgi-bin/luci-backup\" method=\"post\" >\n\t\t\t\t<input type=\"hidden\" name=\"sessionid\" value=\"{{sessionID}}\"/>\n\t\t\t\t<!--<input type=\"hidden\" name=\"password\" />-->\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label translate>Please add a comment describing this configuration</label>\n\t\t\t\t\t<textarea class=\"form-control\" placeholder=\"{{'Comments'|translate}}...\" name=\"comment\"/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label translate>Backup file password</label>\n\t\t\t\t\t<input type=\"password\" class=\"form-control\" placeholder=\"{{'New Password'|translate}}\" name=\"password\"/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label translate>Re-type password</label>\n\t\t\t\t\t<input type=\"password\" class=\"form-control\" placeholder=\"{{'Re-type password'|translate}}\" name=\"password_repeat\"/>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</modal>\n\t\t<modal title=\"Load New Configuration\" ng-show=\"showUploadModal\" on-accept=\"onUploadConfig()\" on-dismiss=\"onCancelRestore()\" dismiss-label=\"Cancel\" accept-label=\"Continue\">\n\t\t\t<iframe name=\"postiframe\" id=\"postiframe\" style=\"display: none;\" ></iframe>\n\t\t\t<form target=\"postiframe\" name=\"restoreForm\" id=\"restoreForm\" action=\"/cgi-bin/luci-upload\" method=\"post\" enctype=\"multipart/form-data\">\n\t\t\t\t<input type=\"hidden\" name=\"sessionid\" value=\"{{sessionID}}\" />\n\t\t\t\t<input type=\"hidden\" name=\"filename\" value=\"/tmp/backup.tar.gz\" />\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line title=\"{{'Pick configuration backup to upload'|translate}}\">\n\t\t\t\t\t\t<input type=\"file\" class=\"btn btn-default btn-file\" name=\"filedata\" />\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"{{'Backup file password (if encrypted)'|translate}}\">\n\t\t\t\t\t\t<input type=\"password\" class=\"form-control\" name=\"password\" ng-model=\"restore.password\" />\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<!--<luci-config-line title=\"{{'Start upgrade'|translate}}\">\n\t\t\t\t\t\t<input type=\"submit\" class=\"btn btn-lg btn-default\" value=\"{{'Upgrade'|translate}}\"/>\n\t\t\t\t\t</luci-config-line>-->\n\t\t\t\t</luci-config-lines>\n\t\t\t</form>\n\t\t</modal>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/settings/pages/settings.energy.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"SettingsEnergyCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Energy Settings' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'settings.energy.info' | translate }}</luci-config-info>\n\t\t</luci-config-section>\n\t\t<p translate ng-hide=\"boardpanel\">Missing uci config boardpanel.</p>\n\t\t<luci-config-section  ng-show=\"boardpanel\">\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'USB Port'|translate}}\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"boardpanel.settings.usb_port.value\" class=\"green\" ng-change=\"onSave()\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Status-LED'|translate}}\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"boardpanel.settings.status_led.value\" class=\"green\" ng-change=\"onSave()\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Power-LED'|translate}}\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"boardpanel.settings.power_led.value\" class=\"green\" ng-change=\"onSave()\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Power-LED Brightness'|translate}}\" no-pull ng-show=\"boardpanel.settings.power_led.value\">\n\t\t\t\t\t<luci-brightness ng-model=\"boardpanel.settings.power_led_br.value\" min=\"0\" max=\"100\" ng-change=\"onSave()\"></luci-brightness>\n\t\t\t\t\t<!--<switch id=\"enabled\" name=\"enabled\" ng-model=\"boardpanel.settings.power_led_br.value\" class=\"green\"></switch>-->\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/settings/pages/settings.password.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"SettingsPasswordCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Gateway Password' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'settings.password.info' | translate }}</luci-config-info>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Your account'|translate}} ({{username}})\">\n\t\t\t\t\t<button class=\"btn btn-default btn-lg\" ng-click=\"onChangePasswordClick()\">{{'Change Password'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<modal title=\"{{'Change Password'|translate}}\" ng-show=\"showModal\" on-accept=\"onAcceptModal()\" on-dismiss=\"onDismissModal()\" dismiss-label=\"Cancel\" accept-label=\"Change Password\">\n\t\t\t<form class=\"form-horizontal\">\n\t\t\t\t<div class=\"alert alert-danger\" ng-show=\"error\">{{error}}</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label class=\"col-sm-4 control-label\">Current Password</label>\n\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t<input ng-model=\"modal.old_password\" type=\"password\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"Current Password\">\n\t\t\t\t\t</div>\n\t\t\t\t</div> \n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label class=\"col-sm-4 control-label\">New Password</label>\n\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t<input ng-model=\"modal.password\"  type=\"password\" class=\"form-control\" id=\"inputPassword3\" placeholder=\"New Password\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label class=\"col-sm-4 control-label\">Reenter Password</label>\n\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t<input ng-model=\"modal.password2\" type=\"password\" class=\"form-control\" id=\"inputPassword3\" placeholder=\"Reenter Password\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t<label class=\"col-sm-4 control-label\">Password Strength</label>\n\t\t\t\t\t<div class=\"col-sm-4\">\n\t\t\t\t\t\t<div ng-show=\"passwordStrength == 0\"><label>Weak</label><br/><div class=\"col-sm-1\" style=\"height: 4px; background-color: #e00;\" /></div>\n\t\t\t\t\t\t<div ng-show=\"passwordStrength == 1\"><label>Not enough</label><br/><div class=\"col-sm-5\"  style=\"height: 4px; background-color: #FF7E00;\" /></div>\n\t\t\t\t\t\t<div ng-show=\"passwordStrength == 2\"><label>Medium</label><br/><div class=\"col-sm-8\"  style=\"height: 4px; background-color: #FF9000;\" /></div>\n\t\t\t\t\t\t<div ng-show=\"passwordStrength == 3\"><label>Strong</label><br/><div class=\"col-sm-12\"  style=\"height: 4px; background-color: #2D951E;\" /></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</modal>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/settings/pages/settings.uci.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"SettingsUCIController\">\n\t\t<h2>Advanced settings</h2>\n\t\t<ui-select ng-model=\"selectedSection\"\n\t\t\t\t theme=\"bootstrap\"\n\t\t\t\t search-enabled=\"false\"\n\t\t\t\t style=\"width: 200px;\"\n\t\t\t\t on-select=\"onChangeSection($item, $model)\"\n\t\t>\n\t\t\t<ui-select-match placeholder=\"Select config section...\">{{$select.selected.label}}</ui-select-match>\n\t\t\t<ui-select-choices repeat=\"section in sections\"\n\t\t\t\t\t\t\t refresh-delay=\"0\">\n\t\t\t\t<div >{{section.label}}</div>\n\t\t\t</ui-select-choices>\n\t\t</ui-select><br/><br/>\n\t\t<span ng-show=\"loading\" translate>Loading</span>\n\t\t<div class=\"panel panel-danger\" ng-show=\"error && !loading\">\n\t\t\t<div class=\"panel-heading\">\n\t\t\t\t<h3 class=\"panel-title\">ERROR</h3>\n\t\t\t</div>\n\t\t\t<div class=\"panel-body\">\n\t\t\t\t<p class=\"col-md-12\" style=\"font-size: 20px; color: red;\" >{{error}}</p>\n\t\t\t</div>\n\t\t</div>\n\t\t<div ng-repeat=\"(section_id, values) in subsections\" ng-show=\"!loading\" class=\"col-md-6\">\n\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t<div class=\"panel-heading\">\n\t\t\t\t\t<h3 class=\"panel-title\">{{ section_id }}</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel-body\">\n\t\t\t\t\t<div class=\"row\" ng-repeat=\"(k, v) in values\">\n\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t{{k}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col-md-6\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"values[k]\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"panel-footer\">\n\t\t\t\t\t<button class=\"btn btn-primary\" ng-click=\"onSaveSection(section_id)\"> Save </button>\n\t\t\t\t\t<button class=\"btn btn-default\" ng-click=\"onResetSection(section_id)\"> Reset </button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/settings/pages/settings.upgrade.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"SettingsUpgradeCtrl\">\n\t\t<luci-config-section> \n\t\t\t<luci-config-heading>{{ 'Firmware Upgrade' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'settings.upgrade.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Current Firmware Version'|translate}}\">\n\t\t\t\t\t<strong>{{config.system.firmware}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<h2>{{'Manual Firmware Upgrade'|translate}}</h2>\n\t\t\t<p>{{'settings.upgrade.manual.info'|translate}}</p>\n\t\t\t<iframe name=\"postiframe\" id=\"postiframe\" style=\"display: none;\" ></iframe>\n\t\t\t<form target=\"postiframe\" name=\"uploadForm\" action=\"/cgi-bin/luci-upload\" method=\"post\" enctype=\"multipart/form-data\" >\n\t\t\t\t<input type=\"hidden\" name=\"sessionid\" value=\"{{sessionID}}\" />\n\t\t\t\t<input type=\"hidden\" name=\"filename\" value=\"{{uploadFilename}}\" />\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line title=\"{{'Pick firmware file to upload'|translate}}\">\n\t\t\t\t\t\t<input type=\"file\" class=\"btn btn-default btn-file\"  name=\"filedata\" />\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"{{'Start upgrade'|translate}}\">\n\t\t\t\t\t\t<button ng-click=\"onUploadUpgrade()\" class=\"btn btn-lg btn-default\">{{'Upgrade'|translate}}</button>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</form>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<h2>{{'Online Update'|translate}}</h2>\n\t\t\t<p>{{'settings.upgrade.online.info'|translate}}</p>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{onlineUpgrade}}\">\n\t\t\t\t\t<button ng-hide=\"onlineUpgradeAvailable\" class=\"btn btn-lg btn-default\" ng-click=\"onOnlineCheck()\">\n\t\t\t\t\t\t<i class=\"fa fa-spinner fa-spin\" ng-show=\"onlineCheckInProgress\"/>{{'Check for Upgrade'|translate}}</button>\n\t\t\t\t\t<button ng-show=\"onlineUpgradeAvailable\" class=\"btn btn-lg btn-default\" ng-click=\"onUpgradeOnline()\">{{'Install Upgrade'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<h2>{{'USB Firmware Upgrade'|translate}}</h2>\n\t\t\t<p>{{'settings.upgrade.usb.info'|translate}}</p>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{usbUpgrade}}\" ng-show=\"usbUpgradeAvailable\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onUpgradeUSB()\">{{'Install Upgrade'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{usbUpgrade}}\" ng-hide=\"usbUpgradeAvailable\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onCheckUSB()\"><i class=\"fa fa-spinner fa-spin\" ng-show=\"usbCheckInProgress\"/>{{'Check for Upgrade'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<modal title=\"Firmware Upgrade\" ng-show=\"showUpgradeStatus\">\n\t\t\t<center>\n\t\t\t\t<p style=\"text-align: center;\" ng-show=\"!error\">{{message}}</p>\n\t\t\t\t<p class=\"alert alert-danger\" style=\"text-align: center;\" ng-show=\"error\">{{error}}</p>\n\t\t\t\t<br/><br/><i class=\"fa fa-spinner fa-spin fa-4x\" ng-show=\"(progress == 'progress' || progress == 'uploading') && !error\"></i>\n\t\t\t\t<button class=\"btn btn-default btn-lg\" ng-show=\"progress == 'completed' || error\" ng-click=\"onDismissModal()\" translate>Close</button>\n\t\t\t</center>\n\t\t</modal>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.about.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusAbout\">\n\t\t<h1 translate>About</h1>\n\t\t<pre>\nCopyright (C) 2012-2013 Inteno Broadband Technology AB. \nAll rights reserved.\n\nThis program is free software; you can redistribute it and/or\nmodify it under the terms of the GNU General Public License\nversion 2 as published by the Free Software Foundation.\n\nThis program is distributed in the hope that it will be useful, but\nWITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\nGeneral Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program; if not, write to the Free Software\nFoundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA\n02110-1301 USA\n\t\t\t</pre>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.diagnostics.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusDiagnostics\">\n\t\t<luci-config-heading>{{ 'Diagnostic Utility' | translate }}</luci-config-heading>\n\t\t<luci-config-info>{{ 'status.diagnostics.info' | translate }}</luci-config-info>\n\t\t\n\t\t<!--<luci-config-section>\n\t\t\t<h3>{{'Automated Diagnostics'|translate}}</h3>\n\t\t\t<p>{{'status.diagnostics.auto.info'|translate}}</p>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\">{{'Diagnose'|translate}}</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>-->\n\t\t<luci-config-section>\n\t\t\t<h3>{{'Ping Test'|translate}}</h3>\n\t\t\t<p>{{'status.diagnostics.ping.info'|translate}}</p>\n\t\t\t<div class=\"row\">\n\t\t\t\t<form class=\"form-inline form-group  pull-right\">\n\t\t\t\t\t<input type=\"text\" class=\"form-control input-lg\" placeholder=\"{{'Host to ping'|translate}}\" ng-model=\"data.pingHost\"></input>\n\t\t\t\t\t<button type=\"submit\" class=\"btn btn-lg btn-default\" ng-click=\"onPingTest()\">{{'Ping'|translate}}</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div class=\"alert alert-default\" ng-show=\"data.pingResults\">{{'Ping results'|translate}}: <br/><pre>{{data.pingResults}}</pre></div>\n\t\t\t<div class=\"alert alert-danger\" ng-show=\"data.pingError\">{{'Error'|translate}}: <br/><pre>{{data.pingError}}</pre></div>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<h3>{{'Tracing Tool'|translate}}</h3>\n\t\t\t<p>{{'status.diagnostics.trace.info'|translate}}</p>\n\t\t\t<div class=\"row\">\n\t\t\t\t<form class=\"form-inline form-group  pull-right\">\n\t\t\t\t\t<input type=\"text\" class=\"form-control input-lg\" placeholder=\"{{'Host to trace'|translate}}\" ng-model=\"data.traceHost\"></input>\n\t\t\t\t\t<button type=\"submit\" class=\"btn btn-lg btn-default\" ng-click=\"onTraceTest()\">{{'Trace'|translate}}</button>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t\t<div class=\"alert alert-default\" ng-show=\"data.traceResults\">{{'Trace results'|translate}}: <br/><pre>{{data.traceResults}}</pre></div>\n\t\t\t<div class=\"alert alert-danger\" ng-show=\"data.traceError\">{{'Error'|translate}}: <br/><pre>{{data.traceError}}</pre></div>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.events.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusEventsPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Event Log' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.eventlog.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"Categories to Show\">\n\t\t\t\t\t<div class=\"row\" ng-class=\"{'field-error': schedule.days.error}\" >\n\t\t\t\t\t\t\t<div class=\"col-xs-4\" ng-repeat=\"type in allLogTypes\">\n\t\t\t\t\t\t\t\t<div class=\"checkbox checkbox-info\">\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" checklist-model=\"selectedLogTypes\" checklist-value=\"type.value\"> \n\t\t\t\t\t\t\t\t\t<label>{{type.label}}</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"Events to Show\">\n\t\t\t\t\t<luci-select ng-model=\"selectedShowType\" ng-items=\"allEventTypes\" placeholder=\"Select events to show\" on-change=\"onTypeChanged()\"></luci-select>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{'Log' | translate}}</luci-config-heading>\n\t\t\t<table class=\"table\">\n\t\t\t\t<thead>\n\t\t\t\t\t<th translate>Date</th>\n\t\t\t\t\t<th translate>Type</th>\n\t\t\t\t\t<th translate>Source</th>\n\t\t\t\t\t<th translate>Message</th>\n\t\t\t\t</thead>\n\t\t\t\t<tr ng-repeat=\"line in logs track by $index\" class=\"{{lineClass(line)}}\">\n\t\t\t\t\t<td nowrap>{{line[0]}}</td>\n\t\t\t\t\t<td>{{line[1]}}</td>\n\t\t\t\t\t<td>{{line[2]}}</td>\n\t\t\t\t\t<td>{{line[3]}}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.restart.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusRestartPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Restart' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.restart.info' | translate }}</luci-config-info>\n\t\t\t<div class=\"alert alert-default\"></div>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Click here to restart your device'|translate}}\">\n\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onRestart()\">Restart</button>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<modal title=\"Are you sure you want to restart?\" ng-show=\"showConfirmation\" on-accept=\"onConfirmRestart()\" on-dismiss=\"onCancelRestart()\" accept-label=\"Reboot\" dismiss-label=\"Cancel\">\n\t\t\t<p translate>Restart takes about 3 minutes. When restart is completed the page will reload automatically. </p>\n\t\t</modal>\n\t\t<modal title=\"Restarting...\" ng-show=\"showRestartProgress\">\n\t\t\t<p style=\"text-align: center;\">{{message}} ({{progress}}s)<br/><br/><i class=\"fa fa-spinner fa-spin fa-4x\"></i></p>\n\t\t</modal>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.status.dsl.html":"<luci-layout-with-sidebar>\n\t<div id=\"dslstats\" ng-controller=\"StatsCtrl\" ng-form='myForm'>\n\t\t<h2 translate>DSL Status</h2>\n\t\t<p translate>dsl.status.info</p>\n\t\t<div  ng-repeat=\"tbl in tables track by $index\">\n\t\t\t<h2>{{tbl.title|translate}}</h2>\n\t\t\t<table class=\"table\">\n\t\t\t\t<thead>\n\t\t\t\t\t<th ng-repeat=\"col in tbl.columns  track by $index\"  style=\"{{($index != 0)?'text-align: center;width: 30%':''}}\">{{col}}</th>\n\t\t\t\t</thead>\n\t\t\t\t<tr ng-repeat=\"row in tbl.rows  track by $index\">\n\t\t\t\t\t<td ng-repeat=\"cell in row  track by $index\" style=\"{{($index != 0)?'text-align: center;':''}}\">{{cell}}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.status.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatsOverviewCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Status' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.status.info' | translate }}</luci-config-info>\n\t\t</luci-config-section>\n\t\t<luci-expandable title=\"{{sec.name}}\" status=\"sec.status\" ng-repeat=\"sec in sections\" ng-show=\"sec.interface\">\n\t\t\t<luci-config-lines ng-hide=\"sec.interface.errors\" >\n\t\t\t\t<luci-config-line title=\"{{'IP Address'|translate}}\">\n\t\t\t\t\t<strong>{{sec.interface[\"ipv4-address\"][0].address}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Gateway'|translate}}\" ng-show=\"sec.interface['route'][0].nexthop\">\n\t\t\t\t\t<strong>{{sec.interface[\"route\"][0].nexthop}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Primary DNS'|translate}}\" ng-show=\"sec.interface['dns-server'][0]\">\n\t\t\t\t\t<strong>{{sec.interface[\"dns-server\"][0]}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'Secondary DNS'|translate}}\" ng-show=\"sec.interface['dns-server'][1]\">\n\t\t\t\t\t<strong>{{sec.interface[\"dns-server\"][1]}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-expandable>\n\t\t<luci-expandable title=\"DSL\" status=\"dsl_status\" ng-show=\"dsl_status == 'ok' || dsl_status == 'progress'\">\n\t\t\t<luci-config-lines >\n\t\t\t\t<luci-config-line title=\"{{'Line Status'|translate}}\">\n\t\t\t\t\t<strong>{{dslinfo.status}}</strong>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-expandable>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.status.network.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusNetworkPage\">\n\t\t<luci-table\n\t\t\ttitle=\"{{'Connections'|translate}}\"\n\t\t\tdata=\"systemConnectionsTbl\"></luci-table>\n\t\t<luci-table\n\t\t\ttitle=\"{{'DHCP Leases'|translate}}\"\n\t\t\tdata=\"systemDHCPLeasesTbl\"></luci-table>\n\t\t<luci-table\n\t\t\ttitle=\"{{'Active Stations'|translate}}\"\n\t\t\tdata=\"systemStationsTbl\"></luci-table>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.status.system.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusSystemPage\">\n\t\t<luci-table\n\t\t\ttitle=\"{{'System Status'|translate}}\"\n\t\t\tdata=\"systemStatusTbl\"></luci-table>\n\t\t<luci-table\n\t\t\ttitle=\"{{'Memory'|translate}}\"\n\t\t\tdata=\"systemMemoryTbl\"></luci-table>\n\t\t<luci-table\n\t\t\ttitle=\"{{'Storage'|translate}}\"\n\t\t\tdata=\"systemStorageTbl\"></luci-table>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.status.tv.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusTVPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Vodafone TV Status' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.tv.info' | translate }}</luci-config-info>\n\t\t\t<h3>{{'Connection Status'|translate}}</h3>\n\t\t\t<h3>{{'Vodafone TV Channels'|translate}}</h3>\n\t\t\t<table class=\"table\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th translate>Group IP</th>\n\t\t\t\t\t<th translate>Client IP</th>\n\t\t\t\t\t<th translate>LAN Port</th>\n\t\t\t\t\t<th translate>WAN Port</th> \n\t\t\t\t\t<th translate>Timeout</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-repeat=\"row in igmptable\">\n\t\t\t\t\t<td>{{row.group}}</td>\n\t\t\t\t\t<td>{{row.reporter}}</td>\n\t\t\t\t\t<td>{{row.device}}</td>\n\t\t\t\t\t<td>{{row.srcdevice}}</td>\n\t\t\t\t\t<td>{{row.timeout}}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/status/pages/status.status.voice.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"StatusVoicePageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Voice Status' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.voice.info' | translate }}</luci-config-info>\n\t\t\t<h3>{{'Your Phone Numbers'|translate}}</h3>\n\t\t\t<table class=\"table\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th translate>Name</th>\n\t\t\t\t\t<th translate>Phone Number</th>\n\t\t\t\t\t<th translate>Domain</th>\n\t\t\t\t\t<th style=\"text-align: center;\" translate>Status</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-repeat=\"sip in sipAccounts track by $index\">\n\t\t\t\t\t<td>{{sip[\".config\"].name.value}}</td>\n\t\t\t\t\t<td>{{sip.username}}</td>\n\t\t\t\t\t<td>{{sip.domain}}</td>\n\t\t\t\t\t<td style=\"text-align: center;\">\n\t\t\t\t\t\t<i class=\"fa fa-check-circle fa-2x text-success\" ng-show=\"sip.registered\"/>\n\t\t\t\t\t\t<i class=\"fa fa-times-circle fa-2x\" ng-hide=\"sip.registered\"/>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Voice Lines' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'status.voice_lines.info' | translate }}</luci-config-info>\n\t\t\t<h3>{{'Your Phone Lines'|translate}}</h3>\n\t\t\t<table class=\"table\">\n\t\t\t\t<tr>\n\t\t\t\t\t<th translate>Name</th>\n\t\t\t\t\t<th width=\"30%\" style=\"text-align: center;\" translate>State</th>\n\t\t\t\t</tr>\n\t\t\t\t<tr ng-repeat=\"line in brcmLines track by $index\">\n\t\t\t\t\t<td>{{line[\".config\"].name.value}}</td>\n\t\t\t\t\t<td style=\"text-align: center;\">{{line.sub_0_state}}</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/wifi/pages/wifi.general.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"WifiGeneralPageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'General WiFi Settings' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'wifi.general.info' | translate }}</luci-config-info>\n\t\t</luci-config-section>\n\t\t<luci-config-section>\n\t\t\t<div class=\"alert alert-warning\" ng-show=\"status.schedule.value\">\n\t\t\t\t<p translate>You have wifi-scheduling enabled. This means that your wifi will be automatically turned on and off based on your schedule settings</p>\n\t\t\t</div>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Wifi Network'|translate}}\">\n\t\t\t\t\t<switch ng-model=\"status.wlan.value\" class=\"green\" ng-change=\"onApply\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line ng-show=\"boardpanel\" title=\"{{'Enable WiFi On/Off button on EasyBox'|translate}}\">\n\t\t\t\t\t<switch ng-model=\"boardpanel.settings.wifibutton.value\" class=\"green\" ng-change=\"onApply\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section ng-show=\"status.wlan.value\">\n\t\t\t<luci-config-heading>{{ 'Setup' | translate }}</luci-config-heading>\n\t\t\t<p translate>wifi.general.setup.info</p>\n\t\t\t<br/>\n\t\t\t<div class=\"alert alert-info\" ng-show=\"info\">\n\t\t\t\t<p><span class=\"glyphicon glyphicon-info-sign\" aria-hidden=\"true\"></span> {{info}}</p>\n\t\t\t</div>\n\t\t\t<div class=\"row\" ng-repeat=\"iface in interfaces\">\n\t\t\t\t<div class=\"col-md-12\" >\n\t\t\t\t\t<uci-wireless-interface ng-model=\"iface\"></uci-wireless-interface>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</luci-config-section>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/wifi/pages/wifi.html":"<p></p>\n","plugins/wifi/pages/wifi.mac_filter.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"WifiMacFilterPageCtrl\">\n\t\t<luci-config-heading>{{ 'MAC Filter' | translate }}</luci-config-heading>\n\t\t<luci-config-info>{{ 'wifi.macfilter.info' | translate }}</luci-config-info>\n\t\t<luci-config-section ng-show=\"interfaces && interfaces.length != 0\" ng-repeat=\"iface in interfaces\">\n\t\t\t<luci-config-heading>{{ iface.ssid.value }} ({{iface[\".frequency\"]}})</luci-config-heading>\n\t\t\t<uci-wireless-interface-macfilter-edit ng-model=\"iface\"></uci-wifi-iface-macfilter-edit>\n\t\t</luci-config-section>\n\t\t<!--<luci-config-section>\n\t\t\t<luci-config-heading>str.guest.wifi</luci-config-heading>\n\t\t\t<uci-wireless-interface-macfilter-edit ng-model=\"guest_wifi\"></uci-wifi-iface-macfilter-edit>\n\t\t</luci-config-section>-->\n\t\t<luci-config-apply></luci-config-apply>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/wifi/pages/wifi.schedule.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"WifiSchedulePageCtrl\">\n\t\t<luci-config-section>\n\t\t\t<luci-config-heading>{{ 'Schedule' | translate }}</luci-config-heading>\n\t\t\t<luci-config-info>{{ 'wifi.schedule.info' | translate }}</luci-config-info>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Schedule Function'|translate}}\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"status.schedule.value\" class=\"green\"></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t</luci-config-section>\n\t\t<luci-config-section ng-show=\"status.schedule.value\">\n\t\t\t<luci-config-heading>{{ 'Setup Scheduling' | translate }}</luci-config-heading>\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'During this time the WiFi is'|translate}}\">\n\t\t\t\t\t<luci-select ng-model=\"status.sched_status.value\" ng-items=\"statusItems\"></luci-select>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<table class=\"table\">\n\t\t\t\t<thead>\n\t\t\t\t\t<th translate>Day</th>\n\t\t\t\t\t<th translate>Time</th>\n\t\t\t\t\t<!--<th translate>Status</th>-->\n\t\t\t\t\t<th></th>\n\t\t\t\t\t<th></th>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr ng-repeat=\"item in schedules\">\n\t\t\t\t\t\t\t<td>{{ item.days.value.join(\",\") }}</td>\n\t\t\t\t\t\t\t<td>{{ item.time.value }}</td>\n\t\t\t\t\t\t\t<!--<td>{{ item.enabled.value }}</td>-->\n\t\t\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onEditSchedule(item)\"><i class=\"fa fa-pencil\" style=\"{{editColor}}\"></i></button></td>\n\t\t\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onDeleteSchedule(item)\"><i class=\"fa fa-trash-o\"></i></button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td colspan=\"3\"></td>\n\t\t\t\t\t\t\t<td style=\"width: 1%\"><button class=\"btn btn-default\" ng-click=\"onAddSchedule()\"><i class=\"fa fa-plus\"></i></button></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</luci-config-section>\n\t\t<luci-config-apply></luci-config-apply>\n\t\t<modal title=\"Add a new WiFi Schedule\" ng-show=\"showScheduleDialog\" on-accept=\"onAcceptSchedule()\" \n\t\t\ton-dismiss=\"onDismissSchedule()\" dismiss-label=\"Cancel\" accept-label=\"Save\">\n\t\t\t<uci-wireless-schedule-edit ng-model=\"schedule\" schedule=\"schedule\" valid=\"scheduleValid\"></uci-wireless-schedule-edit>\n\t\t\t<div class=\"alert alert-danger\" ng-show=\"errors && errors.length\"><ul><li ng-repeat=\"e in errors\">{{e|translate}}</li></ul></div>\n\t\t</modal>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/wifi/pages/wifi.settings.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"WifiSettingsPageCtrl\">\n\t\t<luci-config>\n\t\t\t<luci-config-section>\n\t\t\t\t<luci-config-heading>{{'Settings'|translate}}</luci-config-heading>\n\t\t\t\t<luci-config-info>{{'wifi.settings.info'|translate}}</luci-config-info>\n\t\t\t\t<div ng-repeat=\"dev in devices\">\n\t\t\t\t\t<div class=\"panel panel-default\">\n\t\t\t\t\t\t<div class=\"panel-heading\">\n\t\t\t\t\t\t\t<div class=\"btn-group pull-right\">\n\t\t\t\t\t\t\t\t<span class=\"btn \" ng-click=\"dev.expanded = !(dev.expanded)\">\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-caret-down fa-2x\" ng-show=\"dev.expanded\"></i>\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-caret-left fa-2x\" ng-hide=\"dev.expanded\"></i>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h3 class=\"panel-title\" style=\"font-size: 1.5em; padding-top: 0.4em; font-weight: bold; font-family: 'vodafont';\">{{dev.frequency}}</h3>\n\t\t\t\t\t\t\t<div style=\"clear: both;\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"panel-body \" ng-show=\"dev.expanded\" >\n\t\t\t\t\t\t\t<uci-wireless-device-edit ng-model=\"dev.fields\"></uci-wireless-device-edit>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"panel-footer\" ng-show=\"dev.expanded\">\n\t\t\t\t\t\t<luci-config-apply></luci-config-apply>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</luci-config-section>\n\t\t</luci-config>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/wifi/pages/wifi.wps.html":"<luci-layout-with-sidebar>\n\t<div ng-controller=\"WifiWPSPageCtrl\">\n\t\t<luci-config>\n\t\t\t<luci-config-section>\n\t\t\t\t<luci-config-heading>{{ 'WPS' | translate }}</luci-config-heading>\n\t\t\t\t<luci-config-info>{{ 'wifi.wps.info' | translate }}</luci-config-info>\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line title=\"{{'WPS Function'|translate}}\">\n\t\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"wireless.status.wps.value\" class=\"green\" ng-change=\"save()\"></switch>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</luci-config-section>\n\t\t\t<luci-config-section ng-show=\"progress == 1\">\n\t\t\t\t<p translate>wifi.wps.in.progress</p>\n\t\t\t</luci-config-section>\n\t\t\t<luci-config-section ng-show=\"wireless.status.wps.value && progress != 1\">\n\t\t\t\t<luci-config-lines ng-repeat=\"interface in wireless['@wifi-iface']\">\n\t\t\t\t\t<luci-config-line title=\"{{'Enable WPS on '|translate}} {{interface.ssid.value}}\">\n\t\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"interface.wps_pbc.value\" class=\"green\" ng-change=\"save()\" ></switch>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</luci-config-section>\n\t\t\t<luci-config-section ng-show=\"wireless.status.wps.value\">\n\t\t\t\t<h2 translate>WPS-PBC: Push Button on Device</h2>\n\t\t\t\t<p translate>wifi.wps.pbc.info</p>\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line title=\"{{'Enable WPS button on router'|translate}}\">\n\t\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"boardpanel.settings.wpsbutton.value\" class=\"green\" ng-change=\"save()\" ></switch>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line ng-show=\"boardpanel.settings.wpsbutton.value\" title=\"{{'Pressing WiFi on/off button on your router for long time activates pairing '|translate}}\" >\n\t\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"boardpanel.settings.wifibutton.value\" class=\"green\" ng-change=\"save()\" ></switch>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"{{'Pair (within 2 minutes)'|translate}}\" ng-show=\"boardpanel.settings.wpsbutton.value\">\n\t\t\t\t\t\t<button class=\"btn btn-lg btn-default col-xs-12\" ng-click=\"onPairPBC()\" translate>Pair</button>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</luci-config-section>\n\t\t\t<luci-config-section ng-show=\"wireless.status.wps.value\">\n\t\t\t\t<h2 translate>WPS-REG: Router provides PIN</h2>\n\t\t\t\t<p translate>wifi.wps.pin.info</p>\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line ng-show=\"boardpanel\" title=\"{{'WPS Using Generated PIN'|translate}}\">\n\t\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"boardpanel.settings.wpsdevicepin.value\" ng-change=\"save()\" class=\"green\"></switch>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"{{'Generated PIN'|translate}}\" ng-show=\"boardpanel.settings.wpsdevicepin.value\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control input-lg\"  ng-model=\"generatedPIN\" />\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"{{'Generate New PIN'|translate}}\" ng-show=\"boardpanel.settings.wpsdevicepin.value\">\n\t\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onGeneratePIN()\" translate>Generate</button>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</luci-config-section>\n\t\t\t<luci-config-section ng-show=\"wireless.status.wps.value\">\n\t\t\t\t<h2 translate>WPS-PIN: Another Device provides PIN</h2>\n\t\t\t\t<p translate>wifi.wps.otherpin.info</p>\n\t\t\t\t<luci-config-lines>\n\t\t\t\t\t<luci-config-line title=\"{{'Enter your device PIN'|translate}}\">\n\t\t\t\t\t\t<input type=\"text\" class=\"form-control input-lg\" ng-model=\"data.userPIN\" placeholder=\"{{'Enter your PIN here'|translate}}\"/>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t\t<luci-config-line title=\"{{'Pair (within 2 minutes)'|translate}}\">\n\t\t\t\t\t\t<button class=\"btn btn-lg btn-default\" ng-click=\"onPairUserPIN()\" translate>Pair</button>\n\t\t\t\t\t</luci-config-line>\n\t\t\t\t</luci-config-lines>\n\t\t\t</luci-config-section>\n\t\t</luci-config>\n\t\t<modal title=\"{{'Attempting to Pair'|translate}}\" ng-show=\"progress > 0 && progress != 2 && progress < 8\" dismiss-label=\"Cancel\" on-dismiss=\"onCancelWPS()\">\n\t\t\t<div style=\"text-align: center;\">\n\t\t\t\t<div ng-show=\"progress != 0\" >\n\t\t\t\t\t<i class=\"fa fa-spinner fa-spin fa-3x\"/>\n\t\t\t\t\t<!--<p>{{timeRemaining}} <span translate>seconds remaining</span></p>-->\n\t\t\t\t</div>\n\t\t\t\t<p translate>{{text_status}}</p>\n\t\t\t</div>\n\t\t</modal>\n\t</div>\n</luci-layout-with-sidebar>\n","plugins/wifi/widgets/uci.wireless.device.edit.html":"<div>\n\t<luci-config-lines>\n\t\t<luci-config-line title=\"{{'Wifi Mode'|translate}}\">\n\t\t\t<luci-select ng-model=\"device.hwmode.value\" ng-items=\"allModes\"/>\n\t\t</luci-config-line>\n\t\t<luci-config-line title=\"{{'Bandwidth'|translate}}\">\n\t\t\t<luci-select ng-model=\"device.bandwidth.value\" ng-items=\"allBandwidths\"/>\n\t\t</luci-config-line>\n\t\t<luci-config-line title=\"{{'Channel'|translate}}\">\n\t\t\t<luci-select ng-model=\"device.channel.value\" ng-items=\"allChannels\"/>\n\t\t</luci-config-line>\n\t</luci-config-lines>\n</div>\n\n","plugins/wifi/widgets/uci.wireless.interface.html":"<div>\n\t<div class=\"panel panel-default\">\n\t\t<div class=\"panel-heading\">\n\t\t\t<div class=\"btn-group pull-right\">\n\t\t\t\t<span class=\"btn\">\n\t\t\t\t\t<i ng-class=\"interface.disabled.value?'wifi-disabled':'wifi-enabled'\" class=\"fa fa-wifi fa-2x\"/>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"btn \" ng-click=\"expanded = !expanded\">\n\t\t\t\t\t<i class=\"fa fa-caret-down fa-2x\" ng-show=\"expanded\"></i>\n\t\t\t\t\t<i class=\"fa fa-caret-left fa-2x\" ng-hide=\"expanded\"></i>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<h3 class=\"panel-title\" style=\"font-size: 1.5em; padding-top: 0.4em; font-weight: bold; font-family: 'vodafont';\">{{interface.ssid.value}} ({{interface[\".frequency\"]}})</h3>\n\t\t\t<div style=\"clear: both;\"></div>\n\t\t</div>\n\t\t<div class=\"panel-body \" ng-show=\"expanded\" >\n\t\t\t<luci-config-lines>\n\t\t\t\t<luci-config-line title=\"{{'Enabled'|translate}}\"><switch ng-model=\"interface.disabled.value\" class=\"green\" inverted></switch></luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<luci-config-lines ng-hide=\"interface.disabled.value\">\n\t\t\t\t<luci-config-line title=\"{{'wifi-iface.ssid'|translate}}\">\n\t\t\t\t\t<input type=\"text\" class=\"form-control\" placeholder=\"Wifi Name\" ng-model=\"interface.ssid.value\" maxlength=\"32\"/>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'wifi-iface.closed'|translate}}\">\n\t\t\t\t\t<switch id=\"enabled\" name=\"enabled\" ng-model=\"interface.closed.value\" class=\"green\" inverted></switch>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'wifi-iface.device'|translate}}\">\n\t\t\t\t\t<luci-select ng-model=\"interface.device.value\" ng-items=\"devices\" placeholder=\"Choose Radio\"></luci-select>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'wifi-iface.encryption'|translate}}\">\n\t\t\t\t\t<luci-select ng-model=\"interface.encryption.value\" ng-items=\"cryptoChoices\" placeholder=\"Choose Protection\"/>\n\t\t\t\t</luci-config-line>\n\t\t\t\t<luci-config-line title=\"{{'wifi-iface.key'|translate}}\" ng-show=\"interface.encryption.value != 'none'\">\n\t\t\t\t\t<input type=\"{{(!showPassword)?'password':'text'}}\" class=\"form-control\" placeholder=\"{{'wifi-iface.key'|translate}}\" ng-model=\"interface.key.value\" />\n\t\t\t\t\t<div class=\"checkbox checkbox-info\">\n\t\t\t\t\t\t<input type=\"checkbox\" ng-model=\"showPassword\" />\n\t\t\t\t\t\t<label><strong>{{'Display Characters'|translate}}</strong></label>\n\t\t\t\t\t</div>\n\t\t\t\t</luci-config-line>\n\t\t\t</luci-config-lines>\n\t\t\t<luci-errors ng-model=\"errors\"/>\n\t\t</div>\n\t\t<div class=\"panel-footer\" ng-show=\"expanded\">\n\t\t\t<luci-config-apply on-pre-apply=\"onPreApply()\"></luci-config-apply>\n\t\t</div>\n\t</div>\n</div>\n\n","plugins/wifi/widgets/uci.wireless.interface.macfilter.edit.html":"<div>\n\t<luci-config-lines>\n\t\t<luci-config-line title=\"{{'MAC Filtering'|translate}}\">\n\t\t\t<switch ng-model=\"interface.macfilter.value\" class=\"green\" ng-change=\"onFilterEnable\"></switch>\n\t\t</luci-config-line>\n\t</luci-config-lines>\n\t<div ng-show=\"interface.macfilter.value\">\n\t\t<!--<div class=\"alert alert-danger\">\n\t\t\t<div ng-message=\"pattern\" translate><span class=\"glyphicon glyphicon-exclamation-sign\" aria-hidden=\"true\"></span>You must enter a valid MAC address!</div>\n\t\t</div>-->\n\t\t<luci-config-lines>\n\t\t\t<luci-config-line title=\"{{'Access for listed devices'|translate}}\">\n\t\t\t\t<div class=\"btn-group\">\n\t\t\t\t\t<button ng-repeat=\"mode in [[1,'allow'], [2, 'deny']]\" class=\"btn btn-default\" ng-model=\"interface.macmode.value\" btn-radio=\"mode[0]\">{{ 'interface.macmode.'+mode[1] | translate}}</button>\n\t\t\t\t</div>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Currently added devices'|translate}}\">\n\t\t\t\t<table class=\"table\">\n\t\t\t\t\t<tr ng-repeat=\"mac in maclist\">\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"mac.hostname\" ng-blur=\"rebuildMacList()\"/>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" ng-model=\"mac.macaddr\" ng-blur=\"rebuildMacList()\" placeholder=\"xx:xx:xx:xx:xx:xx\" /><!-- ng-pattern=\"/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/\"-->\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<button class=\"btn btn-default\" ng-click=\"onDeleteHost(mac)\"><i class=\"fa fa-trash-o\"></i></button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<button class=\"btn btn-default\" ng-click=\"onAddNewClient()\"><i class=\"fa fa-plus\"></i></button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Add currently connected hosts to the list'|translate}}\">\n\t\t\t\t<button class=\"btn btn-default\" ng-click=\"onAddClients()\"><i class=\"fa fa-plus\"></i></button>\n\t\t\t</luci-config-line>\n\t\t</luci-config-lines>\n\t</div>\n\t<modal title=\"{{'Add clients to MAC filtering list'|translate}}\" ng-show=\"showModal\" on-accept=\"onAcceptModal()\" on-dismiss=\"onDismissModal()\" dismiss-label=\"{{'Cancel'|translate}}\" accept-label=\"{{'Save'|translate}}\">\n\t\t<div class=\"row\" ng-repeat=\"cl in client_list\">\n\t\t\t<div class=\"col-xs-6\">\n                <div class=\"checkbox checkbox-small checkbox-info\">\n                    <input type=\"checkbox\" ng-model=\"cl.checked\"/>\n\t\t\t\t    <label><strong>{{cl.client.hostname}}</strong></label>\n                </div>\n\t\t\t</div>\n\t\t\t<div class=\"col-xs-6\" style=\"margin-top: 5px;\">\n\t\t\t\t<label>{{cl.client.macaddr}}</label>\n\t\t\t</div>\n\t\t</div>\n\t</modal>\n</div>\n\n","plugins/wifi/widgets/uci.wireless.schedule.edit.html":"<form name=\"ruleForm\" class=\"form-horizontal\" novalidate>\n\t<!--<div class=\"modal-body\">-->\n\t\t<luci-config-lines>\n\t\t\t<luci-config-line title=\"{{'Time Frame'|translate}}\">\n\t\t\t\t<luci-select ng-model=\"selectedTimeFrame\" on-change=\"onChangeDays()\" ng-items=\"allTimeFrames\"></luci-select>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Days'|translate}}\" no-pull >\n\t\t\t\t<div class=\"row\" ng-class=\"{'field-error': schedule.days.error}\" >\n\t\t\t\t\t<div class=\"col-xs-6 \" ng-repeat=\"day in allDayNames\">\n\t\t\t\t\t\t<div class=\"checkbox checkbox-info\">\n\t\t\t\t\t\t\t<input type=\"checkbox\" checklist-model=\"schedule.days.value\" checklist-value=\"day.value\">\n\t\t\t\t\t\t\t<label><strong>{{day.label}}</strong></label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</luci-config-line>\n\t\t\t<luci-config-line title=\"{{'Time'|translate}}\" no-pull>\n\t\t\t\t<luci-input-timespan ng-model=\"schedule.time\" luci-timespan-validator=\"schedule.time.value\"></luci-input-timespan>\n\t\t\t</luci-config-line>\n\t\t</luci-config-lines>\n\t<!--</div>-->\n</form>\n","plugins/wifi/widgets/wifi.signal.indicator.html":"<div style=\"position: relative; float: right; left: -30px;\">\n\t<div ng-repeat=\"bar in bars track by $index\" ng-style=\"barStyle($index, bar)\"></div>\n</div>\n\n","themes/default/index.html":"\t\n\t<div ui-view=\"content\" style=\"min-height: 1000px;\"></div>\n","themes/inteno-red/index.html":"<div ui-view=\"content\" style=\"min-height: 1000px;\"></div>\n","themes/vodafone/index.html":"<div class=\"container\" role=\"main\" style=\"min-height: 1000px;\">\n\t<div class=\"row\">\n\t\t<div class=\"col-xs-1\"></div>\n\t\t<div class=\"col-xs-10\">\n\t\t\t<div ui-view=\"content\" style=\"min-height: 1000px;\" ></div>\n\t\t</div>\n\t\t<div class=\"col-xs-1\"></div>\n\t</div>\n</div>\n","themes/vodafone/widgets/luci.footer.html":"<div class=\"container footer\">\n\t<div class=\"row\">\n\t\t<div class=\"col-xs-1\"></div>\n\t\t<div class=\"col-xs-10\">\n\t\t\t<div class=\"col-md-6 col-xs-12\">\n\t\t\t\t<div class=\"row\" >\n\t\t\t\t\t<span ng-repeat=\"lang in languages\">\n\t\t\t\t\t\t<a style=\"text-decoration: {{isActiveLanguage(lang)?'underline':'none'}}; color: inherit;\" href=\"\" ng-click=\"setLanguage(lang)\">{{lang.title|translate}}</a>{{$last ? '' : ' | '}}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-md-6 col-xs-12\" style=\"text-align: right;\">\n\t\t\t\t<div class=\"row\">{{firmware}}</div>\n\t\t\t\t<div class=\"row\"><span translate>WAN IP Address</span>: {{wanip}}</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"col-xs-1\"></div>\n\t</div>\n\t<div class=\"row\">\n\t\t<div class=\"col-xs-1\"></div>\n\t\t<div class=\"col-xs-10\">\n\t\t\t<!--<juci-theme-picker></juci-theme-picker>-->\n\t\t</div>\n\t\t<div class=\"col-xs-1\"></div>\n\t</div>\n</div>\n","themes/vodafone/widgets/luci.layout.naked.html":"<div class=\"container\" role=\"main\">\n\t<div class=\"row\">\n\t\t<div class=\"col-xs-12\">\n\t\t\t<ng-transclude></ng-transclude>\n\t\t</div>\n\t</div>\n</div>\n","themes/vodafone/widgets/luci.layout.single_column.html":"<luci-top-bar></luci-top-bar>\n<div>\n\t<div class=\"container dynheight\" role=\"main\" >\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-xs-1\"></div>\n\t\t\t<div class=\"col-xs-10\">\n\t\t\t\t<div id=\"rhombus-wrap\" class=\"visible-lg visible-md visible-sm\">\n\t\t\t\t\t<div id=\"logo\"> </div>\n\t\t\t\t\t<div id=\"rhombus\"> </div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<luci-navbar></luci-navbar>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-xs-12\">\n\t\t\t\t\t\t<ng-transclude></ng-transclude>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-xs-1\"></div>\n\t\t</div>\n\t</div>\n\t<luci-footer></luci-footer>\n</div>\n","themes/vodafone/widgets/luci.layout.with_sidebar.html":"<luci-top-bar></luci-top-bar>\n<div>\n\t<div class=\"luci-content container dynheight\" role=\"main\" >\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-xs-1\"></div>\n\t\t\t<div class=\"col-xs-10\">\n\t\t\t\t<div id=\"rhombus-wrap\" class=\"visible-lg visible-md visible-sm\">\n\t\t\t\t\t<div id=\"logo\"> </div>\n\t\t\t\t\t<div id=\"rhombus\"> </div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t<luci-navbar></luci-navbar>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-md-3\">\n\t\t\t\t\t\t<luci-nav></luci-nav>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col-md-9\">\n\t\t\t\t\t\t<luci-errors></luci-errors>\n\t\t\t\t\t\t<ng-transclude></ng-transclude>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-xs-1\"></div>\n\t\t</div>\n\t\t<!--\n\t\t<div class=\"row\">\n\t\t\t\t<luci-navbar></luci-navbar>\n\t\t</div>\n\t\t\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-3\">\n\t\t\t\t<luci-nav></luci-nav>\n\t\t\t</div>\n\t\t\t<div class=\"col-md-9\">\n\t\t\t\t<ng-transclude></ng-transclude>\n\t\t\t</div>\n\t\t</div>-->\n\t</div>\n\t<luci-footer></luci-footer>\n</div>\n","themes/vodafone/widgets/luci.navbar.html":"<div class=\"navbar navbar-default navbar-vodafone\" ng-controller=\"NavigationCtrl\">\n\t<div class=\"navbar-header\">\n\t\t<button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\">\n\t\t\t<span class=\"sr-only\" translate>Toggle navigation</span>\n\t\t\t<span class=\"icon-bar\"></span>\n\t\t\t<span class=\"icon-bar\"></span>\n\t\t\t<span class=\"icon-bar\"></span>\n\t\t</button>\n\t\t\n\t\t<a class=\"navbar-brand visible-xs\" href=\"/#!overview\" >\n\t\t\t<div class=\"logo\"></div>\n\t\t</a>\n\t</div>\n\t<div id=\"navbar\" class=\"navbar-collapse collapse\">\n\t\t<ul class=\"nav navbar-nav\" auto-active>\n\t\t\t<li class=\"dropdown\" ng-repeat=\"item in tree.children_list track by $index\" >\n\t\t\t\t<a href=\"#!{{item.path}}\" role=\"button\" style=\"width: 100%; text-align: center;\">{{item.text | translate}} </a>\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n</div>\n","themes/vodafone/widgets/luci.top_bar.html":"<div class=\"top-bar\">\n\t<div class=\"container\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-xs-1\"></div>\n\t\t\t<div class=\"col-xs-10\">\n\t\t\t\t<div class=\"outer-select\">\n\t\t\t\t\t<luci-select ng-model=\"selectedModeValue\" ng-items=\"guiModes\" on-change=\"onChangeMode()\"></luci-select>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"box-model\">{{ model }}</div>\n\t\t\t</div>\n\t\t\t<div class=\"col-xs-1\"></div>\n\t\t</div>\n\t</div>\n</div>\n"};var JUCI_PLUGINS = {"plugins/core/plugin.json":{"scripts":["widgets/theme_picker","widgets/luci.login","widgets/luci.progress","widgets/luci.table","widgets/luci.config","widgets/luci.select","widgets/luci.layout.naked","widgets/luci.layout.single_column","widgets/luci.layout.with_sidebar","widgets/luci.footer","widgets/luci.nav","widgets/luci.navbar","widgets/luci.top_bar","widgets/luci.brightness","widgets/luci.expandable","widgets/luci.errors","widgets/core.modal","widgets/luci.input.port","widgets/luci.input.port.range","widgets/luci.input.timespan","widgets/luci.input.radio","widgets/luci.input.ipaddress"],"pages":{"overview":{"view":"pages/overview"},"login":{"view":"pages/login"},"bootstrap":{"view":"pages/bootstrap"}}},"plugins/internet/plugin.json":{"scripts":["internet","widgets/uci.firewall.nat.rule.edit","widgets/uci.network.interface.edit"],"pages":{"internet/dns":{"view":"pages/internet.dns"},"settings.network":{"view":"pages/settings.network"},"internet/exposed_host":{"view":"pages/internet.exposed_host"},"internet/firewall":{"view":"pages/internet.firewall"},"internet/port_mapping":{"view":"pages/internet.port_mapping"},"status.nat":{"view":"pages/status.nat"}}},"plugins/juci-mod-dropbear/plugin.json":{"scripts":["dropbear"],"pages":{"settings/dropbear":{"view":"pages/services.dropbear"}}},"plugins/phone/plugin.json":{"scripts":["phone","widgets/uci.voice_client.call_filter"],"pages":{"phone/number_blocking":{"view":"pages/phone.number_blocking"},"phone/call_log":{"view":"pages/phone.call_log"},"phone/numbers":{"view":"pages/phone.numbers"},"phone/lines":{"view":"pages/phone.lines"},"phone/ringing_schedule":{"view":"pages/phone.ringing_schedule"},"phone/speed_dialing":{"view":"pages/phone.speed_dialing"}}},"plugins/settings/plugin.json":{"scripts":["settings"],"pages":{"settings.configuration":{"view":"pages/settings.configuration"},"settings.energy":{"view":"pages/settings.energy"},"settings.password":{"view":"pages/settings.password"},"settings.upgrade":{"view":"pages/settings.upgrade"},"settings.uci":{"view":"pages/settings.uci"}}},"plugins/status/plugin.json":{"scripts":["status"],"pages":{"status.status":{"view":"pages/status.status"},"status.status.system":{"view":"pages/status.status.system"},"status.status.network":{"view":"pages/status.status.network"},"status.status.dsl":{"view":"pages/status.status.dsl"},"status.status.tv":{"view":"pages/status.status.tv"},"status.status.voice":{"view":"pages/status.status.voice"},"status.about":{"view":"pages/status.about"},"status.diagnostics":{"view":"pages/status.diagnostics"},"status.events":{"view":"pages/status.events"},"status.restart":{"view":"pages/status.restart"}}},"plugins/wifi/plugin.json":{"scripts":["wifi","widgets/uci.wireless.interface","widgets/uci.wireless.interface.macfilter.edit","widgets/uci.wireless.device.edit","widgets/uci.wireless.schedule.edit","widgets/wifi.signal.indicator"],"pages":{"wifi.general":{"view":"pages/wifi.general"},"wifi.mac_filter":{"view":"pages/wifi.mac_filter"},"wifi.schedule":{"view":"pages/wifi.schedule"},"wifi.settings":{"view":"pages/wifi.settings"},"wifi.wps":{"view":"pages/wifi.wps"}}}};/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
/*jshint onevar: false, indent:4 */
/*global setImmediate: false, setTimeout: false, console: false */
(function () {

    var async = {};

    // global on the server, window in the browser
    var root, previous_async;

    root = this;
    if (root != null) {
      previous_async = root.async;
    }

    async.noConflict = function () {
        root.async = previous_async;
        return async;
    };

    function only_once(fn) {
        var called = false;
        return function() {
            if (called) throw new Error("Callback was already called.");
            called = true;
            fn.apply(root, arguments);
        }
    }

    //// cross-browser compatiblity functions ////

    var _toString = Object.prototype.toString;

    var _isArray = Array.isArray || function (obj) {
        return _toString.call(obj) === '[object Array]';
    };

    var _each = function (arr, iterator) {
        for (var i = 0; i < arr.length; i += 1) {
            iterator(arr[i], i, arr);
        }
    };

    var _map = function (arr, iterator) {
        if (arr.map) {
            return arr.map(iterator);
        }
        var results = [];
        _each(arr, function (x, i, a) {
            results.push(iterator(x, i, a));
        });
        return results;
    };

    var _reduce = function (arr, iterator, memo) {
        if (arr.reduce) {
            return arr.reduce(iterator, memo);
        }
        _each(arr, function (x, i, a) {
            memo = iterator(memo, x, i, a);
        });
        return memo;
    };

    var _keys = function (obj) {
        if (Object.keys) {
            return Object.keys(obj);
        }
        var keys = [];
        for (var k in obj) {
            if (obj.hasOwnProperty(k)) {
                keys.push(k);
            }
        }
        return keys;
    };

    //// exported async module functions ////

    //// nextTick implementation with browser-compatible fallback ////
    if (typeof process === 'undefined' || !(process.nextTick)) {
        if (typeof setImmediate === 'function') {
            async.nextTick = function (fn) {
                // not a direct alias for IE10 compatibility
                setImmediate(fn);
            };
            async.setImmediate = async.nextTick;
        }
        else {
            async.nextTick = function (fn) {
                setTimeout(fn, 0);
            };
            async.setImmediate = async.nextTick;
        }
    }
    else {
        async.nextTick = process.nextTick;
        if (typeof setImmediate !== 'undefined') {
            async.setImmediate = function (fn) {
              // not a direct alias for IE10 compatibility
              setImmediate(fn);
            };
        }
        else {
            async.setImmediate = async.nextTick;
        }
    }

    async.each = function (arr, iterator, callback) {
        callback = callback || function () {};
        if (!arr.length) {
            return callback();
        }
        var completed = 0;
        _each(arr, function (x) {
            iterator(x, only_once(done) );
        });
        function done(err) {
          if (err) {
              callback(err);
              callback = function () {};
          }
          else {
              completed += 1;
              if (completed >= arr.length) {
                  callback();
              }
          }
        }
    };
    async.forEach = async.each;

    async.eachSeries = function (arr, iterator, callback) {
        callback = callback || function () {};
        if (!arr.length) {
            return callback();
        }
        var completed = 0;
        var iterate = function () {
            iterator(arr[completed], function (err) {
                if (err) {
                    callback(err);
                    callback = function () {};
                }
                else {
                    completed += 1;
                    if (completed >= arr.length) {
                        callback();
                    }
                    else {
                        iterate();
                    }
                }
            });
        };
        iterate();
    };
    async.forEachSeries = async.eachSeries;

    async.eachLimit = function (arr, limit, iterator, callback) {
        var fn = _eachLimit(limit);
        fn.apply(null, [arr, iterator, callback]);
    };
    async.forEachLimit = async.eachLimit;

    var _eachLimit = function (limit) {

        return function (arr, iterator, callback) {
            callback = callback || function () {};
            if (!arr.length || limit <= 0) {
                return callback();
            }
            var completed = 0;
            var started = 0;
            var running = 0;

            (function replenish () {
                if (completed >= arr.length) {
                    return callback();
                }

                while (running < limit && started < arr.length) {
                    started += 1;
                    running += 1;
                    iterator(arr[started - 1], function (err) {
                        if (err) {
                            callback(err);
                            callback = function () {};
                        }
                        else {
                            completed += 1;
                            running -= 1;
                            if (completed >= arr.length) {
                                callback();
                            }
                            else {
                                replenish();
                            }
                        }
                    });
                }
            })();
        };
    };


    var doParallel = function (fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [async.each].concat(args));
        };
    };
    var doParallelLimit = function(limit, fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [_eachLimit(limit)].concat(args));
        };
    };
    var doSeries = function (fn) {
        return function () {
            var args = Array.prototype.slice.call(arguments);
            return fn.apply(null, [async.eachSeries].concat(args));
        };
    };


    var _asyncMap = function (eachfn, arr, iterator, callback) {
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        if (!callback) {
            eachfn(arr, function (x, callback) {
                iterator(x.value, function (err) {
                    callback(err);
                });
            });
        } else {
            var results = [];
            eachfn(arr, function (x, callback) {
                iterator(x.value, function (err, v) {
                    results[x.index] = v;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };
    async.map = doParallel(_asyncMap);
    async.mapSeries = doSeries(_asyncMap);
    async.mapLimit = function (arr, limit, iterator, callback) {
        return _mapLimit(limit)(arr, iterator, callback);
    };

    var _mapLimit = function(limit) {
        return doParallelLimit(limit, _asyncMap);
    };

    // reduce only has a series version, as doing reduce in parallel won't
    // work in many situations.
    async.reduce = function (arr, memo, iterator, callback) {
        async.eachSeries(arr, function (x, callback) {
            iterator(memo, x, function (err, v) {
                memo = v;
                callback(err);
            });
        }, function (err) {
            callback(err, memo);
        });
    };
    // inject alias
    async.inject = async.reduce;
    // foldl alias
    async.foldl = async.reduce;

    async.reduceRight = function (arr, memo, iterator, callback) {
        var reversed = _map(arr, function (x) {
            return x;
        }).reverse();
        async.reduce(reversed, memo, iterator, callback);
    };
    // foldr alias
    async.foldr = async.reduceRight;

    var _filter = function (eachfn, arr, iterator, callback) {
        var results = [];
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        eachfn(arr, function (x, callback) {
            iterator(x.value, function (v) {
                if (v) {
                    results.push(x);
                }
                callback();
            });
        }, function (err) {
            callback(_map(results.sort(function (a, b) {
                return a.index - b.index;
            }), function (x) {
                return x.value;
            }));
        });
    };
    async.filter = doParallel(_filter);
    async.filterSeries = doSeries(_filter);
    // select alias
    async.select = async.filter;
    async.selectSeries = async.filterSeries;

    var _reject = function (eachfn, arr, iterator, callback) {
        var results = [];
        arr = _map(arr, function (x, i) {
            return {index: i, value: x};
        });
        eachfn(arr, function (x, callback) {
            iterator(x.value, function (v) {
                if (!v) {
                    results.push(x);
                }
                callback();
            });
        }, function (err) {
            callback(_map(results.sort(function (a, b) {
                return a.index - b.index;
            }), function (x) {
                return x.value;
            }));
        });
    };
    async.reject = doParallel(_reject);
    async.rejectSeries = doSeries(_reject);

    var _detect = function (eachfn, arr, iterator, main_callback) {
        eachfn(arr, function (x, callback) {
            iterator(x, function (result) {
                if (result) {
                    main_callback(x);
                    main_callback = function () {};
                }
                else {
                    callback();
                }
            });
        }, function (err) {
            main_callback();
        });
    };
    async.detect = doParallel(_detect);
    async.detectSeries = doSeries(_detect);

    async.some = function (arr, iterator, main_callback) {
        async.each(arr, function (x, callback) {
            iterator(x, function (v) {
                if (v) {
                    main_callback(true);
                    main_callback = function () {};
                }
                callback();
            });
        }, function (err) {
            main_callback(false);
        });
    };
    // any alias
    async.any = async.some;

    async.every = function (arr, iterator, main_callback) {
        async.each(arr, function (x, callback) {
            iterator(x, function (v) {
                if (!v) {
                    main_callback(false);
                    main_callback = function () {};
                }
                callback();
            });
        }, function (err) {
            main_callback(true);
        });
    };
    // all alias
    async.all = async.every;

    async.sortBy = function (arr, iterator, callback) {
        async.map(arr, function (x, callback) {
            iterator(x, function (err, criteria) {
                if (err) {
                    callback(err);
                }
                else {
                    callback(null, {value: x, criteria: criteria});
                }
            });
        }, function (err, results) {
            if (err) {
                return callback(err);
            }
            else {
                var fn = function (left, right) {
                    var a = left.criteria, b = right.criteria;
                    return a < b ? -1 : a > b ? 1 : 0;
                };
                callback(null, _map(results.sort(fn), function (x) {
                    return x.value;
                }));
            }
        });
    };

    async.auto = function (tasks, callback) {
        callback = callback || function () {};
        var keys = _keys(tasks);
        var remainingTasks = keys.length
        if (!remainingTasks) {
            return callback();
        }

        var results = {};

        var listeners = [];
        var addListener = function (fn) {
            listeners.unshift(fn);
        };
        var removeListener = function (fn) {
            for (var i = 0; i < listeners.length; i += 1) {
                if (listeners[i] === fn) {
                    listeners.splice(i, 1);
                    return;
                }
            }
        };
        var taskComplete = function () {
            remainingTasks--
            _each(listeners.slice(0), function (fn) {
                fn();
            });
        };

        addListener(function () {
            if (!remainingTasks) {
                var theCallback = callback;
                // prevent final callback from calling itself if it errors
                callback = function () {};

                theCallback(null, results);
            }
        });

        _each(keys, function (k) {
            var task = _isArray(tasks[k]) ? tasks[k]: [tasks[k]];
            var taskCallback = function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (args.length <= 1) {
                    args = args[0];
                }
                if (err) {
                    var safeResults = {};
                    _each(_keys(results), function(rkey) {
                        safeResults[rkey] = results[rkey];
                    });
                    safeResults[k] = args;
                    callback(err, safeResults);
                    // stop subsequent errors hitting callback multiple times
                    callback = function () {};
                }
                else {
                    results[k] = args;
                    async.setImmediate(taskComplete);
                }
            };
            var requires = task.slice(0, Math.abs(task.length - 1)) || [];
            var ready = function () {
                return _reduce(requires, function (a, x) {
                    return (a && results.hasOwnProperty(x));
                }, true) && !results.hasOwnProperty(k);
            };
            if (ready()) {
                task[task.length - 1](taskCallback, results);
            }
            else {
                var listener = function () {
                    if (ready()) {
                        removeListener(listener);
                        task[task.length - 1](taskCallback, results);
                    }
                };
                addListener(listener);
            }
        });
    };

    async.retry = function(times, task, callback) {
        var DEFAULT_TIMES = 5;
        var attempts = [];
        // Use defaults if times not passed
        if (typeof times === 'function') {
            callback = task;
            task = times;
            times = DEFAULT_TIMES;
        }
        // Make sure times is a number
        times = parseInt(times, 10) || DEFAULT_TIMES;
        var wrappedTask = function(wrappedCallback, wrappedResults) {
            var retryAttempt = function(task, finalAttempt) {
                return function(seriesCallback) {
                    task(function(err, result){
                        seriesCallback(!err || finalAttempt, {err: err, result: result});
                    }, wrappedResults);
                };
            };
            while (times) {
                attempts.push(retryAttempt(task, !(times-=1)));
            }
            async.series(attempts, function(done, data){
                data = data[data.length - 1];
                (wrappedCallback || callback)(data.err, data.result);
            });
        }
        // If a callback is passed, run this as a controll flow
        return callback ? wrappedTask() : wrappedTask
    };

    async.waterfall = function (tasks, callback) {
        callback = callback || function () {};
        if (!_isArray(tasks)) {
          var err = new Error('First argument to waterfall must be an array of functions');
          return callback(err);
        }
        if (!tasks.length) {
            return callback();
        }
        var wrapIterator = function (iterator) {
            return function (err) {
                if (err) {
                    callback.apply(null, arguments);
                    callback = function () {};
                }
                else {
                    var args = Array.prototype.slice.call(arguments, 1);
                    var next = iterator.next();
                    if (next) {
                        args.push(wrapIterator(next));
                    }
                    else {
                        args.push(callback);
                    }
                    async.setImmediate(function () {
                        iterator.apply(null, args);
                    });
                }
            };
        };
        wrapIterator(async.iterator(tasks))();
    };

    var _parallel = function(eachfn, tasks, callback) {
        callback = callback || function () {};
        if (_isArray(tasks)) {
            eachfn.map(tasks, function (fn, callback) {
                if (fn) {
                    fn(function (err) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        if (args.length <= 1) {
                            args = args[0];
                        }
                        callback.call(null, err, args);
                    });
                }
            }, callback);
        }
        else {
            var results = {};
            eachfn.each(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length <= 1) {
                        args = args[0];
                    }
                    results[k] = args;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };

    async.parallel = function (tasks, callback) {
        _parallel({ map: async.map, each: async.each }, tasks, callback);
    };

    async.parallelLimit = function(tasks, limit, callback) {
        _parallel({ map: _mapLimit(limit), each: _eachLimit(limit) }, tasks, callback);
    };

    async.series = function (tasks, callback) {
        callback = callback || function () {};
        if (_isArray(tasks)) {
            async.mapSeries(tasks, function (fn, callback) {
                if (fn) {
                    fn(function (err) {
                        var args = Array.prototype.slice.call(arguments, 1);
                        if (args.length <= 1) {
                            args = args[0];
                        }
                        callback.call(null, err, args);
                    });
                }
            }, callback);
        }
        else {
            var results = {};
            async.eachSeries(_keys(tasks), function (k, callback) {
                tasks[k](function (err) {
                    var args = Array.prototype.slice.call(arguments, 1);
                    if (args.length <= 1) {
                        args = args[0];
                    }
                    results[k] = args;
                    callback(err);
                });
            }, function (err) {
                callback(err, results);
            });
        }
    };

    async.iterator = function (tasks) {
        var makeCallback = function (index) {
            var fn = function () {
                if (tasks.length) {
                    tasks[index].apply(null, arguments);
                }
                return fn.next();
            };
            fn.next = function () {
                return (index < tasks.length - 1) ? makeCallback(index + 1): null;
            };
            return fn;
        };
        return makeCallback(0);
    };

    async.apply = function (fn) {
        var args = Array.prototype.slice.call(arguments, 1);
        return function () {
            return fn.apply(
                null, args.concat(Array.prototype.slice.call(arguments))
            );
        };
    };

    var _concat = function (eachfn, arr, fn, callback) {
        var r = [];
        eachfn(arr, function (x, cb) {
            fn(x, function (err, y) {
                r = r.concat(y || []);
                cb(err);
            });
        }, function (err) {
            callback(err, r);
        });
    };
    async.concat = doParallel(_concat);
    async.concatSeries = doSeries(_concat);

    async.whilst = function (test, iterator, callback) {
        if (test()) {
            iterator(function (err) {
                if (err) {
                    return callback(err);
                }
                async.whilst(test, iterator, callback);
            });
        }
        else {
            callback();
        }
    };

    async.doWhilst = function (iterator, test, callback) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            var args = Array.prototype.slice.call(arguments, 1);
            if (test.apply(null, args)) {
                async.doWhilst(iterator, test, callback);
            }
            else {
                callback();
            }
        });
    };

    async.until = function (test, iterator, callback) {
        if (!test()) {
            iterator(function (err) {
                if (err) {
                    return callback(err);
                }
                async.until(test, iterator, callback);
            });
        }
        else {
            callback();
        }
    };

    async.doUntil = function (iterator, test, callback) {
        iterator(function (err) {
            if (err) {
                return callback(err);
            }
            var args = Array.prototype.slice.call(arguments, 1);
            if (!test.apply(null, args)) {
                async.doUntil(iterator, test, callback);
            }
            else {
                callback();
            }
        });
    };

    async.queue = function (worker, concurrency) {
        if (concurrency === undefined) {
            concurrency = 1;
        }
        function _insert(q, data, pos, callback) {
          if (!q.started){
            q.started = true;
          }
          if (!_isArray(data)) {
              data = [data];
          }
          if(data.length == 0) {
             // call drain immediately if there are no tasks
             return async.setImmediate(function() {
                 if (q.drain) {
                     q.drain();
                 }
             });
          }
          _each(data, function(task) {
              var item = {
                  data: task,
                  callback: typeof callback === 'function' ? callback : null
              };

              if (pos) {
                q.tasks.unshift(item);
              } else {
                q.tasks.push(item);
              }

              if (q.saturated && q.tasks.length === q.concurrency) {
                  q.saturated();
              }
              async.setImmediate(q.process);
          });
        }

        var workers = 0;
        var q = {
            tasks: [],
            concurrency: concurrency,
            saturated: null,
            empty: null,
            drain: null,
            started: false,
            paused: false,
            push: function (data, callback) {
              _insert(q, data, false, callback);
            },
            kill: function () {
              q.drain = null;
              q.tasks = [];
            },
            unshift: function (data, callback) {
              _insert(q, data, true, callback);
            },
            process: function () {
                if (!q.paused && workers < q.concurrency && q.tasks.length) {
                    var task = q.tasks.shift();
                    if (q.empty && q.tasks.length === 0) {
                        q.empty();
                    }
                    workers += 1;
                    var next = function () {
                        workers -= 1;
                        if (task.callback) {
                            task.callback.apply(task, arguments);
                        }
                        if (q.drain && q.tasks.length + workers === 0) {
                            q.drain();
                        }
                        q.process();
                    };
                    var cb = only_once(next);
                    worker(task.data, cb);
                }
            },
            length: function () {
                return q.tasks.length;
            },
            running: function () {
                return workers;
            },
            idle: function() {
                return q.tasks.length + workers === 0;
            },
            pause: function () {
                if (q.paused === true) { return; }
                q.paused = true;
            },
            resume: function () {
                if (q.paused === false) { return; }
                q.paused = false;
                // Need to call q.process once per concurrent
                // worker to preserve full concurrency after pause
                for (var w = 1; w <= q.concurrency; w++) {
                    async.setImmediate(q.process);
                }
            }
        };
        return q;
    };

    async.priorityQueue = function (worker, concurrency) {

        function _compareTasks(a, b){
          return a.priority - b.priority;
        };

        function _binarySearch(sequence, item, compare) {
          var beg = -1,
              end = sequence.length - 1;
          while (beg < end) {
            var mid = beg + ((end - beg + 1) >>> 1);
            if (compare(item, sequence[mid]) >= 0) {
              beg = mid;
            } else {
              end = mid - 1;
            }
          }
          return beg;
        }

        function _insert(q, data, priority, callback) {
          if (!q.started){
            q.started = true;
          }
          if (!_isArray(data)) {
              data = [data];
          }
          if(data.length == 0) {
             // call drain immediately if there are no tasks
             return async.setImmediate(function() {
                 if (q.drain) {
                     q.drain();
                 }
             });
          }
          _each(data, function(task) {
              var item = {
                  data: task,
                  priority: priority,
                  callback: typeof callback === 'function' ? callback : null
              };

              q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);

              if (q.saturated && q.tasks.length === q.concurrency) {
                  q.saturated();
              }
              async.setImmediate(q.process);
          });
        }

        // Start with a normal queue
        var q = async.queue(worker, concurrency);

        // Override push to accept second parameter representing priority
        q.push = function (data, priority, callback) {
          _insert(q, data, priority, callback);
        };

        // Remove unshift function
        delete q.unshift;

        return q;
    };

    async.cargo = function (worker, payload) {
        var working     = false,
            tasks       = [];

        var cargo = {
            tasks: tasks,
            payload: payload,
            saturated: null,
            empty: null,
            drain: null,
            drained: true,
            push: function (data, callback) {
                if (!_isArray(data)) {
                    data = [data];
                }
                _each(data, function(task) {
                    tasks.push({
                        data: task,
                        callback: typeof callback === 'function' ? callback : null
                    });
                    cargo.drained = false;
                    if (cargo.saturated && tasks.length === payload) {
                        cargo.saturated();
                    }
                });
                async.setImmediate(cargo.process);
            },
            process: function process() {
                if (working) return;
                if (tasks.length === 0) {
                    if(cargo.drain && !cargo.drained) cargo.drain();
                    cargo.drained = true;
                    return;
                }

                var ts = typeof payload === 'number'
                            ? tasks.splice(0, payload)
                            : tasks.splice(0, tasks.length);

                var ds = _map(ts, function (task) {
                    return task.data;
                });

                if(cargo.empty) cargo.empty();
                working = true;
                worker(ds, function () {
                    working = false;

                    var args = arguments;
                    _each(ts, function (data) {
                        if (data.callback) {
                            data.callback.apply(null, args);
                        }
                    });

                    process();
                });
            },
            length: function () {
                return tasks.length;
            },
            running: function () {
                return working;
            }
        };
        return cargo;
    };

    var _console_fn = function (name) {
        return function (fn) {
            var args = Array.prototype.slice.call(arguments, 1);
            fn.apply(null, args.concat([function (err) {
                var args = Array.prototype.slice.call(arguments, 1);
                if (typeof console !== 'undefined') {
                    if (err) {
                        if (console.error) {
                            console.error(err);
                        }
                    }
                    else if (console[name]) {
                        _each(args, function (x) {
                            console[name](x);
                        });
                    }
                }
            }]));
        };
    };
    async.log = _console_fn('log');
    async.dir = _console_fn('dir');
    /*async.info = _console_fn('info');
    async.warn = _console_fn('warn');
    async.error = _console_fn('error');*/

    async.memoize = function (fn, hasher) {
        var memo = {};
        var queues = {};
        hasher = hasher || function (x) {
            return x;
        };
        var memoized = function () {
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            var key = hasher.apply(null, args);
            if (key in memo) {
                async.nextTick(function () {
                    callback.apply(null, memo[key]);
                });
            }
            else if (key in queues) {
                queues[key].push(callback);
            }
            else {
                queues[key] = [callback];
                fn.apply(null, args.concat([function () {
                    memo[key] = arguments;
                    var q = queues[key];
                    delete queues[key];
                    for (var i = 0, l = q.length; i < l; i++) {
                      q[i].apply(null, arguments);
                    }
                }]));
            }
        };
        memoized.memo = memo;
        memoized.unmemoized = fn;
        return memoized;
    };

    async.unmemoize = function (fn) {
      return function () {
        return (fn.unmemoized || fn).apply(null, arguments);
      };
    };

    async.times = function (count, iterator, callback) {
        var counter = [];
        for (var i = 0; i < count; i++) {
            counter.push(i);
        }
        return async.map(counter, iterator, callback);
    };

    async.timesSeries = function (count, iterator, callback) {
        var counter = [];
        for (var i = 0; i < count; i++) {
            counter.push(i);
        }
        return async.mapSeries(counter, iterator, callback);
    };

    async.seq = function (/* functions... */) {
        var fns = arguments;
        return function () {
            var that = this;
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            async.reduce(fns, args, function (newargs, fn, cb) {
                fn.apply(that, newargs.concat([function () {
                    var err = arguments[0];
                    var nextargs = Array.prototype.slice.call(arguments, 1);
                    cb(err, nextargs);
                }]))
            },
            function (err, results) {
                callback.apply(that, [err].concat(results));
            });
        };
    };

    async.compose = function (/* functions... */) {
      return async.seq.apply(null, Array.prototype.reverse.call(arguments));
    };

    var _applyEach = function (eachfn, fns /*args...*/) {
        var go = function () {
            var that = this;
            var args = Array.prototype.slice.call(arguments);
            var callback = args.pop();
            return eachfn(fns, function (fn, cb) {
                fn.apply(that, args.concat([cb]));
            },
            callback);
        };
        if (arguments.length > 2) {
            var args = Array.prototype.slice.call(arguments, 2);
            return go.apply(this, args);
        }
        else {
            return go;
        }
    };
    async.applyEach = doParallel(_applyEach);
    async.applyEachSeries = doSeries(_applyEach);

    async.forever = function (fn, callback) {
        function next(err) {
            if (err) {
                if (callback) {
                    return callback(err);
                }
                throw err;
            }
            fn(next);
        }
        next();
    };

    // Node.js
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = async;
    }
    // AMD / RequireJS
    else if (typeof define !== 'undefined' && define.amd) {
        define([], function () {
            return async;
        });
    }
    // included directly via <script> tag
    else {
        root.async = async;
    }

})();
;
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports=require("./lib/schema");require("./lib/patterns/reference");require("./lib/patterns/nothing");require("./lib/patterns/anything");require("./lib/patterns/object");require("./lib/patterns/or");require("./lib/patterns/equality");require("./lib/patterns/regexp");require("./lib/patterns/class");require("./lib/patterns/schema");require("./lib/extensions/Boolean");require("./lib/extensions/Number");require("./lib/extensions/String");require("./lib/extensions/Object");require("./lib/extensions/Array");require("./lib/extensions/Function");require("./lib/extensions/Schema")},{"./lib/extensions/Array":3,"./lib/extensions/Boolean":4,"./lib/extensions/Function":5,"./lib/extensions/Number":6,"./lib/extensions/Object":7,"./lib/extensions/Schema":8,"./lib/extensions/String":9,"./lib/patterns/anything":10,"./lib/patterns/class":11,"./lib/patterns/equality":12,"./lib/patterns/nothing":13,"./lib/patterns/object":14,"./lib/patterns/or":15,"./lib/patterns/reference":16,"./lib/patterns/regexp":17,"./lib/patterns/schema":18,"./lib/schema":19}],2:[function(require,module,exports){var Schema=module.exports=function(){};Schema.prototype={wrap:function(){if(this.wrapped)return this.validate;this.wrapped=true;var publicFunctions=["toJSON","unwrap","errors"];publicFunctions=publicFunctions.concat(this.publicFunctions||[]);for(var i=0;i<publicFunctions.length;i++){if(!this[publicFunctions[i]])continue;this.validate[publicFunctions[i]]=this[publicFunctions[i]].bind(this)}return this.validate},unwrap:function(){return this},toJSON:session(function(makeReference){var json,session=Schema.session;if(!session.serialized)session.serialized={objects:[],jsons:[],ids:[]};var index=session.serialized.objects.indexOf(this);if(makeReference&&index!==-1){json=session.serialized.jsons[index];if(json.id==null){do{json.id="id-"+Math.floor(Math.random()*1e5)}while(session.serialized.ids.indexOf(json.id)!==-1);session.serialized.ids.push(json.id)}json={$ref:json.id}}else{json={};if(this.doc!=null)json.description=this.doc;session.serialized.objects.push(this);session.serialized.jsons.push(json)}return json})};Schema.extend=function(descriptor){if(!descriptor.validate){throw new Error("Schema objects must have a validate function.")}var constructor=function(){var self=this;if(this.initialize)this.initialize.apply(this,arguments);this.validate=this.validate.bind(this);this.validate.schema=this.validate};var prototype=Object.create(Schema.prototype);for(var key in descriptor)prototype[key]=descriptor[key];constructor.prototype=prototype;return constructor};var active=false;function session(f){return function(){if(active){return f.apply(this,arguments)}else{active=true;var result=f.apply(this,arguments);for(var i in session)delete session[i];active=false;return result}}}Schema.session=session;function lastDefinedResult(functions,arg){var i=functions.length,result;while(i--){result=functions[i](arg);if(result!=null)return result}}var fromJSdefs=[];Schema.fromJS=lastDefinedResult.bind(null,fromJSdefs);Schema.fromJS.def=Array.prototype.push.bind(fromJSdefs);var fromJSONdefs=[];Schema.fromJSON=session(lastDefinedResult.bind(null,fromJSONdefs));Schema.fromJSON.def=Array.prototype.push.bind(fromJSONdefs);Schema.patterns={};Schema.extensions={}},{}],3:[function(require,module,exports){var Schema=require("../BaseSchema"),EqualitySchema=require("../patterns/equality"),anything=require("../patterns/anything").instance;var ArraySchema=module.exports=Schema.extensions.ArraySchema=Schema.extend({initialize:function(itemSchema,max,min){this.itemSchema=itemSchema||anything;this.min=min||0;this.max=max||Infinity},errors:function(instance){var self=this;if(!(instance instanceof Array))return instance+" is not an instance of Array";if(this.min===this.max){if(instance.length!==this.min)return"Array length should be equal to "+this.min+" and is "+instance.length}else{if(this.min>0&&instance.length<this.min)return"Array length should not be less than "+this.min+" and is "+instance.length;if(this.max<Infinity&&instance.length>this.max)return"Array length should not be more than "+this.max+" and is "+instance.length}var results={};for(var i=0;i<instance.length;i++){var errs=this.itemSchema.errors(instance[i]);if(errs){results[i]=errs}}var resultKeysArray=Object.keys(results);if(resultKeysArray.length>0){return results}return false},validate:function(instance){if(!(instance instanceof Array))return false;if(this.min===this.max){if(instance.length!==this.min)return false}else{if(this.min>0&&instance.length<this.min)return false;if(this.max<Infinity&&instance.length>this.max)return false}for(var i=0;i<instance.length;i++){if(!this.itemSchema.validate(instance[i]))return false}return true},toJSON:Schema.session(function(){var json=Schema.prototype.toJSON.call(this,true);if(json["$ref"]!=null)return json;json.type="array";if(this.min>0)json.minItems=this.min;if(this.max<Infinity)json.maxItems=this.max;if(this.itemSchema!==anything)json.items=this.itemSchema.toJSON();return json})});Schema.fromJSON.def(function(sch){if(!sch||sch.type!=="array")return;if(sch.items instanceof Array)return;return new ArraySchema(Schema.fromJSON(sch.items),sch.maxItems,sch.minItems)});Array.of=function(){var args=Array.prototype.slice.call(arguments).reverse();if(args.length==3){if(!(typeof args[2]==="number")){throw new Error("3 arguments were passed to Array.of and 1st argument (minLength) SHOULD be number NOT "+args[2])}if(!(typeof args[1]==="number")){throw new Error("3 arguments were passed to Array.of and 2nd argument (maxLength) SHOULD be number NOT "+args[1])}}if(args.length===2){if(!(typeof args[1]==="number")){throw new Error("2 arguments were passed to Array.of and 1nd argument (length) SHOULD be number NOT "+args[1])}args[2]=args[1]}return new ArraySchema(Schema.fromJS(args[0]),args[1],args[2]).wrap()};Array.like=function(other){return new EqualitySchema(other).wrap()};Array.schema=(new ArraySchema).wrap()},{"../BaseSchema":2,"../patterns/anything":10,"../patterns/equality":12}],4:[function(require,module,exports){var Schema=require("../BaseSchema");var BooleanSchema=module.exports=Schema.extensions.BooleanSchema=new Schema.extend({errors:function(instance){if(!this.validate(instance)){return instance+" is not Boolean"}return false},validate:function(instance){return Object(instance)instanceof Boolean},toJSON:function(){return{type:"boolean"}}});var booleanSchema=module.exports=(new BooleanSchema).wrap();Schema.fromJSON.def(function(sch){if(!sch||sch.type!=="boolean")return;return booleanSchema});Boolean.schema=booleanSchema},{"../BaseSchema":2}],5:[function(require,module,exports){var ReferenceSchema=require("../patterns/reference");Function.reference=function(f){return new ReferenceSchema(f).wrap()}},{"../patterns/reference":16}],6:[function(require,module,exports){var Schema=require("../BaseSchema");var NumberSchema=module.exports=Schema.extensions.NumberSchema=Schema.extend({initialize:function(minimum,exclusiveMinimum,maximum,exclusiveMaximum,divisibleBy){this.minimum=minimum!=null?minimum:-Infinity;this.exclusiveMinimum=exclusiveMinimum;this.maximum=minimum!=null?maximum:Infinity;this.exclusiveMaximum=exclusiveMaximum;this.divisibleBy=divisibleBy||0},min:function(minimum){return new NumberSchema(minimum,false,this.maximum,this.exclusiveMaximum,this.divisibleBy).wrap()},above:function(minimum){return new NumberSchema(minimum,true,this.maximum,this.exclusiveMaximum,this.divisibleBy).wrap()},max:function(maximum){return new NumberSchema(this.minimum,this.exclusiveMinimum,maximum,false,this.divisibleBy).wrap()},below:function(maximum){return new NumberSchema(this.minimum,this.exclusiveMinimum,maximum,true,this.divisibleBy).wrap()},step:function(divisibleBy){return new NumberSchema(this.minimum,this.exclusiveMinimum,this.maximum,this.exclusiveMaximum,divisibleBy).wrap()},publicFunctions:["min","above","max","below","step"],errors:function(instance){var message;if(!(Object(instance)instanceof Number)){message=instance+" is not Number"}else if(instance<this.minimum){message="number = "+instance+" is smaller than required minimum = "+this.minimum}else if(instance>this.maximum){message="number = "+instance+" is bigger than required maximum = "+this.maximum}else if(this.divisibleBy!==0&&instance%this.divisibleBy!==0){message="number = "+instance+" is not divisibleBy "+this.divisibleBy}if(message!=null){return message}return false},validate:function(instance){return Object(instance)instanceof Number&&(this.exclusiveMinimum?instance>this.minimum:instance>=this.minimum)&&(this.exclusiveMaximum?instance<this.maximum:instance<=this.maximum)&&(this.divisibleBy===0||instance%this.divisibleBy===0)},toJSON:function(){var json=Schema.prototype.toJSON.call(this);json.type=this.divisibleBy!==0&&this.divisibleBy%1===0?"integer":"number";if(this.divisibleBy!==0&&this.divisibleBy!==1)json.divisibleBy=this.divisibleBy;if(this.minimum!==-Infinity){json.minimum=this.minimum;if(this.exclusiveMinimum===true)json.exclusiveMinimum=true}if(this.maximum!==Infinity){json.maximum=this.maximum;if(this.exclusiveMaximum===true)json.exclusiveMaximum=true}return json}});Schema.fromJSON.def(function(sch){if(!sch||sch.type!=="number"&&sch.type!=="integer")return;return new NumberSchema(sch.minimum,sch.exclusiveMinimum,sch.maximum,sch.exclusiveMaximum,sch.divisibleBy||(sch.type==="integer"?1:0))});Number.schema=(new NumberSchema).wrap();Number.min=Number.schema.min;Number.above=Number.schema.above;Number.max=Number.schema.max;Number.below=Number.schema.below;Number.step=Number.schema.step;Number.Integer=Number.step(1)},{"../BaseSchema":2}],7:[function(require,module,exports){var ReferenceSchema=require("../patterns/reference"),EqualitySchema=require("../patterns/equality"),ObjectSchema=require("../patterns/object");Object.like=function(other){return new EqualitySchema(other).wrap()};Object.reference=function(o){return new ReferenceSchema(o).wrap()};Object.schema=(new ObjectSchema).wrap()},{"../patterns/equality":12,"../patterns/object":14,"../patterns/reference":16}],8:[function(require,module,exports){var Schema=require("../BaseSchema"),schema=require("../schema");var SchemaReference=module.exports=Schema.extensions.SchemaReference=Schema.extend({validate:function(){throw new Error("Trying to validate unresolved schema reference.")},resolve:function(schemaDescriptor){var schemaObject=Schema.fromJS(schemaDescriptor);for(var key in schemaObject){if(schemaObject[key]instanceof Function){this[key]=schemaObject[key].bind(schemaObject)}else{this[key]=schemaObject[key]}}delete this.resolve},publicFunctions:["resolve"]});schema.reference=function(schemaDescriptor){return new SchemaReference};function renewing(ref){ref.resolve=function(){Schema.self=schema.self=renewing(new SchemaReference);return SchemaReference.prototype.resolve.apply(this,arguments)};return ref}Schema.self=schema.self=renewing(new SchemaReference);Schema.fromJSON.def(function(sch){if(sch.id==null&&sch["$ref"]==null)return;var id,session=Schema.session;if(!session.deserialized)session.deserialized={references:{},subscribers:{}};if(sch.id!=null){id=sch.id;delete sch.id;var schemaObject=Schema.fromJSON(sch);sch.id=id;session.deserialized.references[id]=schemaObject;(session.deserialized.subscribers[id]||[]).forEach(function(callback){callback(schemaObject)});return schemaObject}else{id=sch["$ref"];if(session.deserialized.references[id])return session.deserialized.references[id];if(!session.deserialized.subscribers[id])session.deserialized.subscribers[id]=[];var reference=new SchemaReference;session.deserialized.subscribers[id].push(reference.resolve.bind(reference));return reference}})},{"../BaseSchema":2,"../schema":19}],9:[function(require,module,exports){var RegexpSchema=require("../patterns/regexp");String.of=function(){var args=Array.prototype.slice.call(arguments).reverse(),charset=args[0]?"["+args[0]+"]":".",max=args[1],min=args.length>2?args[2]:args[1],regexp="^"+charset+"{"+(min||0)+","+(max||"")+"}$";return new RegexpSchema(RegExp(regexp)).wrap()};String.schema=(new RegexpSchema).wrap()},{"../patterns/regexp":17}],10:[function(require,module,exports){var Schema=require("../BaseSchema");var AnythingSchema=module.exports=Schema.patterns.AnythingSchema=Schema.extend({errors:function(instance){if(instance==null)return"anything cannot be null";return false},validate:function(instance){return instance!=null},toJSON:function(){return{type:"any"}}});var anything=AnythingSchema.instance=new AnythingSchema;Schema.fromJS.def(function(sch){if(sch===undefined)return anything});Schema.fromJSON.def(function(sch){if(sch.type==="any")return anything})},{"../BaseSchema":2}],11:[function(require,module,exports){var Schema=require("../BaseSchema");var ClassSchema=module.exports=Schema.patterns.ClassSchema=Schema.extend({initialize:function(constructor){this.constructor=constructor},getName:function(obj){if(!obj)return obj;if(obj instanceof Object){return obj.constructor.name}else{return typeof obj+" = "+obj}},errors:function(instance){var middleMessage=" is not instance of ";if(instance==null){return this.getName(instance)+middleMessage+this.getName(this.constructor)}if(!(instance instanceof this.constructor)){return this.getName(instance)+middleMessage+this.getName(this.constructor)}return false},validate:function(instance){return instance instanceof this.constructor}});Schema.fromJS.def(function(constructor){if(!(constructor instanceof Function))return;if(constructor.schema instanceof Function){return constructor.schema.unwrap()}else{return new ClassSchema(constructor)}})},{"../BaseSchema":2}],12:[function(require,module,exports){var Schema=require("../BaseSchema");var equal=function(a,b){if(Object(a)!==a||Object(b)!==b)return a===b;if(a instanceof Array!==b instanceof Array)return false;if(Object.keys(a).length!==Object.keys(b).length)return false;for(var key in a){if(!equal(a[key],b[key]))return false}return true};var EqualitySchema=module.exports=Schema.patterns.EqualitySchema=Schema.extend({initialize:function(object){this.object=object},errors:function(instance){if(!equal(instance,this.object)){return instance+" is not equal to "+this.object}return false},validate:function(instance){return equal(instance,this.object)},toJSON:function(){var json=Schema.prototype.toJSON.call(this);json["enum"]=[this.object];return json}});Schema.fromJS.def(function(sch){if(sch instanceof Array&&sch.length===1)return new EqualitySchema(sch[0])})},{"../BaseSchema":2}],13:[function(require,module,exports){var Schema=require("../BaseSchema");var NothingSchema=module.exports=Schema.patterns.NothingSchema=Schema.extend({errors:function(instance){return false},validate:function(instance){return instance==null},toJSON:function(){return{type:"null"}}});var nothing=NothingSchema.instance=new NothingSchema;Schema.fromJS.def(function(sch){if(sch===null)return nothing});Schema.fromJSON.def(function(sch){if(sch.type==="null")return nothing})},{"../BaseSchema":2}],14:[function(require,module,exports){var Schema=require("../BaseSchema"),anything=require("./anything").instance,nothing=require("./nothing").instance;var ObjectSchema=module.exports=Schema.patterns.ObjectSchema=Schema.extend({initialize:function(properties,other){var self=this;this.other=other||anything;this.properties=properties||[];this.stringProps={},this.regexpProps=[];this.properties.forEach(function(property){if(typeof property.key==="string"){self.stringProps[property.key]=property}else{self.regexpProps.push(property)}})},errors:function(instance){var self=this;if(instance==null)return instance+" is not Object";var errors={};Object.keys(this.stringProps).forEach(function(key){var result=self.stringProps[key].value.errors(instance[key]);if(result){errors[key]=result}});if(Object.keys(errors).length>0){return errors}return false},validate:function(instance){var self=this;if(instance==null)return false;var stringPropsValid=Object.keys(this.stringProps).every(function(key){return self.stringProps[key].min===0&&!(key in instance)||self.stringProps[key].value.validate(instance[key])});if(!stringPropsValid)return false;if(!this.regexpProps.length&&this.other===anything)return true;var checked;for(var key in instance){checked=false;var regexpPropsValid=Object.keys(this.regexpProps).every(function(key){return!self.regexpProps[key].key.test(key)||(checked=true)&&self.regexpProps[key].value.validate(instance[key])});if(!regexpPropsValid)return false;if(!checked&&!(key in this.stringProps)&&!this.other.validate(instance[key]))return false}return true},toJSON:Schema.session(function(){var i,property,regexp,json=Schema.prototype.toJSON.call(this,true);if(json["$ref"]!=null)return json;json.type="object";for(i in this.stringProps){property=this.stringProps[i];json.properties=json.properties||{};json.properties[property.key]=property.value.toJSON();if(property.min===1)json.properties[property.key].required=true;if(property.title)json.properties[property.key].title=property.title}for(i=0;i<this.regexpProps.length;i++){property=this.regexpProps[i];json.patternProperties=json.patternProperties||{};regexp=property.key.toString();regexp=regexp.substr(2,regexp.length-4);json.patternProperties[regexp]=property.value.toJSON();if(property.title)json.patternProperties[regexp].title=property.title}if(this.other!==anything){json.additionalProperties=this.other===nothing?false:this.other.toJSON()}return json})});var regexpString=function(){var shouldBeEscaped="[](){}^$?*+.".split("").map(function(element){return RegExp("(\\\\)*\\"+element,"g")});var shouldntBeEscaped="bBwWdDsS".split("").map(function(element){return RegExp("(\\\\)*"+element,"g")});return function(string){var i,j,match;for(i=0;i<shouldBeEscaped.length;i++){match=string.match(shouldBeEscaped[i]);if(!match)continue;for(j=0;j<match.length;j++){if(match[j].length%2===1)return RegExp("^"+string+"$")}}for(i=0;i<shouldntBeEscaped.length;i++){match=string.match(shouldntBeEscaped[i]);if(!match)continue;for(j=0;j<match.length;j++){if(match[j].length%2===0)return RegExp("^"+string+"$")}}for(i=0;i<shouldBeEscaped.length;i++){string=string.replace(shouldBeEscaped[i],function(match){return match.substr(1)})}return string}}();Schema.fromJS.def(function(object){if(!(object instanceof Object))return;var other,property,properties=[];for(var key in object){property={value:Schema.fromJS(object[key])};if(key==="*"){other=property.value;continue}property.min=key[0]==="*"||key[0]==="?"?0:1;property.max=key[0]==="*"||key[0]==="+"?Infinity:1;key=key.replace(/^[*?+]/,"");key=key.replace(/\s*:[^:]+$/,function(match){property.title=match.replace(/^\s*:\s*/,"");return""});property.key=regexpString(key);properties.push(property)}return new ObjectSchema(properties,other)});Schema.fromJSON.def(function(json){if(!json||json.type!=="object")return;var key,properties=[];for(key in json.properties){properties.push({min:json.properties[key].required?1:0,max:1,key:key,value:Schema.fromJSON(json.properties[key]),title:json.properties[key].title})}for(key in json.patternProperties){properties.push({min:0,max:Infinity,key:RegExp("^"+key+"$"),value:Schema.fromJSON(json.patternProperties[key]),title:json.patternProperties[key].title})}var other;if(json.additionalProperties!==undefined){other=json.additionalProperties===false?nothing:Schema.fromJSON(json.additionalProperties)}return new ObjectSchema(properties,other)})},{"../BaseSchema":2,"./anything":10,"./nothing":13}],15:[function(require,module,exports){var Schema=require("../BaseSchema"),EqualitySchema=require("../patterns/equality");var OrSchema=module.exports=Schema.patterns.OrSchema=Schema.extend({initialize:function(schemas){this.schemas=schemas},errors:function(instance){var self=this;var errors=[];if(!this.validate(instance)){this.schemas.forEach(function(sch){var result=sch.errors(instance);if(result){errors.push(result)}});if(errors.length>0){return errors}}return false},validate:function(instance){return this.schemas.some(function(sch){return sch.validate(instance)})},toJSON:Schema.session(function(){var json=Schema.prototype.toJSON.call(this,true),subjsons=this.schemas.map(function(sch){return sch.toJSON()}),onlyEquality=subjsons.every(function(json){return json["enum"]instanceof Array&&json["enum"].length===1});if(json["$ref"]!=null)return json;if(onlyEquality){json["enum"]=subjsons.map(function(json){return json["enum"][0]})}else{json["type"]=subjsons.map(function(json){var simpleType=typeof json.type==="string"&&Object.keys(json).length===1;return simpleType?json.type:json})}return json})});Schema.fromJS.def(function(schemas){if(schemas instanceof Array)return new OrSchema(schemas.map(function(sch){return sch===undefined?Schema.self:Schema.fromJS(sch)}))});Schema.fromJSON.def(function(sch){if(!sch)return;if(sch["enum"]instanceof Array){return new OrSchema(sch["enum"].map(function(object){return new EqualitySchema(object)}))}if(sch["type"]instanceof Array){return new OrSchema(sch["type"].map(function(type){return Schema.fromJSON(typeof type==="string"?{type:type}:type)}))}})},{"../BaseSchema":2,"../patterns/equality":12}],16:[function(require,module,exports){var Schema=require("../BaseSchema");var ReferenceSchema=module.exports=Schema.patterns.ReferenceSchema=Schema.extend({initialize:function(value){this.value=value},getName:function(obj){if(obj instanceof Object){return obj.constructor.name+" = "+obj}else{return typeof obj+" = "+obj}},errors:function(instance){if(instance==null){return instance+" is not a reference"}if(instance!==this.value){var middleMessage=" is not reference to ";return this.getName(instance)+middleMessage+this.getName(this.value)}return false},validate:function(instance){return instance===this.value},toJSON:function(){var json=Schema.prototype.toJSON.call(this);json["enum"]=[this.value];return json}});Schema.fromJS.def(function(value){return new ReferenceSchema(value)})},{"../BaseSchema":2}],17:[function(require,module,exports){var Schema=require("../BaseSchema");var RegexpSchema=module.exports=Schema.patterns.RegexpSchema=Schema.extend({initialize:function(regexp){this.regexp=regexp},errors:function(instance){var message;if(!(Object(instance)instanceof String)){message=instance+" is not a String"}else if(this.regexp&&!this.regexp.test(instance)){message=instance+" is not matched with RegExp -> "+this.regexp}if(message)return message;return false},validate:function(instance){return Object(instance)instanceof String&&(!this.regexp||this.regexp.test(instance))},toJSON:function(){var json=Schema.prototype.toJSON.call(this);json.type="string";if(this.regexp){json.pattern=this.regexp.toString();json.pattern=json.pattern.substr(1,json.pattern.length-2)}return json}});Schema.fromJSON.def(function(sch){if(!sch||sch.type!=="string")return;if("pattern"in sch){return new RegexpSchema(RegExp("^"+sch.pattern+"$"))}else if("minLength"in sch||"maxLength"in sch){return new RegexpSchema(RegExp("^.{"+[sch.minLength||0,sch.maxLength].join(",")+"}$"))}else{return new RegexpSchema}});Schema.fromJS.def(function(regexp){if(regexp instanceof RegExp)return new RegexpSchema(regexp)})},{"../BaseSchema":2}],18:[function(require,module,exports){var Schema=require("../BaseSchema");Schema.fromJS.def(function(sch){if(sch instanceof Schema)return sch})},{"../BaseSchema":2}],19:[function(require,module,exports){var Schema=require("./BaseSchema");schema=module.exports=function(schemaDescription){var doc,schemaObject;if(arguments.length===2){doc=schemaDescription;schemaDescription=arguments[1]}if(this instanceof schema){var constructor=Schema.extend(schemaDescription);schemaObject=new constructor;if(doc)schemaObject.doc=doc;return schemaObject.wrap()}else{schemaObject=Schema.fromJS(schemaDescription);schema.self.resolve(schemaObject);if(doc)schemaObject.doc=doc;return schemaObject.wrap()}};schema.Schema=Schema;schema.toJSON=function(sch){return Schema.fromJS(sch).toJSON()};schema.fromJS=function(sch){return Schema.fromJS(sch).wrap()};schema.fromJSON=function(sch){return Schema.fromJSON(sch).wrap()};if(typeof define==="function"&&define.amd){define([],function(){return schema})}},{"./BaseSchema":2}]},{},[1]);
;
/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.1.17 Copyright (c) 2010-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */
//Not using strict: uneven strict support in browsers, #392, and causes
//problems with requirejs.exec()/transpiler plugins that may not be strict.
/*jslint regexp: true, nomen: true, sloppy: true */
/*global window, navigator, document, importScripts, setTimeout, opera */

var requirejs, require, define;
(function (global) {
    var req, s, head, baseElement, dataMain, src,
        interactiveScript, currentlyAddingScript, mainScript, subPath,
        version = '2.1.17',
        commentRegExp = /(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,
        cjsRequireRegExp = /[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,
        jsSuffixRegExp = /\.js$/,
        currDirRegExp = /^\.\//,
        op = Object.prototype,
        ostring = op.toString,
        hasOwn = op.hasOwnProperty,
        ap = Array.prototype,
        apsp = ap.splice,
        isBrowser = !!(typeof window !== 'undefined' && typeof navigator !== 'undefined' && window.document),
        isWebWorker = !isBrowser && typeof importScripts !== 'undefined',
        //PS3 indicates loaded and complete, but need to wait for complete
        //specifically. Sequence is 'loading', 'loaded', execution,
        // then 'complete'. The UA check is unfortunate, but not sure how
        //to feature test w/o causing perf issues.
        readyRegExp = isBrowser && navigator.platform === 'PLAYSTATION 3' ?
                      /^complete$/ : /^(complete|loaded)$/,
        defContextName = '_',
        //Oh the tragedy, detecting opera. See the usage of isOpera for reason.
        isOpera = typeof opera !== 'undefined' && opera.toString() === '[object Opera]',
        contexts = {},
        cfg = {},
        globalDefQueue = [],
        useInteractive = false;

    function isFunction(it) {
        return ostring.call(it) === '[object Function]';
    }

    function isArray(it) {
        return ostring.call(it) === '[object Array]';
    }

    /**
     * Helper function for iterating over an array. If the func returns
     * a true value, it will break out of the loop.
     */
    function each(ary, func) {
        if (ary) {
            var i;
            for (i = 0; i < ary.length; i += 1) {
                if (ary[i] && func(ary[i], i, ary)) {
                    break;
                }
            }
        }
    }

    /**
     * Helper function for iterating over an array backwards. If the func
     * returns a true value, it will break out of the loop.
     */
    function eachReverse(ary, func) {
        if (ary) {
            var i;
            for (i = ary.length - 1; i > -1; i -= 1) {
                if (ary[i] && func(ary[i], i, ary)) {
                    break;
                }
            }
        }
    }

    function hasProp(obj, prop) {
        return hasOwn.call(obj, prop);
    }

    function getOwn(obj, prop) {
        return hasProp(obj, prop) && obj[prop];
    }

    /**
     * Cycles over properties in an object and calls a function for each
     * property value. If the function returns a truthy value, then the
     * iteration is stopped.
     */
    function eachProp(obj, func) {
        var prop;
        for (prop in obj) {
            if (hasProp(obj, prop)) {
                if (func(obj[prop], prop)) {
                    break;
                }
            }
        }
    }

    /**
     * Simple function to mix in properties from source into target,
     * but only if target does not already have a property of the same name.
     */
    function mixin(target, source, force, deepStringMixin) {
        if (source) {
            eachProp(source, function (value, prop) {
                if (force || !hasProp(target, prop)) {
                    if (deepStringMixin && typeof value === 'object' && value &&
                        !isArray(value) && !isFunction(value) &&
                        !(value instanceof RegExp)) {

                        if (!target[prop]) {
                            target[prop] = {};
                        }
                        mixin(target[prop], value, force, deepStringMixin);
                    } else {
                        target[prop] = value;
                    }
                }
            });
        }
        return target;
    }

    //Similar to Function.prototype.bind, but the 'this' object is specified
    //first, since it is easier to read/figure out what 'this' will be.
    function bind(obj, fn) {
        return function () {
            return fn.apply(obj, arguments);
        };
    }

    function scripts() {
        return document.getElementsByTagName('script');
    }

    function defaultOnError(err) {
        throw err;
    }

    //Allow getting a global that is expressed in
    //dot notation, like 'a.b.c'.
    function getGlobal(value) {
        if (!value) {
            return value;
        }
        var g = global;
        each(value.split('.'), function (part) {
            g = g[part];
        });
        return g;
    }

    /**
     * Constructs an error with a pointer to an URL with more information.
     * @param {String} id the error ID that maps to an ID on a web page.
     * @param {String} message human readable error.
     * @param {Error} [err] the original error, if there is one.
     *
     * @returns {Error}
     */
    function makeError(id, msg, err, requireModules) {
        var e = new Error(msg + '\nhttp://requirejs.org/docs/errors.html#' + id);
        e.requireType = id;
        e.requireModules = requireModules;
        if (err) {
            e.originalError = err;
        }
        return e;
    }

    if (typeof define !== 'undefined') {
        //If a define is already in play via another AMD loader,
        //do not overwrite.
        return;
    }

    if (typeof requirejs !== 'undefined') {
        if (isFunction(requirejs)) {
            //Do not overwrite an existing requirejs instance.
            return;
        }
        cfg = requirejs;
        requirejs = undefined;
    }

    //Allow for a require config object
    if (typeof require !== 'undefined' && !isFunction(require)) {
        //assume it is a config object.
        cfg = require;
        require = undefined;
    }

    function newContext(contextName) {
        var inCheckLoaded, Module, context, handlers,
            checkLoadedTimeoutId,
            config = {
                //Defaults. Do not set a default for map
                //config to speed up normalize(), which
                //will run faster if there is no default.
                waitSeconds: 7,
                baseUrl: './',
                paths: {},
                bundles: {},
                pkgs: {},
                shim: {},
                config: {}
            },
            registry = {},
            //registry of just enabled modules, to speed
            //cycle breaking code when lots of modules
            //are registered, but not activated.
            enabledRegistry = {},
            undefEvents = {},
            defQueue = [],
            defined = {},
            urlFetched = {},
            bundlesMap = {},
            requireCounter = 1,
            unnormalizedCounter = 1;

        /**
         * Trims the . and .. from an array of path segments.
         * It will keep a leading path segment if a .. will become
         * the first path segment, to help with module name lookups,
         * which act like paths, but can be remapped. But the end result,
         * all paths that use this function should look normalized.
         * NOTE: this method MODIFIES the input array.
         * @param {Array} ary the array of path segments.
         */
        function trimDots(ary) {
            var i, part;
            for (i = 0; i < ary.length; i++) {
                part = ary[i];
                if (part === '.') {
                    ary.splice(i, 1);
                    i -= 1;
                } else if (part === '..') {
                    // If at the start, or previous value is still ..,
                    // keep them so that when converted to a path it may
                    // still work when converted to a path, even though
                    // as an ID it is less than ideal. In larger point
                    // releases, may be better to just kick out an error.
                    if (i === 0 || (i === 1 && ary[2] === '..') || ary[i - 1] === '..') {
                        continue;
                    } else if (i > 0) {
                        ary.splice(i - 1, 2);
                        i -= 2;
                    }
                }
            }
        }

        /**
         * Given a relative module name, like ./something, normalize it to
         * a real name that can be mapped to a path.
         * @param {String} name the relative name
         * @param {String} baseName a real name that the name arg is relative
         * to.
         * @param {Boolean} applyMap apply the map config to the value. Should
         * only be done if this normalization is for a dependency ID.
         * @returns {String} normalized name
         */
        function normalize(name, baseName, applyMap) {
            var pkgMain, mapValue, nameParts, i, j, nameSegment, lastIndex,
                foundMap, foundI, foundStarMap, starI, normalizedBaseParts,
                baseParts = (baseName && baseName.split('/')),
                map = config.map,
                starMap = map && map['*'];

            //Adjust any relative paths.
            if (name) {
                name = name.split('/');
                lastIndex = name.length - 1;

                // If wanting node ID compatibility, strip .js from end
                // of IDs. Have to do this here, and not in nameToUrl
                // because node allows either .js or non .js to map
                // to same file.
                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {
                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');
                }

                // Starts with a '.' so need the baseName
                if (name[0].charAt(0) === '.' && baseParts) {
                    //Convert baseName to array, and lop off the last part,
                    //so that . matches that 'directory' and not name of the baseName's
                    //module. For instance, baseName of 'one/two/three', maps to
                    //'one/two/three.js', but we want the directory, 'one/two' for
                    //this normalization.
                    normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);
                    name = normalizedBaseParts.concat(name);
                }

                trimDots(name);
                name = name.join('/');
            }

            //Apply map config if available.
            if (applyMap && map && (baseParts || starMap)) {
                nameParts = name.split('/');

                outerLoop: for (i = nameParts.length; i > 0; i -= 1) {
                    nameSegment = nameParts.slice(0, i).join('/');

                    if (baseParts) {
                        //Find the longest baseName segment match in the config.
                        //So, do joins on the biggest to smallest lengths of baseParts.
                        for (j = baseParts.length; j > 0; j -= 1) {
                            mapValue = getOwn(map, baseParts.slice(0, j).join('/'));

                            //baseName segment has config, find if it has one for
                            //this name.
                            if (mapValue) {
                                mapValue = getOwn(mapValue, nameSegment);
                                if (mapValue) {
                                    //Match, update name to the new value.
                                    foundMap = mapValue;
                                    foundI = i;
                                    break outerLoop;
                                }
                            }
                        }
                    }

                    //Check for a star map match, but just hold on to it,
                    //if there is a shorter segment match later in a matching
                    //config, then favor over this star map.
                    if (!foundStarMap && starMap && getOwn(starMap, nameSegment)) {
                        foundStarMap = getOwn(starMap, nameSegment);
                        starI = i;
                    }
                }

                if (!foundMap && foundStarMap) {
                    foundMap = foundStarMap;
                    foundI = starI;
                }

                if (foundMap) {
                    nameParts.splice(0, foundI, foundMap);
                    name = nameParts.join('/');
                }
            }

            // If the name points to a package's name, use
            // the package main instead.
            pkgMain = getOwn(config.pkgs, name);

            return pkgMain ? pkgMain : name;
        }

        function removeScript(name) {
            if (isBrowser) {
                each(scripts(), function (scriptNode) {
                    if (scriptNode.getAttribute('data-requiremodule') === name &&
                            scriptNode.getAttribute('data-requirecontext') === context.contextName) {
                        scriptNode.parentNode.removeChild(scriptNode);
                        return true;
                    }
                });
            }
        }

        function hasPathFallback(id) {
            var pathConfig = getOwn(config.paths, id);
            if (pathConfig && isArray(pathConfig) && pathConfig.length > 1) {
                //Pop off the first array value, since it failed, and
                //retry
                pathConfig.shift();
                context.require.undef(id);

                //Custom require that does not do map translation, since
                //ID is "absolute", already mapped/resolved.
                context.makeRequire(null, {
                    skipMap: true
                })([id]);

                return true;
            }
        }

        //Turns a plugin!resource to [plugin, resource]
        //with the plugin being undefined if the name
        //did not have a plugin prefix.
        function splitPrefix(name) {
            var prefix,
                index = name ? name.indexOf('!') : -1;
            if (index > -1) {
                prefix = name.substring(0, index);
                name = name.substring(index + 1, name.length);
            }
            return [prefix, name];
        }

        /**
         * Creates a module mapping that includes plugin prefix, module
         * name, and path. If parentModuleMap is provided it will
         * also normalize the name via require.normalize()
         *
         * @param {String} name the module name
         * @param {String} [parentModuleMap] parent module map
         * for the module name, used to resolve relative names.
         * @param {Boolean} isNormalized: is the ID already normalized.
         * This is true if this call is done for a define() module ID.
         * @param {Boolean} applyMap: apply the map config to the ID.
         * Should only be true if this map is for a dependency.
         *
         * @returns {Object}
         */
        function makeModuleMap(name, parentModuleMap, isNormalized, applyMap) {
            var url, pluginModule, suffix, nameParts,
                prefix = null,
                parentName = parentModuleMap ? parentModuleMap.name : null,
                originalName = name,
                isDefine = true,
                normalizedName = '';

            //If no name, then it means it is a require call, generate an
            //internal name.
            if (!name) {
                isDefine = false;
                name = '_@r' + (requireCounter += 1);
            }

            nameParts = splitPrefix(name);
            prefix = nameParts[0];
            name = nameParts[1];

            if (prefix) {
                prefix = normalize(prefix, parentName, applyMap);
                pluginModule = getOwn(defined, prefix);
            }

            //Account for relative paths if there is a base name.
            if (name) {
                if (prefix) {
                    if (pluginModule && pluginModule.normalize) {
                        //Plugin is loaded, use its normalize method.
                        normalizedName = pluginModule.normalize(name, function (name) {
                            return normalize(name, parentName, applyMap);
                        });
                    } else {
                        // If nested plugin references, then do not try to
                        // normalize, as it will not normalize correctly. This
                        // places a restriction on resourceIds, and the longer
                        // term solution is not to normalize until plugins are
                        // loaded and all normalizations to allow for async
                        // loading of a loader plugin. But for now, fixes the
                        // common uses. Details in #1131
                        normalizedName = name.indexOf('!') === -1 ?
                                         normalize(name, parentName, applyMap) :
                                         name;
                    }
                } else {
                    //A regular module.
                    normalizedName = normalize(name, parentName, applyMap);

                    //Normalized name may be a plugin ID due to map config
                    //application in normalize. The map config values must
                    //already be normalized, so do not need to redo that part.
                    nameParts = splitPrefix(normalizedName);
                    prefix = nameParts[0];
                    normalizedName = nameParts[1];
                    isNormalized = true;

                    url = context.nameToUrl(normalizedName);
                }
            }

            //If the id is a plugin id that cannot be determined if it needs
            //normalization, stamp it with a unique ID so two matching relative
            //ids that may conflict can be separate.
            suffix = prefix && !pluginModule && !isNormalized ?
                     '_unnormalized' + (unnormalizedCounter += 1) :
                     '';

            return {
                prefix: prefix,
                name: normalizedName,
                parentMap: parentModuleMap,
                unnormalized: !!suffix,
                url: url,
                originalName: originalName,
                isDefine: isDefine,
                id: (prefix ?
                        prefix + '!' + normalizedName :
                        normalizedName) + suffix
            };
        }

        function getModule(depMap) {
            var id = depMap.id,
                mod = getOwn(registry, id);

            if (!mod) {
                mod = registry[id] = new context.Module(depMap);
            }

            return mod;
        }

        function on(depMap, name, fn) {
            var id = depMap.id,
                mod = getOwn(registry, id);

            if (hasProp(defined, id) &&
                    (!mod || mod.defineEmitComplete)) {
                if (name === 'defined') {
                    fn(defined[id]);
                }
            } else {
                mod = getModule(depMap);
                if (mod.error && name === 'error') {
                    fn(mod.error);
                } else {
                    mod.on(name, fn);
                }
            }
        }

        function onError(err, errback) {
            var ids = err.requireModules,
                notified = false;

            if (errback) {
                errback(err);
            } else {
                each(ids, function (id) {
                    var mod = getOwn(registry, id);
                    if (mod) {
                        //Set error on module, so it skips timeout checks.
                        mod.error = err;
                        if (mod.events.error) {
                            notified = true;
                            mod.emit('error', err);
                        }
                    }
                });

                if (!notified) {
                    req.onError(err);
                }
            }
        }

        /**
         * Internal method to transfer globalQueue items to this context's
         * defQueue.
         */
        function takeGlobalQueue() {
            //Push all the globalDefQueue items into the context's defQueue
            if (globalDefQueue.length) {
                //Array splice in the values since the context code has a
                //local var ref to defQueue, so cannot just reassign the one
                //on context.
                apsp.apply(defQueue,
                           [defQueue.length, 0].concat(globalDefQueue));
                globalDefQueue = [];
            }
        }

        handlers = {
            'require': function (mod) {
                if (mod.require) {
                    return mod.require;
                } else {
                    return (mod.require = context.makeRequire(mod.map));
                }
            },
            'exports': function (mod) {
                mod.usingExports = true;
                if (mod.map.isDefine) {
                    if (mod.exports) {
                        return (defined[mod.map.id] = mod.exports);
                    } else {
                        return (mod.exports = defined[mod.map.id] = {});
                    }
                }
            },
            'module': function (mod) {
                if (mod.module) {
                    return mod.module;
                } else {
                    return (mod.module = {
                        id: mod.map.id,
                        uri: mod.map.url,
                        config: function () {
                            return  getOwn(config.config, mod.map.id) || {};
                        },
                        exports: mod.exports || (mod.exports = {})
                    });
                }
            }
        };

        function cleanRegistry(id) {
            //Clean up machinery used for waiting modules.
            delete registry[id];
            delete enabledRegistry[id];
        }

        function breakCycle(mod, traced, processed) {
            var id = mod.map.id;

            if (mod.error) {
                mod.emit('error', mod.error);
            } else {
                traced[id] = true;
                each(mod.depMaps, function (depMap, i) {
                    var depId = depMap.id,
                        dep = getOwn(registry, depId);

                    //Only force things that have not completed
                    //being defined, so still in the registry,
                    //and only if it has not been matched up
                    //in the module already.
                    if (dep && !mod.depMatched[i] && !processed[depId]) {
                        if (getOwn(traced, depId)) {
                            mod.defineDep(i, defined[depId]);
                            mod.check(); //pass false?
                        } else {
                            breakCycle(dep, traced, processed);
                        }
                    }
                });
                processed[id] = true;
            }
        }

        function checkLoaded() {
            var err, usingPathFallback,
                waitInterval = config.waitSeconds * 1000,
                //It is possible to disable the wait interval by using waitSeconds of 0.
                expired = waitInterval && (context.startTime + waitInterval) < new Date().getTime(),
                noLoads = [],
                reqCalls = [],
                stillLoading = false,
                needCycleCheck = true;

            //Do not bother if this call was a result of a cycle break.
            if (inCheckLoaded) {
                return;
            }

            inCheckLoaded = true;

            //Figure out the state of all the modules.
            eachProp(enabledRegistry, function (mod) {
                var map = mod.map,
                    modId = map.id;

                //Skip things that are not enabled or in error state.
                if (!mod.enabled) {
                    return;
                }

                if (!map.isDefine) {
                    reqCalls.push(mod);
                }

                if (!mod.error) {
                    //If the module should be executed, and it has not
                    //been inited and time is up, remember it.
                    if (!mod.inited && expired) {
                        if (hasPathFallback(modId)) {
                            usingPathFallback = true;
                            stillLoading = true;
                        } else {
                            noLoads.push(modId);
                            removeScript(modId);
                        }
                    } else if (!mod.inited && mod.fetched && map.isDefine) {
                        stillLoading = true;
                        if (!map.prefix) {
                            //No reason to keep looking for unfinished
                            //loading. If the only stillLoading is a
                            //plugin resource though, keep going,
                            //because it may be that a plugin resource
                            //is waiting on a non-plugin cycle.
                            return (needCycleCheck = false);
                        }
                    }
                }
            });

            if (expired && noLoads.length) {
                //If wait time expired, throw error of unloaded modules.
                err = makeError('timeout', 'Load timeout for modules: ' + noLoads, null, noLoads);
                err.contextName = context.contextName;
                return onError(err);
            }

            //Not expired, check for a cycle.
            if (needCycleCheck) {
                each(reqCalls, function (mod) {
                    breakCycle(mod, {}, {});
                });
            }

            //If still waiting on loads, and the waiting load is something
            //other than a plugin resource, or there are still outstanding
            //scripts, then just try back later.
            if ((!expired || usingPathFallback) && stillLoading) {
                //Something is still waiting to load. Wait for it, but only
                //if a timeout is not already in effect.
                if ((isBrowser || isWebWorker) && !checkLoadedTimeoutId) {
                    checkLoadedTimeoutId = setTimeout(function () {
                        checkLoadedTimeoutId = 0;
                        checkLoaded();
                    }, 50);
                }
            }

            inCheckLoaded = false;
        }

        Module = function (map) {
            this.events = getOwn(undefEvents, map.id) || {};
            this.map = map;
            this.shim = getOwn(config.shim, map.id);
            this.depExports = [];
            this.depMaps = [];
            this.depMatched = [];
            this.pluginMaps = {};
            this.depCount = 0;

            /* this.exports this.factory
               this.depMaps = [],
               this.enabled, this.fetched
            */
        };

        Module.prototype = {
            init: function (depMaps, factory, errback, options) {
                options = options || {};

                //Do not do more inits if already done. Can happen if there
                //are multiple define calls for the same module. That is not
                //a normal, common case, but it is also not unexpected.
                if (this.inited) {
                    return;
                }

                this.factory = factory;

                if (errback) {
                    //Register for errors on this module.
                    this.on('error', errback);
                } else if (this.events.error) {
                    //If no errback already, but there are error listeners
                    //on this module, set up an errback to pass to the deps.
                    errback = bind(this, function (err) {
                        this.emit('error', err);
                    });
                }

                //Do a copy of the dependency array, so that
                //source inputs are not modified. For example
                //"shim" deps are passed in here directly, and
                //doing a direct modification of the depMaps array
                //would affect that config.
                this.depMaps = depMaps && depMaps.slice(0);

                this.errback = errback;

                //Indicate this module has be initialized
                this.inited = true;

                this.ignore = options.ignore;

                //Could have option to init this module in enabled mode,
                //or could have been previously marked as enabled. However,
                //the dependencies are not known until init is called. So
                //if enabled previously, now trigger dependencies as enabled.
                if (options.enabled || this.enabled) {
                    //Enable this module and dependencies.
                    //Will call this.check()
                    this.enable();
                } else {
                    this.check();
                }
            },

            defineDep: function (i, depExports) {
                //Because of cycles, defined callback for a given
                //export can be called more than once.
                if (!this.depMatched[i]) {
                    this.depMatched[i] = true;
                    this.depCount -= 1;
                    this.depExports[i] = depExports;
                }
            },

            fetch: function () {
                if (this.fetched) {
                    return;
                }
                this.fetched = true;

                context.startTime = (new Date()).getTime();

                var map = this.map;

                //If the manager is for a plugin managed resource,
                //ask the plugin to load it now.
                if (this.shim) {
                    context.makeRequire(this.map, {
                        enableBuildCallback: true
                    })(this.shim.deps || [], bind(this, function () {
                        return map.prefix ? this.callPlugin() : this.load();
                    }));
                } else {
                    //Regular dependency.
                    return map.prefix ? this.callPlugin() : this.load();
                }
            },

            load: function () {
                var url = this.map.url;

                //Regular dependency.
                if (!urlFetched[url]) {
                    urlFetched[url] = true;
                    context.load(this.map.id, url);
                }
            },

            /**
             * Checks if the module is ready to define itself, and if so,
             * define it.
             */
            check: function () {
                if (!this.enabled || this.enabling) {
                    return;
                }

                var err, cjsModule,
                    id = this.map.id,
                    depExports = this.depExports,
                    exports = this.exports,
                    factory = this.factory;

                if (!this.inited) {
                    this.fetch();
                } else if (this.error) {
                    this.emit('error', this.error);
                } else if (!this.defining) {
                    //The factory could trigger another require call
                    //that would result in checking this module to
                    //define itself again. If already in the process
                    //of doing that, skip this work.
                    this.defining = true;

                    if (this.depCount < 1 && !this.defined) {
                        if (isFunction(factory)) {
                            //If there is an error listener, favor passing
                            //to that instead of throwing an error. However,
                            //only do it for define()'d  modules. require
                            //errbacks should not be called for failures in
                            //their callbacks (#699). However if a global
                            //onError is set, use that.
                            if ((this.events.error && this.map.isDefine) ||
                                req.onError !== defaultOnError) {
                                try {
                                    exports = context.execCb(id, factory, depExports, exports);
                                } catch (e) {
                                    err = e;
                                }
                            } else {
                                exports = context.execCb(id, factory, depExports, exports);
                            }

                            // Favor return value over exports. If node/cjs in play,
                            // then will not have a return value anyway. Favor
                            // module.exports assignment over exports object.
                            if (this.map.isDefine && exports === undefined) {
                                cjsModule = this.module;
                                if (cjsModule) {
                                    exports = cjsModule.exports;
                                } else if (this.usingExports) {
                                    //exports already set the defined value.
                                    exports = this.exports;
                                }
                            }

                            if (err) {
                                err.requireMap = this.map;
                                err.requireModules = this.map.isDefine ? [this.map.id] : null;
                                err.requireType = this.map.isDefine ? 'define' : 'require';
                                return onError((this.error = err));
                            }

                        } else {
                            //Just a literal value
                            exports = factory;
                        }

                        this.exports = exports;

                        if (this.map.isDefine && !this.ignore) {
                            defined[id] = exports;

                            if (req.onResourceLoad) {
                                req.onResourceLoad(context, this.map, this.depMaps);
                            }
                        }

                        //Clean up
                        cleanRegistry(id);

                        this.defined = true;
                    }

                    //Finished the define stage. Allow calling check again
                    //to allow define notifications below in the case of a
                    //cycle.
                    this.defining = false;

                    if (this.defined && !this.defineEmitted) {
                        this.defineEmitted = true;
                        this.emit('defined', this.exports);
                        this.defineEmitComplete = true;
                    }

                }
            },

            callPlugin: function () {
                var map = this.map,
                    id = map.id,
                    //Map already normalized the prefix.
                    pluginMap = makeModuleMap(map.prefix);

                //Mark this as a dependency for this plugin, so it
                //can be traced for cycles.
                this.depMaps.push(pluginMap);

                on(pluginMap, 'defined', bind(this, function (plugin) {
                    var load, normalizedMap, normalizedMod,
                        bundleId = getOwn(bundlesMap, this.map.id),
                        name = this.map.name,
                        parentName = this.map.parentMap ? this.map.parentMap.name : null,
                        localRequire = context.makeRequire(map.parentMap, {
                            enableBuildCallback: true
                        });

                    //If current map is not normalized, wait for that
                    //normalized name to load instead of continuing.
                    if (this.map.unnormalized) {
                        //Normalize the ID if the plugin allows it.
                        if (plugin.normalize) {
                            name = plugin.normalize(name, function (name) {
                                return normalize(name, parentName, true);
                            }) || '';
                        }

                        //prefix and name should already be normalized, no need
                        //for applying map config again either.
                        normalizedMap = makeModuleMap(map.prefix + '!' + name,
                                                      this.map.parentMap);
                        on(normalizedMap,
                            'defined', bind(this, function (value) {
                                this.init([], function () { return value; }, null, {
                                    enabled: true,
                                    ignore: true
                                });
                            }));

                        normalizedMod = getOwn(registry, normalizedMap.id);
                        if (normalizedMod) {
                            //Mark this as a dependency for this plugin, so it
                            //can be traced for cycles.
                            this.depMaps.push(normalizedMap);

                            if (this.events.error) {
                                normalizedMod.on('error', bind(this, function (err) {
                                    this.emit('error', err);
                                }));
                            }
                            normalizedMod.enable();
                        }

                        return;
                    }

                    //If a paths config, then just load that file instead to
                    //resolve the plugin, as it is built into that paths layer.
                    if (bundleId) {
                        this.map.url = context.nameToUrl(bundleId);
                        this.load();
                        return;
                    }

                    load = bind(this, function (value) {
                        this.init([], function () { return value; }, null, {
                            enabled: true
                        });
                    });

                    load.error = bind(this, function (err) {
                        this.inited = true;
                        this.error = err;
                        err.requireModules = [id];

                        //Remove temp unnormalized modules for this module,
                        //since they will never be resolved otherwise now.
                        eachProp(registry, function (mod) {
                            if (mod.map.id.indexOf(id + '_unnormalized') === 0) {
                                cleanRegistry(mod.map.id);
                            }
                        });

                        onError(err);
                    });

                    //Allow plugins to load other code without having to know the
                    //context or how to 'complete' the load.
                    load.fromText = bind(this, function (text, textAlt) {
                        /*jslint evil: true */
                        var moduleName = map.name,
                            moduleMap = makeModuleMap(moduleName),
                            hasInteractive = useInteractive;

                        //As of 2.1.0, support just passing the text, to reinforce
                        //fromText only being called once per resource. Still
                        //support old style of passing moduleName but discard
                        //that moduleName in favor of the internal ref.
                        if (textAlt) {
                            text = textAlt;
                        }

                        //Turn off interactive script matching for IE for any define
                        //calls in the text, then turn it back on at the end.
                        if (hasInteractive) {
                            useInteractive = false;
                        }

                        //Prime the system by creating a module instance for
                        //it.
                        getModule(moduleMap);

                        //Transfer any config to this other module.
                        if (hasProp(config.config, id)) {
                            config.config[moduleName] = config.config[id];
                        }

                        try {
                            req.exec(text);
                        } catch (e) {
                            return onError(makeError('fromtexteval',
                                             'fromText eval for ' + id +
                                            ' failed: ' + e,
                                             e,
                                             [id]));
                        }

                        if (hasInteractive) {
                            useInteractive = true;
                        }

                        //Mark this as a dependency for the plugin
                        //resource
                        this.depMaps.push(moduleMap);

                        //Support anonymous modules.
                        context.completeLoad(moduleName);

                        //Bind the value of that module to the value for this
                        //resource ID.
                        localRequire([moduleName], load);
                    });

                    //Use parentName here since the plugin's name is not reliable,
                    //could be some weird string with no path that actually wants to
                    //reference the parentName's path.
                    plugin.load(map.name, localRequire, load, config);
                }));

                context.enable(pluginMap, this);
                this.pluginMaps[pluginMap.id] = pluginMap;
            },

            enable: function () {
                enabledRegistry[this.map.id] = this;
                this.enabled = true;

                //Set flag mentioning that the module is enabling,
                //so that immediate calls to the defined callbacks
                //for dependencies do not trigger inadvertent load
                //with the depCount still being zero.
                this.enabling = true;

                //Enable each dependency
                each(this.depMaps, bind(this, function (depMap, i) {
                    var id, mod, handler;

                    if (typeof depMap === 'string') {
                        //Dependency needs to be converted to a depMap
                        //and wired up to this module.
                        depMap = makeModuleMap(depMap,
                                               (this.map.isDefine ? this.map : this.map.parentMap),
                                               false,
                                               !this.skipMap);
                        this.depMaps[i] = depMap;

                        handler = getOwn(handlers, depMap.id);

                        if (handler) {
                            this.depExports[i] = handler(this);
                            return;
                        }

                        this.depCount += 1;

                        on(depMap, 'defined', bind(this, function (depExports) {
                            this.defineDep(i, depExports);
                            this.check();
                        }));

                        if (this.errback) {
                            on(depMap, 'error', bind(this, this.errback));
                        } else if (this.events.error) {
                            // No direct errback on this module, but something
                            // else is listening for errors, so be sure to
                            // propagate the error correctly.
                            on(depMap, 'error', bind(this, function(err) {
                                this.emit('error', err);
                            }));
                        }
                    }

                    id = depMap.id;
                    mod = registry[id];

                    //Skip special modules like 'require', 'exports', 'module'
                    //Also, don't call enable if it is already enabled,
                    //important in circular dependency cases.
                    if (!hasProp(handlers, id) && mod && !mod.enabled) {
                        context.enable(depMap, this);
                    }
                }));

                //Enable each plugin that is used in
                //a dependency
                eachProp(this.pluginMaps, bind(this, function (pluginMap) {
                    var mod = getOwn(registry, pluginMap.id);
                    if (mod && !mod.enabled) {
                        context.enable(pluginMap, this);
                    }
                }));

                this.enabling = false;

                this.check();
            },

            on: function (name, cb) {
                var cbs = this.events[name];
                if (!cbs) {
                    cbs = this.events[name] = [];
                }
                cbs.push(cb);
            },

            emit: function (name, evt) {
                each(this.events[name], function (cb) {
                    cb(evt);
                });
                if (name === 'error') {
                    //Now that the error handler was triggered, remove
                    //the listeners, since this broken Module instance
                    //can stay around for a while in the registry.
                    delete this.events[name];
                }
            }
        };

        function callGetModule(args) {
            //Skip modules already defined.
            if (!hasProp(defined, args[0])) {
                getModule(makeModuleMap(args[0], null, true)).init(args[1], args[2]);
            }
        }

        function removeListener(node, func, name, ieName) {
            //Favor detachEvent because of IE9
            //issue, see attachEvent/addEventListener comment elsewhere
            //in this file.
            if (node.detachEvent && !isOpera) {
                //Probably IE. If not it will throw an error, which will be
                //useful to know.
                if (ieName) {
                    node.detachEvent(ieName, func);
                }
            } else {
                node.removeEventListener(name, func, false);
            }
        }

        /**
         * Given an event from a script node, get the requirejs info from it,
         * and then removes the event listeners on the node.
         * @param {Event} evt
         * @returns {Object}
         */
        function getScriptData(evt) {
            //Using currentTarget instead of target for Firefox 2.0's sake. Not
            //all old browsers will be supported, but this one was easy enough
            //to support and still makes sense.
            var node = evt.currentTarget || evt.srcElement;

            //Remove the listeners once here.
            removeListener(node, context.onScriptLoad, 'load', 'onreadystatechange');
            removeListener(node, context.onScriptError, 'error');

            return {
                node: node,
                id: node && node.getAttribute('data-requiremodule')
            };
        }

        function intakeDefines() {
            var args;

            //Any defined modules in the global queue, intake them now.
            takeGlobalQueue();

            //Make sure any remaining defQueue items get properly processed.
            while (defQueue.length) {
                args = defQueue.shift();
                if (args[0] === null) {
                    return onError(makeError('mismatch', 'Mismatched anonymous define() module: ' + args[args.length - 1]));
                } else {
                    //args are id, deps, factory. Should be normalized by the
                    //define() function.
                    callGetModule(args);
                }
            }
        }

        context = {
            config: config,
            contextName: contextName,
            registry: registry,
            defined: defined,
            urlFetched: urlFetched,
            defQueue: defQueue,
            Module: Module,
            makeModuleMap: makeModuleMap,
            nextTick: req.nextTick,
            onError: onError,

            /**
             * Set a configuration for the context.
             * @param {Object} cfg config object to integrate.
             */
            configure: function (cfg) {
                //Make sure the baseUrl ends in a slash.
                if (cfg.baseUrl) {
                    if (cfg.baseUrl.charAt(cfg.baseUrl.length - 1) !== '/') {
                        cfg.baseUrl += '/';
                    }
                }

                //Save off the paths since they require special processing,
                //they are additive.
                var shim = config.shim,
                    objs = {
                        paths: true,
                        bundles: true,
                        config: true,
                        map: true
                    };

                eachProp(cfg, function (value, prop) {
                    if (objs[prop]) {
                        if (!config[prop]) {
                            config[prop] = {};
                        }
                        mixin(config[prop], value, true, true);
                    } else {
                        config[prop] = value;
                    }
                });

                //Reverse map the bundles
                if (cfg.bundles) {
                    eachProp(cfg.bundles, function (value, prop) {
                        each(value, function (v) {
                            if (v !== prop) {
                                bundlesMap[v] = prop;
                            }
                        });
                    });
                }

                //Merge shim
                if (cfg.shim) {
                    eachProp(cfg.shim, function (value, id) {
                        //Normalize the structure
                        if (isArray(value)) {
                            value = {
                                deps: value
                            };
                        }
                        if ((value.exports || value.init) && !value.exportsFn) {
                            value.exportsFn = context.makeShimExports(value);
                        }
                        shim[id] = value;
                    });
                    config.shim = shim;
                }

                //Adjust packages if necessary.
                if (cfg.packages) {
                    each(cfg.packages, function (pkgObj) {
                        var location, name;

                        pkgObj = typeof pkgObj === 'string' ? { name: pkgObj } : pkgObj;

                        name = pkgObj.name;
                        location = pkgObj.location;
                        if (location) {
                            config.paths[name] = pkgObj.location;
                        }

                        //Save pointer to main module ID for pkg name.
                        //Remove leading dot in main, so main paths are normalized,
                        //and remove any trailing .js, since different package
                        //envs have different conventions: some use a module name,
                        //some use a file name.
                        config.pkgs[name] = pkgObj.name + '/' + (pkgObj.main || 'main')
                                     .replace(currDirRegExp, '')
                                     .replace(jsSuffixRegExp, '');
                    });
                }

                //If there are any "waiting to execute" modules in the registry,
                //update the maps for them, since their info, like URLs to load,
                //may have changed.
                eachProp(registry, function (mod, id) {
                    //If module already has init called, since it is too
                    //late to modify them, and ignore unnormalized ones
                    //since they are transient.
                    if (!mod.inited && !mod.map.unnormalized) {
                        mod.map = makeModuleMap(id);
                    }
                });

                //If a deps array or a config callback is specified, then call
                //require with those args. This is useful when require is defined as a
                //config object before require.js is loaded.
                if (cfg.deps || cfg.callback) {
                    context.require(cfg.deps || [], cfg.callback);
                }
            },

            makeShimExports: function (value) {
                function fn() {
                    var ret;
                    if (value.init) {
                        ret = value.init.apply(global, arguments);
                    }
                    return ret || (value.exports && getGlobal(value.exports));
                }
                return fn;
            },

            makeRequire: function (relMap, options) {
                options = options || {};

                function localRequire(deps, callback, errback) {
                    var id, map, requireMod;

                    if (options.enableBuildCallback && callback && isFunction(callback)) {
                        callback.__requireJsBuild = true;
                    }

                    if (typeof deps === 'string') {
                        if (isFunction(callback)) {
                            //Invalid call
                            return onError(makeError('requireargs', 'Invalid require call'), errback);
                        }

                        //If require|exports|module are requested, get the
                        //value for them from the special handlers. Caveat:
                        //this only works while module is being defined.
                        if (relMap && hasProp(handlers, deps)) {
                            return handlers[deps](registry[relMap.id]);
                        }

                        //Synchronous access to one module. If require.get is
                        //available (as in the Node adapter), prefer that.
                        if (req.get) {
                            return req.get(context, deps, relMap, localRequire);
                        }

                        //Normalize module name, if it contains . or ..
                        map = makeModuleMap(deps, relMap, false, true);
                        id = map.id;

                        if (!hasProp(defined, id)) {
                            return onError(makeError('notloaded', 'Module name "' +
                                        id +
                                        '" has not been loaded yet for context: ' +
                                        contextName +
                                        (relMap ? '' : '. Use require([])')));
                        }
                        return defined[id];
                    }

                    //Grab defines waiting in the global queue.
                    intakeDefines();

                    //Mark all the dependencies as needing to be loaded.
                    context.nextTick(function () {
                        //Some defines could have been added since the
                        //require call, collect them.
                        intakeDefines();

                        requireMod = getModule(makeModuleMap(null, relMap));

                        //Store if map config should be applied to this require
                        //call for dependencies.
                        requireMod.skipMap = options.skipMap;

                        requireMod.init(deps, callback, errback, {
                            enabled: true
                        });

                        checkLoaded();
                    });

                    return localRequire;
                }

                mixin(localRequire, {
                    isBrowser: isBrowser,

                    /**
                     * Converts a module name + .extension into an URL path.
                     * *Requires* the use of a module name. It does not support using
                     * plain URLs like nameToUrl.
                     */
                    toUrl: function (moduleNamePlusExt) {
                        var ext,
                            index = moduleNamePlusExt.lastIndexOf('.'),
                            segment = moduleNamePlusExt.split('/')[0],
                            isRelative = segment === '.' || segment === '..';

                        //Have a file extension alias, and it is not the
                        //dots from a relative path.
                        if (index !== -1 && (!isRelative || index > 1)) {
                            ext = moduleNamePlusExt.substring(index, moduleNamePlusExt.length);
                            moduleNamePlusExt = moduleNamePlusExt.substring(0, index);
                        }

                        return context.nameToUrl(normalize(moduleNamePlusExt,
                                                relMap && relMap.id, true), ext,  true);
                    },

                    defined: function (id) {
                        return hasProp(defined, makeModuleMap(id, relMap, false, true).id);
                    },

                    specified: function (id) {
                        id = makeModuleMap(id, relMap, false, true).id;
                        return hasProp(defined, id) || hasProp(registry, id);
                    }
                });

                //Only allow undef on top level require calls
                if (!relMap) {
                    localRequire.undef = function (id) {
                        //Bind any waiting define() calls to this context,
                        //fix for #408
                        takeGlobalQueue();

                        var map = makeModuleMap(id, relMap, true),
                            mod = getOwn(registry, id);

                        removeScript(id);

                        delete defined[id];
                        delete urlFetched[map.url];
                        delete undefEvents[id];

                        //Clean queued defines too. Go backwards
                        //in array so that the splices do not
                        //mess up the iteration.
                        eachReverse(defQueue, function(args, i) {
                            if(args[0] === id) {
                                defQueue.splice(i, 1);
                            }
                        });

                        if (mod) {
                            //Hold on to listeners in case the
                            //module will be attempted to be reloaded
                            //using a different config.
                            if (mod.events.defined) {
                                undefEvents[id] = mod.events;
                            }

                            cleanRegistry(id);
                        }
                    };
                }

                return localRequire;
            },

            /**
             * Called to enable a module if it is still in the registry
             * awaiting enablement. A second arg, parent, the parent module,
             * is passed in for context, when this method is overridden by
             * the optimizer. Not shown here to keep code compact.
             */
            enable: function (depMap) {
                var mod = getOwn(registry, depMap.id);
                if (mod) {
                    getModule(depMap).enable();
                }
            },

            /**
             * Internal method used by environment adapters to complete a load event.
             * A load event could be a script load or just a load pass from a synchronous
             * load call.
             * @param {String} moduleName the name of the module to potentially complete.
             */
            completeLoad: function (moduleName) {
                var found, args, mod,
                    shim = getOwn(config.shim, moduleName) || {},
                    shExports = shim.exports;

                takeGlobalQueue();

                while (defQueue.length) {
                    args = defQueue.shift();
                    if (args[0] === null) {
                        args[0] = moduleName;
                        //If already found an anonymous module and bound it
                        //to this name, then this is some other anon module
                        //waiting for its completeLoad to fire.
                        if (found) {
                            break;
                        }
                        found = true;
                    } else if (args[0] === moduleName) {
                        //Found matching define call for this script!
                        found = true;
                    }

                    callGetModule(args);
                }

                //Do this after the cycle of callGetModule in case the result
                //of those calls/init calls changes the registry.
                mod = getOwn(registry, moduleName);

                if (!found && !hasProp(defined, moduleName) && mod && !mod.inited) {
                    if (config.enforceDefine && (!shExports || !getGlobal(shExports))) {
                        if (hasPathFallback(moduleName)) {
                            return;
                        } else {
                            return onError(makeError('nodefine',
                                             'No define call for ' + moduleName,
                                             null,
                                             [moduleName]));
                        }
                    } else {
                        //A script that does not call define(), so just simulate
                        //the call for it.
                        callGetModule([moduleName, (shim.deps || []), shim.exportsFn]);
                    }
                }

                checkLoaded();
            },

            /**
             * Converts a module name to a file path. Supports cases where
             * moduleName may actually be just an URL.
             * Note that it **does not** call normalize on the moduleName,
             * it is assumed to have already been normalized. This is an
             * internal API, not a public one. Use toUrl for the public API.
             */
            nameToUrl: function (moduleName, ext, skipExt) {
                var paths, syms, i, parentModule, url,
                    parentPath, bundleId,
                    pkgMain = getOwn(config.pkgs, moduleName);

                if (pkgMain) {
                    moduleName = pkgMain;
                }

                bundleId = getOwn(bundlesMap, moduleName);

                if (bundleId) {
                    return context.nameToUrl(bundleId, ext, skipExt);
                }

                //If a colon is in the URL, it indicates a protocol is used and it is just
                //an URL to a file, or if it starts with a slash, contains a query arg (i.e. ?)
                //or ends with .js, then assume the user meant to use an url and not a module id.
                //The slash is important for protocol-less URLs as well as full paths.
                if (req.jsExtRegExp.test(moduleName)) {
                    //Just a plain path, not module name lookup, so just return it.
                    //Add extension if it is included. This is a bit wonky, only non-.js things pass
                    //an extension, this method probably needs to be reworked.
                    url = moduleName + (ext || '');
                } else {
                    //A module that needs to be converted to a path.
                    paths = config.paths;

                    syms = moduleName.split('/');
                    //For each module name segment, see if there is a path
                    //registered for it. Start with most specific name
                    //and work up from it.
                    for (i = syms.length; i > 0; i -= 1) {
                        parentModule = syms.slice(0, i).join('/');

                        parentPath = getOwn(paths, parentModule);
                        if (parentPath) {
                            //If an array, it means there are a few choices,
                            //Choose the one that is desired
                            if (isArray(parentPath)) {
                                parentPath = parentPath[0];
                            }
                            syms.splice(0, i, parentPath);
                            break;
                        }
                    }

                    //Join the path parts together, then figure out if baseUrl is needed.
                    url = syms.join('/');
                    url += (ext || (/^data\:|\?/.test(url) || skipExt ? '' : '.js'));
                    url = (url.charAt(0) === '/' || url.match(/^[\w\+\.\-]+:/) ? '' : config.baseUrl) + url;
                }

                return config.urlArgs ? url +
                                        ((url.indexOf('?') === -1 ? '?' : '&') +
                                         config.urlArgs) : url;
            },

            //Delegates to req.load. Broken out as a separate function to
            //allow overriding in the optimizer.
            load: function (id, url) {
                req.load(context, id, url);
            },

            /**
             * Executes a module callback function. Broken out as a separate function
             * solely to allow the build system to sequence the files in the built
             * layer in the right sequence.
             *
             * @private
             */
            execCb: function (name, callback, args, exports) {
                return callback.apply(exports, args);
            },

            /**
             * callback for script loads, used to check status of loading.
             *
             * @param {Event} evt the event from the browser for the script
             * that was loaded.
             */
            onScriptLoad: function (evt) {
                //Using currentTarget instead of target for Firefox 2.0's sake. Not
                //all old browsers will be supported, but this one was easy enough
                //to support and still makes sense.
                if (evt.type === 'load' ||
                        (readyRegExp.test((evt.currentTarget || evt.srcElement).readyState))) {
                    //Reset interactive script so a script node is not held onto for
                    //to long.
                    interactiveScript = null;

                    //Pull out the name of the module and the context.
                    var data = getScriptData(evt);
                    context.completeLoad(data.id);
                }
            },

            /**
             * Callback for script errors.
             */
            onScriptError: function (evt) {
                var data = getScriptData(evt);
                if (!hasPathFallback(data.id)) {
                    return onError(makeError('scripterror', 'Script error for: ' + data.id, evt, [data.id]));
                }
            }
        };

        context.require = context.makeRequire();
        return context;
    }

    /**
     * Main entry point.
     *
     * If the only argument to require is a string, then the module that
     * is represented by that string is fetched for the appropriate context.
     *
     * If the first argument is an array, then it will be treated as an array
     * of dependency string names to fetch. An optional function callback can
     * be specified to execute when all of those dependencies are available.
     *
     * Make a local req variable to help Caja compliance (it assumes things
     * on a require that are not standardized), and to give a short
     * name for minification/local scope use.
     */
    req = requirejs = function (deps, callback, errback, optional) {

        //Find the right context, use default
        var context, config,
            contextName = defContextName;

        // Determine if have config object in the call.
        if (!isArray(deps) && typeof deps !== 'string') {
            // deps is a config object
            config = deps;
            if (isArray(callback)) {
                // Adjust args if there are dependencies
                deps = callback;
                callback = errback;
                errback = optional;
            } else {
                deps = [];
            }
        }

        if (config && config.context) {
            contextName = config.context;
        }

        context = getOwn(contexts, contextName);
        if (!context) {
            context = contexts[contextName] = req.s.newContext(contextName);
        }

        if (config) {
            context.configure(config);
        }

        return context.require(deps, callback, errback);
    };

    /**
     * Support require.config() to make it easier to cooperate with other
     * AMD loaders on globally agreed names.
     */
    req.config = function (config) {
        return req(config);
    };

    /**
     * Execute something after the current tick
     * of the event loop. Override for other envs
     * that have a better solution than setTimeout.
     * @param  {Function} fn function to execute later.
     */
    req.nextTick = typeof setTimeout !== 'undefined' ? function (fn) {
        setTimeout(fn, 4);
    } : function (fn) { fn(); };

    /**
     * Export require as a global, but only if it does not already exist.
     */
    if (!require) {
        require = req;
    }

    req.version = version;

    //Used to filter out dependencies that are already paths.
    req.jsExtRegExp = /^\/|:|\?|\.js$/;
    req.isBrowser = isBrowser;
    s = req.s = {
        contexts: contexts,
        newContext: newContext
    };

    //Create default context.
    req({});

    //Exports some context-sensitive methods on global require.
    each([
        'toUrl',
        'undef',
        'defined',
        'specified'
    ], function (prop) {
        //Reference from contexts instead of early binding to default context,
        //so that during builds, the latest instance of the default context
        //with its config gets used.
        req[prop] = function () {
            var ctx = contexts[defContextName];
            return ctx.require[prop].apply(ctx, arguments);
        };
    });

    if (isBrowser) {
        head = s.head = document.getElementsByTagName('head')[0];
        //If BASE tag is in play, using appendChild is a problem for IE6.
        //When that browser dies, this can be removed. Details in this jQuery bug:
        //http://dev.jquery.com/ticket/2709
        baseElement = document.getElementsByTagName('base')[0];
        if (baseElement) {
            head = s.head = baseElement.parentNode;
        }
    }

    /**
     * Any errors that require explicitly generates will be passed to this
     * function. Intercept/override it if you want custom error handling.
     * @param {Error} err the error object.
     */
    req.onError = defaultOnError;

    /**
     * Creates the node for the load command. Only used in browser envs.
     */
    req.createNode = function (config, moduleName, url) {
        var node = config.xhtml ?
                document.createElementNS('http://www.w3.org/1999/xhtml', 'html:script') :
                document.createElement('script');
        node.type = config.scriptType || 'text/javascript';
        node.charset = 'utf-8';
        node.async = true;
        return node;
    };

    /**
     * Does the request to load a module for the browser case.
     * Make this a separate function to allow other environments
     * to override it.
     *
     * @param {Object} context the require context to find state.
     * @param {String} moduleName the name of the module.
     * @param {Object} url the URL to the module.
     */
    req.load = function (context, moduleName, url) {
        var config = (context && context.config) || {},
            node;
        if (isBrowser) {
            //In the browser so use a script tag
            node = req.createNode(config, moduleName, url);

            node.setAttribute('data-requirecontext', context.contextName);
            node.setAttribute('data-requiremodule', moduleName);

            //Set up load listener. Test attachEvent first because IE9 has
            //a subtle issue in its addEventListener and script onload firings
            //that do not match the behavior of all other browsers with
            //addEventListener support, which fire the onload event for a
            //script right after the script execution. See:
            //https://connect.microsoft.com/IE/feedback/details/648057/script-onload-event-is-not-fired-immediately-after-script-execution
            //UNFORTUNATELY Opera implements attachEvent but does not follow the script
            //script execution mode.
            if (node.attachEvent &&
                    //Check if node.attachEvent is artificially added by custom script or
                    //natively supported by browser
                    //read https://github.com/jrburke/requirejs/issues/187
                    //if we can NOT find [native code] then it must NOT natively supported.
                    //in IE8, node.attachEvent does not have toString()
                    //Note the test for "[native code" with no closing brace, see:
                    //https://github.com/jrburke/requirejs/issues/273
                    !(node.attachEvent.toString && node.attachEvent.toString().indexOf('[native code') < 0) &&
                    !isOpera) {
                //Probably IE. IE (at least 6-8) do not fire
                //script onload right after executing the script, so
                //we cannot tie the anonymous define call to a name.
                //However, IE reports the script as being in 'interactive'
                //readyState at the time of the define call.
                useInteractive = true;

                node.attachEvent('onreadystatechange', context.onScriptLoad);
                //It would be great to add an error handler here to catch
                //404s in IE9+. However, onreadystatechange will fire before
                //the error handler, so that does not help. If addEventListener
                //is used, then IE will fire error before load, but we cannot
                //use that pathway given the connect.microsoft.com issue
                //mentioned above about not doing the 'script execute,
                //then fire the script load event listener before execute
                //next script' that other browsers do.
                //Best hope: IE10 fixes the issues,
                //and then destroys all installs of IE 6-9.
                //node.attachEvent('onerror', context.onScriptError);
            } else {
                node.addEventListener('load', context.onScriptLoad, false);
                node.addEventListener('error', context.onScriptError, false);
            }
            node.src = url;

            //For some cache cases in IE 6-8, the script executes before the end
            //of the appendChild execution, so to tie an anonymous define
            //call to the module name (which is stored on the node), hold on
            //to a reference to this node, but clear after the DOM insertion.
            currentlyAddingScript = node;
            if (baseElement) {
                head.insertBefore(node, baseElement);
            } else {
                head.appendChild(node);
            }
            currentlyAddingScript = null;

            return node;
        } else if (isWebWorker) {
            try {
                //In a web worker, use importScripts. This is not a very
                //efficient use of importScripts, importScripts will block until
                //its script is downloaded and evaluated. However, if web workers
                //are in play, the expectation that a build has been done so that
                //only one script needs to be loaded anyway. This may need to be
                //reevaluated if other use cases become common.
                importScripts(url);

                //Account for anonymous modules
                context.completeLoad(moduleName);
            } catch (e) {
                context.onError(makeError('importscripts',
                                'importScripts failed for ' +
                                    moduleName + ' at ' + url,
                                e,
                                [moduleName]));
            }
        }
    };

    function getInteractiveScript() {
        if (interactiveScript && interactiveScript.readyState === 'interactive') {
            return interactiveScript;
        }

        eachReverse(scripts(), function (script) {
            if (script.readyState === 'interactive') {
                return (interactiveScript = script);
            }
        });
        return interactiveScript;
    }

    //Look for a data-main script attribute, which could also adjust the baseUrl.
    if (isBrowser && !cfg.skipDataMain) {
        //Figure out baseUrl. Get it from the script tag with require.js in it.
        eachReverse(scripts(), function (script) {
            //Set the 'head' where we can append children by
            //using the script's parent.
            if (!head) {
                head = script.parentNode;
            }

            //Look for a data-main attribute to set main script for the page
            //to load. If it is there, the path to data main becomes the
            //baseUrl, if it is not already set.
            dataMain = script.getAttribute('data-main');
            if (dataMain) {
                //Preserve dataMain in case it is a path (i.e. contains '?')
                mainScript = dataMain;

                //Set final baseUrl if there is not already an explicit one.
                if (!cfg.baseUrl) {
                    //Pull off the directory of data-main for use as the
                    //baseUrl.
                    src = mainScript.split('/');
                    mainScript = src.pop();
                    subPath = src.length ? src.join('/')  + '/' : './';

                    cfg.baseUrl = subPath;
                }

                //Strip off any trailing .js since mainScript is now
                //like a module name.
                mainScript = mainScript.replace(jsSuffixRegExp, '');

                 //If mainScript is still a path, fall back to dataMain
                if (req.jsExtRegExp.test(mainScript)) {
                    mainScript = dataMain;
                }

                //Put the data-main script in the files to load.
                cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript];

                return true;
            }
        });
    }

    /**
     * The function that handles definitions of modules. Differs from
     * require() in that a string for the module should be the first argument,
     * and the function to execute after dependencies are loaded should
     * return a value to define the module corresponding to the first argument's
     * name.
     */
    define = function (name, deps, callback) {
        var node, context;

        //Allow for anonymous modules
        if (typeof name !== 'string') {
            //Adjust args appropriately
            callback = deps;
            deps = name;
            name = null;
        }

        //This module may not have dependencies
        if (!isArray(deps)) {
            callback = deps;
            deps = null;
        }

        //If no name, and callback is a function, then figure out if it a
        //CommonJS thing with dependencies.
        if (!deps && isFunction(callback)) {
            deps = [];
            //Remove comments from the callback string,
            //look for require calls, and pull them into the dependencies,
            //but only if there are function args.
            if (callback.length) {
                callback
                    .toString()
                    .replace(commentRegExp, '')
                    .replace(cjsRequireRegExp, function (match, dep) {
                        deps.push(dep);
                    });

                //May be a CommonJS thing even without require calls, but still
                //could use exports, and module. Avoid doing exports and module
                //work though if it just needs require.
                //REQUIRES the function to expect the CommonJS variables in the
                //order listed below.
                deps = (callback.length === 1 ? ['require'] : ['require', 'exports', 'module']).concat(deps);
            }
        }

        //If in IE 6-8 and hit an anonymous define() call, do the interactive
        //work.
        if (useInteractive) {
            node = currentlyAddingScript || getInteractiveScript();
            if (node) {
                if (!name) {
                    name = node.getAttribute('data-requiremodule');
                }
                context = contexts[node.getAttribute('data-requirecontext')];
            }
        }

        //Always save off evaluating the def call until the script onload handler.
        //This allows multiple modules to be in a file without prematurely
        //tracing dependencies, and allows for anonymous module support,
        //where the module name is not known until the script onload event
        //occurs. If no context, use the global queue, and get it processed
        //in the onscript load callback.
        (context ? context.defQueue : globalDefQueue).push([name, deps, callback]);
    };

    define.amd = {
        jQuery: true
    };


    /**
     * Executes the text. Normally just uses eval, but can be modified
     * to use a better, environment-specific call. Only used for transpiling
     * loader plugins, not for plain JS modules.
     * @param {String} text the text to execute/evaluate.
     */
    req.exec = function (text) {
        /*jslint evil: true */
        return eval(text);
    };

    //Set up with config info.
    req(cfg);
}(this));
;
/*! jQuery v2.1.3 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.3",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=hb(),z=hb(),A=hb(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},eb=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fb){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function gb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--)o[l]=s+rb(o[l]);w=ab.test(a)&&pb(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function hb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ib(a){return a[u]=!0,a}function jb(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function kb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function lb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function nb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function ob(a){return ib(function(b){return b=+b,ib(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pb(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=gb.support={},f=gb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=gb.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",eb,!1):e.attachEvent&&e.attachEvent("onunload",eb)),p=!f(g),c.attributes=jb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=jb(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=jb(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(jb(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),jb(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&jb(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return lb(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)i.unshift(c);while(h[d]===i[d])d++;return d?lb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},gb.matches=function(a,b){return gb(a,null,null,b)},gb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return gb(b,n,null,[a]).length>0},gb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},gb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},gb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},gb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=gb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=gb.selectors={cacheLength:50,createPseudo:ib,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||gb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&gb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=gb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||gb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ib(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ib(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ib(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ib(function(a){return function(b){return gb(a,b).length>0}}),contains:ib(function(a){return a=a.replace(cb,db),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ib(function(a){return W.test(a||"")||gb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:ob(function(){return[0]}),last:ob(function(a,b){return[b-1]}),eq:ob(function(a,b,c){return[0>c?c+b:c]}),even:ob(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:ob(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:ob(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:ob(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=mb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=nb(b);function qb(){}qb.prototype=d.filters=d.pseudos,d.setFilters=new qb,g=gb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?gb.error(a):z(a,i).slice(0)};function rb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function tb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ub(a,b,c){for(var d=0,e=b.length;e>d;d++)gb(a,b[d],c);return c}function vb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wb(a,b,c,d,e,f){return d&&!d[u]&&(d=wb(d)),e&&!e[u]&&(e=wb(e,f)),ib(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ub(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:vb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=vb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=vb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sb(function(a){return a===b},h,!0),l=sb(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sb(tb(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return wb(i>1&&tb(m),i>1&&rb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xb(a.slice(i,e)),f>e&&xb(a=a.slice(e)),f>e&&rb(a))}m.push(c)}return tb(m)}function yb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++])if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++])o(r,s,g,h);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=F.call(i));s=vb(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&gb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ib(f):f}return h=gb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=xb(b[c]),f[u]?d.push(f):e.push(f);f=A(a,yb(e,d)),f.selector=a}return f},i=gb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&pb(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&rb(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&pb(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=jb(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),jb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||kb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&jb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||kb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),jb(function(a){return null==a.getAttribute("disabled")})||kb(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),gb}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)
},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped())b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td;function jb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function kb(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function lb(a){var b=gb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function mb(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function nb(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function ob(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pb(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=ob(h),f=ob(a),d=0,e=f.length;e>d;d++)pb(f[d],g[d]);if(b)if(c)for(f=f||ob(a),g=g||ob(h),d=0,e=f.length;e>d;d++)nb(f[d],g[d]);else nb(a,h);return g=ob(h,"script"),g.length>0&&mb(g,!i&&ob(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(cb.test(e)){f=f||k.appendChild(b.createElement("div")),g=(bb.exec(e)||["",""])[1].toLowerCase(),h=ib[g]||ib._default,f.innerHTML=h[1]+e.replace(ab,"<$1></$2>")+h[2],j=h[0];while(j--)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));k.textContent="",m=0;while(e=l[m++])if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=ob(k.appendChild(e),"script"),i&&mb(f),c)){j=0;while(e=f[j++])fb.test(e.type||"")&&c.push(e)}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=jb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(ob(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&mb(ob(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(ob(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!db.test(a)&&!ib[(bb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(ab,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ob(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(ob(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&eb.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(ob(c,"script"),kb),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,ob(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,lb),j=0;g>j;j++)h=f[j],fb.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qb,rb={};function sb(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function tb(a){var b=l,c=rb[a];return c||(c=sb(a,b),"none"!==c&&c||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qb[0].contentDocument,b.write(),b.close(),c=sb(a,b),qb.detach()),rb[a]=c),c}var ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xb(a,b,c){var d,e,f,g,h=a.style;return c=c||wb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),vb.test(g)&&ub.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function yb(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];function Fb(a,b){if(b in a)return b;var c=b[0].toUpperCase()+b.slice(1),d=b,e=Eb.length;while(e--)if(b=Eb[e]+c,b in a)return b;return d}function Gb(a,b,c){var d=Ab.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Hb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ib(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wb(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xb(a,b,f),(0>e||null==e)&&(e=a.style[b]),vb.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Hb(a,b,c||(g?"border":"content"),d,f)+"px"}function Jb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",tb(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Bb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xb(a,b,d)),"normal"===e&&b in Db&&(e=Db[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?zb.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Cb,function(){return Ib(a,b,d)}):Ib(a,b,d):void 0},set:function(a,c,d){var e=d&&wb(a);return Gb(a,c,d?Hb(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ub.test(a)||(n.cssHooks[a+b].set=Gb)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Kb(a,b,c,d,e){return new Kb.prototype.init(a,b,c,d,e)}n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Kb.propHooks[this.prop];return a&&a.get?a.get(this):Kb.propHooks._default.get(this)},run:function(a){var b,c=Kb.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Ob.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Ob.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ub(a,b,c){for(var d,e=(Rb[b]||[]).concat(Rb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Vb(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||tb(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Nb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?tb(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ub(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xb(a,b,c){var d,e,f=0,g=Qb.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Lb||Sb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Lb||Sb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wb(k,j.opts.specialEasing);g>f;f++)if(d=Qb[f].call(j,a,k,j.opts))return d;return n.map(k,Ub,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xb,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Rb[c]=Rb[c]||[],Rb[c].unshift(b)},prefilter:function(a,b){b?Qb.unshift(a):Qb.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xb(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Tb(b,!0),a,d,e)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Lb=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Zb:Yb)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))
},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Zb={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$b[b]||n.find.attr;$b[b]=function(a,b,d){var e,f;return d||(f=$b[b],$b[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$b[b]=f),e}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_b.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ac," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ac," ").indexOf(b)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var ec=/#.*$/,fc=/([?&])_=[^&]*/,gc=/^(.*?):[ \t]*([^\r\n]*)$/gm,hc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ic=/^(?:GET|HEAD)$/,jc=/^\/\//,kc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lc={},mc={},nc="*/".concat("*"),oc=a.location.href,pc=kc.exec(oc.toLowerCase())||[];function qc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rc(a,b,c,d){var e={},f=a===mc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function uc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:oc,type:"GET",isLocal:hc.test(pc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sc(sc(a,n.ajaxSettings),b):sc(n.ajaxSettings,a)},ajaxPrefilter:qc(lc),ajaxTransport:qc(mc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gc.exec(e))f[b[1].toLowerCase()]=b[2]}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||oc)+"").replace(ec,"").replace(jc,pc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kc.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pc[1]&&h[2]===pc[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pc[3]||("http:"===pc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rc(lc,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ic.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(dc.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fc.test(d)?d.replace(fc,"$1_="+cc++):d+(dc.test(d)?"&":"?")+"_="+cc++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nc+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rc(mc,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tc(k,v,f)),u=uc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vc=/%20/g,wc=/\[\]$/,xc=/\r?\n/g,yc=/^(?:submit|button|image|reset|file)$/i,zc=/^(?:input|select|textarea|keygen)/i;function Ac(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wc.test(a)?d(a,e):Ac(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ac(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ac(c,a[c],b,e);return d.join("&").replace(vc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zc.test(this.nodeName)&&!yc.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xc,"\r\n")}}):{name:b.name,value:c.replace(xc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bc=0,Cc={},Dc={0:200,1223:204},Ec=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cc)Cc[a]()}),k.cors=!!Ec&&"withCredentials"in Ec,k.ajax=Ec=!!Ec,n.ajaxTransport(function(a){var b;return k.cors||Ec&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cc[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Dc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cc[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fc=[],Gc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fc.pop()||n.expando+"_"+cc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gc.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gc,"$1"+e):b.jsonp!==!1&&(b.url+=(dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hc)return Hc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ic=a.document.documentElement;function Jc(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jc(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ic;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ic})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jc(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=yb(k.pixelPosition,function(a,c){return c?(c=xb(a,b),vb.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kc=a.jQuery,Lc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lc),b&&a.jQuery===n&&(a.jQuery=Kc),n},typeof b===U&&(a.jQuery=a.$=n),n});
//# sourceMappingURL=jquery.min.map;
/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(Q,W,t){'use strict';function R(b){return function(){var a=arguments[0],c;c="["+(b?b+":":"")+a+"] http://errors.angularjs.org/1.3.15/"+(b?b+"/":"")+a;for(a=1;a<arguments.length;a++){c=c+(1==a?"?":"&")+"p"+(a-1)+"=";var d=encodeURIComponent,e;e=arguments[a];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;c+=d(e)}return Error(c)}}function Sa(b){if(null==b||Ta(b))return!1;var a=b.length;return b.nodeType===
qa&&a?!0:C(b)||H(b)||0===a||"number"===typeof a&&0<a&&a-1 in b}function r(b,a,c){var d,e;if(b)if(G(b))for(d in b)"prototype"==d||"length"==d||"name"==d||b.hasOwnProperty&&!b.hasOwnProperty(d)||a.call(c,b[d],d,b);else if(H(b)||Sa(b)){var f="object"!==typeof b;d=0;for(e=b.length;d<e;d++)(f||d in b)&&a.call(c,b[d],d,b)}else if(b.forEach&&b.forEach!==r)b.forEach(a,c,b);else for(d in b)b.hasOwnProperty(d)&&a.call(c,b[d],d,b);return b}function Ed(b,a,c){for(var d=Object.keys(b).sort(),e=0;e<d.length;e++)a.call(c,
b[d[e]],d[e]);return d}function mc(b){return function(a,c){b(c,a)}}function Fd(){return++ob}function nc(b,a){a?b.$$hashKey=a:delete b.$$hashKey}function w(b){for(var a=b.$$hashKey,c=1,d=arguments.length;c<d;c++){var e=arguments[c];if(e)for(var f=Object.keys(e),g=0,h=f.length;g<h;g++){var l=f[g];b[l]=e[l]}}nc(b,a);return b}function aa(b){return parseInt(b,10)}function Ob(b,a){return w(Object.create(b),a)}function E(){}function ra(b){return b}function ea(b){return function(){return b}}function x(b){return"undefined"===
typeof b}function y(b){return"undefined"!==typeof b}function J(b){return null!==b&&"object"===typeof b}function C(b){return"string"===typeof b}function Y(b){return"number"===typeof b}function ga(b){return"[object Date]"===Ca.call(b)}function G(b){return"function"===typeof b}function Ua(b){return"[object RegExp]"===Ca.call(b)}function Ta(b){return b&&b.window===b}function Va(b){return b&&b.$evalAsync&&b.$watch}function Wa(b){return"boolean"===typeof b}function oc(b){return!(!b||!(b.nodeName||b.prop&&
b.attr&&b.find))}function Gd(b){var a={};b=b.split(",");var c;for(c=0;c<b.length;c++)a[b[c]]=!0;return a}function va(b){return z(b.nodeName||b[0]&&b[0].nodeName)}function Xa(b,a){var c=b.indexOf(a);0<=c&&b.splice(c,1);return a}function Da(b,a,c,d){if(Ta(b)||Va(b))throw Ja("cpws");if(a){if(b===a)throw Ja("cpi");c=c||[];d=d||[];if(J(b)){var e=c.indexOf(b);if(-1!==e)return d[e];c.push(b);d.push(a)}if(H(b))for(var f=a.length=0;f<b.length;f++)e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a.push(e);
else{var g=a.$$hashKey;H(a)?a.length=0:r(a,function(b,c){delete a[c]});for(f in b)b.hasOwnProperty(f)&&(e=Da(b[f],null,c,d),J(b[f])&&(c.push(b[f]),d.push(e)),a[f]=e);nc(a,g)}}else if(a=b)H(b)?a=Da(b,[],c,d):ga(b)?a=new Date(b.getTime()):Ua(b)?(a=new RegExp(b.source,b.toString().match(/[^\/]*$/)[0]),a.lastIndex=b.lastIndex):J(b)&&(e=Object.create(Object.getPrototypeOf(b)),a=Da(b,e,c,d));return a}function sa(b,a){if(H(b)){a=a||[];for(var c=0,d=b.length;c<d;c++)a[c]=b[c]}else if(J(b))for(c in a=a||{},
b)if("$"!==c.charAt(0)||"$"!==c.charAt(1))a[c]=b[c];return a||b}function ha(b,a){if(b===a)return!0;if(null===b||null===a)return!1;if(b!==b&&a!==a)return!0;var c=typeof b,d;if(c==typeof a&&"object"==c)if(H(b)){if(!H(a))return!1;if((c=b.length)==a.length){for(d=0;d<c;d++)if(!ha(b[d],a[d]))return!1;return!0}}else{if(ga(b))return ga(a)?ha(b.getTime(),a.getTime()):!1;if(Ua(b))return Ua(a)?b.toString()==a.toString():!1;if(Va(b)||Va(a)||Ta(b)||Ta(a)||H(a)||ga(a)||Ua(a))return!1;c={};for(d in b)if("$"!==
d.charAt(0)&&!G(b[d])){if(!ha(b[d],a[d]))return!1;c[d]=!0}for(d in a)if(!c.hasOwnProperty(d)&&"$"!==d.charAt(0)&&a[d]!==t&&!G(a[d]))return!1;return!0}return!1}function Ya(b,a,c){return b.concat(Za.call(a,c))}function pc(b,a){var c=2<arguments.length?Za.call(arguments,2):[];return!G(a)||a instanceof RegExp?a:c.length?function(){return arguments.length?a.apply(b,Ya(c,arguments,0)):a.apply(b,c)}:function(){return arguments.length?a.apply(b,arguments):a.call(b)}}function Hd(b,a){var c=a;"string"===typeof b&&
"$"===b.charAt(0)&&"$"===b.charAt(1)?c=t:Ta(a)?c="$WINDOW":a&&W===a?c="$DOCUMENT":Va(a)&&(c="$SCOPE");return c}function $a(b,a){if("undefined"===typeof b)return t;Y(a)||(a=a?2:null);return JSON.stringify(b,Hd,a)}function qc(b){return C(b)?JSON.parse(b):b}function wa(b){b=A(b).clone();try{b.empty()}catch(a){}var c=A("<div>").append(b).html();try{return b[0].nodeType===pb?z(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+z(b)})}catch(d){return z(c)}}function rc(b){try{return decodeURIComponent(b)}catch(a){}}
function sc(b){var a={},c,d;r((b||"").split("&"),function(b){b&&(c=b.replace(/\+/g,"%20").split("="),d=rc(c[0]),y(d)&&(b=y(c[1])?rc(c[1]):!0,tc.call(a,d)?H(a[d])?a[d].push(b):a[d]=[a[d],b]:a[d]=b))});return a}function Pb(b){var a=[];r(b,function(b,d){H(b)?r(b,function(b){a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))}):a.push(Ea(d,!0)+(!0===b?"":"="+Ea(b,!0)))});return a.length?a.join("&"):""}function qb(b){return Ea(b,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Ea(b,a){return encodeURIComponent(b).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,a?"%20":"+")}function Id(b,a){var c,d,e=rb.length;b=A(b);for(d=0;d<e;++d)if(c=rb[d]+a,C(c=b.attr(c)))return c;return null}function Jd(b,a){var c,d,e={};r(rb,function(a){a+="app";!c&&b.hasAttribute&&b.hasAttribute(a)&&(c=b,d=b.getAttribute(a))});r(rb,function(a){a+="app";var e;!c&&(e=b.querySelector("["+a.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(a))});c&&(e.strictDi=null!==Id(c,"strict-di"),
a(c,d?[d]:[],e))}function uc(b,a,c){J(c)||(c={});c=w({strictDi:!1},c);var d=function(){b=A(b);if(b.injector()){var d=b[0]===W?"document":wa(b);throw Ja("btstrpd",d.replace(/</,"&lt;").replace(/>/,"&gt;"));}a=a||[];a.unshift(["$provide",function(a){a.value("$rootElement",b)}]);c.debugInfoEnabled&&a.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);a.unshift("ng");d=ab(a,c.strictDi);d.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return d},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;Q&&e.test(Q.name)&&(c.debugInfoEnabled=!0,Q.name=Q.name.replace(e,""));if(Q&&!f.test(Q.name))return d();Q.name=Q.name.replace(f,"");ca.resumeBootstrap=function(b){r(b,function(b){a.push(b)});return d()};G(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function Kd(){Q.name="NG_ENABLE_DEBUG_INFO!"+Q.name;Q.location.reload()}function Ld(b){b=ca.element(b).injector();if(!b)throw Ja("test");return b.get("$$testability")}
function vc(b,a){a=a||"_";return b.replace(Md,function(b,d){return(d?a:"")+b.toLowerCase()})}function Nd(){var b;wc||((ta=Q.jQuery)&&ta.fn.on?(A=ta,w(ta.fn,{scope:Ka.scope,isolateScope:Ka.isolateScope,controller:Ka.controller,injector:Ka.injector,inheritedData:Ka.inheritedData}),b=ta.cleanData,ta.cleanData=function(a){var c;if(Qb)Qb=!1;else for(var d=0,e;null!=(e=a[d]);d++)(c=ta._data(e,"events"))&&c.$destroy&&ta(e).triggerHandler("$destroy");b(a)}):A=T,ca.element=A,wc=!0)}function Rb(b,a,c){if(!b)throw Ja("areq",
a||"?",c||"required");return b}function sb(b,a,c){c&&H(b)&&(b=b[b.length-1]);Rb(G(b),a,"not a function, got "+(b&&"object"===typeof b?b.constructor.name||"Object":typeof b));return b}function La(b,a){if("hasOwnProperty"===b)throw Ja("badname",a);}function xc(b,a,c){if(!a)return b;a=a.split(".");for(var d,e=b,f=a.length,g=0;g<f;g++)d=a[g],b&&(b=(e=b)[d]);return!c&&G(b)?pc(e,b):b}function tb(b){var a=b[0];b=b[b.length-1];var c=[a];do{a=a.nextSibling;if(!a)break;c.push(a)}while(a!==b);return A(c)}function ia(){return Object.create(null)}
function Od(b){function a(a,b,c){return a[b]||(a[b]=c())}var c=R("$injector"),d=R("ng");b=a(b,"angular",Object);b.$$minErr=b.$$minErr||R;return a(b,"module",function(){var b={};return function(f,g,h){if("hasOwnProperty"===f)throw d("badname","module");g&&b.hasOwnProperty(f)&&(b[f]=null);return a(b,f,function(){function a(c,d,e,f){f||(f=b);return function(){f[e||"push"]([c,d,arguments]);return u}}if(!g)throw c("nomod",f);var b=[],d=[],e=[],q=a("$injector","invoke","push",d),u={_invokeQueue:b,_configBlocks:d,
_runBlocks:e,requires:g,name:f,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:q,run:function(a){e.push(a);return this}};h&&q(h);return u})}})}function Pd(b){w(b,{bootstrap:uc,copy:Da,extend:w,equals:ha,
element:A,forEach:r,injector:ab,noop:E,bind:pc,toJson:$a,fromJson:qc,identity:ra,isUndefined:x,isDefined:y,isString:C,isFunction:G,isObject:J,isNumber:Y,isElement:oc,isArray:H,version:Qd,isDate:ga,lowercase:z,uppercase:ub,callbacks:{counter:0},getTestability:Ld,$$minErr:R,$$csp:bb,reloadWithDebugInfo:Kd});cb=Od(Q);try{cb("ngLocale")}catch(a){cb("ngLocale",[]).provider("$locale",Rd)}cb("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Sd});a.provider("$compile",yc).directive({a:Td,
input:zc,textarea:zc,form:Ud,script:Vd,select:Wd,style:Xd,option:Yd,ngBind:Zd,ngBindHtml:$d,ngBindTemplate:ae,ngClass:be,ngClassEven:ce,ngClassOdd:de,ngCloak:ee,ngController:fe,ngForm:ge,ngHide:he,ngIf:ie,ngInclude:je,ngInit:ke,ngNonBindable:le,ngPluralize:me,ngRepeat:ne,ngShow:oe,ngStyle:pe,ngSwitch:qe,ngSwitchWhen:re,ngSwitchDefault:se,ngOptions:te,ngTransclude:ue,ngModel:ve,ngList:we,ngChange:xe,pattern:Ac,ngPattern:Ac,required:Bc,ngRequired:Bc,minlength:Cc,ngMinlength:Cc,maxlength:Dc,ngMaxlength:Dc,
ngValue:ye,ngModelOptions:ze}).directive({ngInclude:Ae}).directive(vb).directive(Ec);a.provider({$anchorScroll:Be,$animate:Ce,$browser:De,$cacheFactory:Ee,$controller:Fe,$document:Ge,$exceptionHandler:He,$filter:Fc,$interpolate:Ie,$interval:Je,$http:Ke,$httpBackend:Le,$location:Me,$log:Ne,$parse:Oe,$rootScope:Pe,$q:Qe,$$q:Re,$sce:Se,$sceDelegate:Te,$sniffer:Ue,$templateCache:Ve,$templateRequest:We,$$testability:Xe,$timeout:Ye,$window:Ze,$$rAF:$e,$$asyncCallback:af,$$jqLite:bf})}])}function db(b){return b.replace(cf,
function(a,b,d,e){return e?d.toUpperCase():d}).replace(df,"Moz$1")}function Gc(b){b=b.nodeType;return b===qa||!b||9===b}function Hc(b,a){var c,d,e=a.createDocumentFragment(),f=[];if(Sb.test(b)){c=c||e.appendChild(a.createElement("div"));d=(ef.exec(b)||["",""])[1].toLowerCase();d=ja[d]||ja._default;c.innerHTML=d[1]+b.replace(ff,"<$1></$2>")+d[2];for(d=d[0];d--;)c=c.lastChild;f=Ya(f,c.childNodes);c=e.firstChild;c.textContent=""}else f.push(a.createTextNode(b));e.textContent="";e.innerHTML="";r(f,function(a){e.appendChild(a)});
return e}function T(b){if(b instanceof T)return b;var a;C(b)&&(b=N(b),a=!0);if(!(this instanceof T)){if(a&&"<"!=b.charAt(0))throw Tb("nosel");return new T(b)}if(a){a=W;var c;b=(c=gf.exec(b))?[a.createElement(c[1])]:(c=Hc(b,a))?c.childNodes:[]}Ic(this,b)}function Ub(b){return b.cloneNode(!0)}function wb(b,a){a||xb(b);if(b.querySelectorAll)for(var c=b.querySelectorAll("*"),d=0,e=c.length;d<e;d++)xb(c[d])}function Jc(b,a,c,d){if(y(d))throw Tb("offargs");var e=(d=yb(b))&&d.events,f=d&&d.handle;if(f)if(a)r(a.split(" "),
function(a){if(y(c)){var d=e[a];Xa(d||[],c);if(d&&0<d.length)return}b.removeEventListener(a,f,!1);delete e[a]});else for(a in e)"$destroy"!==a&&b.removeEventListener(a,f,!1),delete e[a]}function xb(b,a){var c=b.ng339,d=c&&zb[c];d&&(a?delete d.data[a]:(d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),Jc(b)),delete zb[c],b.ng339=t))}function yb(b,a){var c=b.ng339,c=c&&zb[c];a&&!c&&(b.ng339=c=++hf,c=zb[c]={events:{},data:{},handle:t});return c}function Vb(b,a,c){if(Gc(b)){var d=y(c),e=!d&&a&&!J(a),
f=!a;b=(b=yb(b,!e))&&b.data;if(d)b[a]=c;else{if(f)return b;if(e)return b&&b[a];w(b,a)}}}function Ab(b,a){return b.getAttribute?-1<(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+a+" "):!1}function Bb(b,a){a&&b.setAttribute&&r(a.split(" "),function(a){b.setAttribute("class",N((" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+N(a)+" "," ")))})}function Cb(b,a){if(a&&b.setAttribute){var c=(" "+(b.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");
r(a.split(" "),function(a){a=N(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});b.setAttribute("class",N(c))}}function Ic(b,a){if(a)if(a.nodeType)b[b.length++]=a;else{var c=a.length;if("number"===typeof c&&a.window!==a){if(c)for(var d=0;d<c;d++)b[b.length++]=a[d]}else b[b.length++]=a}}function Kc(b,a){return Db(b,"$"+(a||"ngController")+"Controller")}function Db(b,a,c){9==b.nodeType&&(b=b.documentElement);for(a=H(a)?a:[a];b;){for(var d=0,e=a.length;d<e;d++)if((c=A.data(b,a[d]))!==t)return c;b=b.parentNode||
11===b.nodeType&&b.host}}function Lc(b){for(wb(b,!0);b.firstChild;)b.removeChild(b.firstChild)}function Mc(b,a){a||wb(b);var c=b.parentNode;c&&c.removeChild(b)}function jf(b,a){a=a||Q;if("complete"===a.document.readyState)a.setTimeout(b);else A(a).on("load",b)}function Nc(b,a){var c=Eb[a.toLowerCase()];return c&&Oc[va(b)]&&c}function kf(b,a){var c=b.nodeName;return("INPUT"===c||"TEXTAREA"===c)&&Pc[a]}function lf(b,a){var c=function(c,e){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=
a[e||c.type],g=f?f.length:0;if(g){if(x(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};1<g&&(f=sa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||f[l].call(b,c)}};c.elem=b;return c}function bf(){this.$get=function(){return w(T,{hasClass:function(b,a){b.attr&&(b=b[0]);
return Ab(b,a)},addClass:function(b,a){b.attr&&(b=b[0]);return Cb(b,a)},removeClass:function(b,a){b.attr&&(b=b[0]);return Bb(b,a)}})}}function Ma(b,a){var c=b&&b.$$hashKey;if(c)return"function"===typeof c&&(c=b.$$hashKey()),c;c=typeof b;return c="function"==c||"object"==c&&null!==b?b.$$hashKey=c+":"+(a||Fd)():c+":"+b}function eb(b,a){if(a){var c=0;this.nextUid=function(){return++c}}r(b,this.put,this)}function mf(b){return(b=b.toString().replace(Qc,"").match(Rc))?"function("+(b[1]||"").replace(/[\s\r\n]+/,
" ")+")":"fn"}function ab(b,a){function c(a){return function(b,c){if(J(b))r(b,mc(a));else return a(b,c)}}function d(a,b){La(a,"service");if(G(b)||H(b))b=q.instantiate(b);if(!b.$get)throw Fa("pget",a);return p[a+"Provider"]=b}function e(a,b){return function(){var c=s.invoke(b,this);if(x(c))throw Fa("undef",a);return c}}function f(a,b,c){return d(a,{$get:!1!==c?e(a,b):b})}function g(a){var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=q.get(e[0]);f[e[1]].apply(f,
e[2])}}if(!n.get(a)){n.put(a,!0);try{C(a)?(c=cb(a),b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):G(a)?b.push(q.invoke(a)):H(a)?b.push(q.invoke(a)):sb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Fa("modulerr",a,e.stack||e.message||e);}}});return b}function h(b,c){function d(a,e){if(b.hasOwnProperty(a)){if(b[a]===l)throw Fa("cdep",a+" <- "+k.join(" <- "));return b[a]}try{return k.unshift(a),
b[a]=l,b[a]=c(a,e)}catch(f){throw b[a]===l&&delete b[a],f;}finally{k.shift()}}function e(b,c,f,g){"string"===typeof f&&(g=f,f=null);var k=[],h=ab.$$annotate(b,a,g),l,q,p;q=0;for(l=h.length;q<l;q++){p=h[q];if("string"!==typeof p)throw Fa("itkn",p);k.push(f&&f.hasOwnProperty(p)?f[p]:d(p,g))}H(b)&&(b=b[l]);return b.apply(c,k)}return{invoke:e,instantiate:function(a,b,c){var d=Object.create((H(a)?a[a.length-1]:a).prototype||null);a=e(a,d,b,c);return J(a)||G(a)?a:d},get:d,annotate:ab.$$annotate,has:function(a){return p.hasOwnProperty(a+
"Provider")||b.hasOwnProperty(a)}}}a=!0===a;var l={},k=[],n=new eb([],!0),p={$provide:{provider:c(d),factory:c(f),service:c(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:c(function(a,b){return f(a,ea(b),!1)}),constant:c(function(a,b){La(a,"constant");p[a]=b;u[a]=b}),decorator:function(a,b){var c=q.get(a+"Provider"),d=c.$get;c.$get=function(){var a=s.invoke(d,c);return s.invoke(b,null,{$delegate:a})}}}},q=p.$injector=h(p,function(a,b){ca.isString(b)&&k.push(b);
throw Fa("unpr",k.join(" <- "));}),u={},s=u.$injector=h(u,function(a,b){var c=q.get(a+"Provider",b);return s.invoke(c.$get,c,t,a)});r(g(b),function(a){s.invoke(a||E)});return s}function Be(){var b=!0;this.disableAutoScrolling=function(){b=!1};this.$get=["$window","$location","$rootScope",function(a,c,d){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===va(a))return b=a,!0});return b}function f(b){if(b){b.scrollIntoView();var c;c=g.yOffset;G(c)?c=c():oc(c)?(c=c[0],c="fixed"!==
a.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):Y(c)||(c=0);c&&(b=b.getBoundingClientRect().top,a.scrollBy(0,b-c))}else a.scrollTo(0,0)}function g(){var a=c.hash(),b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=a.document;b&&d.$watch(function(){return c.hash()},function(a,b){a===b&&""===a||jf(function(){d.$evalAsync(g)})});return g}]}function af(){this.$get=["$$rAF","$timeout",function(b,a){return b.supported?function(a){return b(a)}:
function(b){return a(b,0,!1)}}]}function nf(b,a,c,d){function e(a){try{a.apply(null,Za.call(arguments,1))}finally{if(m--,0===m)for(;F.length;)try{F.pop()()}catch(b){c.error(b)}}}function f(a,b){(function da(){r(Z,function(a){a()});L=b(da,a)})()}function g(){h();l()}function h(){a:{try{B=u.state;break a}catch(a){}B=void 0}B=x(B)?null:B;ha(B,O)&&(B=O);O=B}function l(){if(D!==n.url()||I!==B)D=n.url(),I=B,r(X,function(a){a(n.url(),B)})}function k(a){try{return decodeURIComponent(a)}catch(b){return a}}
var n=this,p=a[0],q=b.location,u=b.history,s=b.setTimeout,M=b.clearTimeout,v={};n.isMock=!1;var m=0,F=[];n.$$completeOutstandingRequest=e;n.$$incOutstandingRequestCount=function(){m++};n.notifyWhenNoOutstandingRequests=function(a){r(Z,function(a){a()});0===m?a():F.push(a)};var Z=[],L;n.addPollFn=function(a){x(L)&&f(100,s);Z.push(a);return a};var B,I,D=q.href,S=a.find("base"),P=null;h();I=B;n.url=function(a,c,e){x(e)&&(e=null);q!==b.location&&(q=b.location);u!==b.history&&(u=b.history);if(a){var f=
I===e;if(D===a&&(!d.history||f))return n;var g=D&&Ga(D)===Ga(a);D=a;I=e;!d.history||g&&f?(g||(P=a),c?q.replace(a):g?(c=q,e=a.indexOf("#"),a=-1===e?"":a.substr(e+1),c.hash=a):q.href=a):(u[c?"replaceState":"pushState"](e,"",a),h(),I=B);return n}return P||q.href.replace(/%27/g,"'")};n.state=function(){return B};var X=[],ba=!1,O=null;n.onUrlChange=function(a){if(!ba){if(d.history)A(b).on("popstate",g);A(b).on("hashchange",g);ba=!0}X.push(a);return a};n.$$checkUrlChange=l;n.baseHref=function(){var a=S.attr("href");
return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var fa={},y="",ka=n.baseHref();n.cookies=function(a,b){var d,e,f,g;if(a)b===t?p.cookie=encodeURIComponent(a)+"=;path="+ka+";expires=Thu, 01 Jan 1970 00:00:00 GMT":C(b)&&(d=(p.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+";path="+ka).length+1,4096<d&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"));else{if(p.cookie!==y)for(y=p.cookie,d=y.split("; "),fa={},f=0;f<d.length;f++)e=d[f],g=
e.indexOf("="),0<g&&(a=k(e.substring(0,g)),fa[a]===t&&(fa[a]=k(e.substring(g+1))));return fa}};n.defer=function(a,b){var c;m++;c=s(function(){delete v[c];e(a)},b||0);v[c]=!0;return c};n.defer.cancel=function(a){return v[a]?(delete v[a],M(a),e(E),!0):!1}}function De(){this.$get=["$window","$log","$sniffer","$document",function(b,a,c,d){return new nf(b,d,a,c)}]}function Ee(){this.$get=function(){function b(b,d){function e(a){a!=p&&(q?q==a&&(q=a.n):q=a,f(a.n,a.p),f(a,p),p=a,p.n=null)}function f(a,b){a!=
b&&(a&&(a.p=b),b&&(b.n=a))}if(b in a)throw R("$cacheFactory")("iid",b);var g=0,h=w({},d,{id:b}),l={},k=d&&d.capacity||Number.MAX_VALUE,n={},p=null,q=null;return a[b]={put:function(a,b){if(k<Number.MAX_VALUE){var c=n[a]||(n[a]={key:a});e(c)}if(!x(b))return a in l||g++,l[a]=b,g>k&&this.remove(q.key),b},get:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;e(b)}return l[a]},remove:function(a){if(k<Number.MAX_VALUE){var b=n[a];if(!b)return;b==p&&(p=b.p);b==q&&(q=b.n);f(b.n,b.p);delete n[a]}delete l[a];
g--},removeAll:function(){l={};g=0;n={};p=q=null},destroy:function(){n=h=l=null;delete a[b]},info:function(){return w({},h,{size:g})}}}var a={};b.info=function(){var b={};r(a,function(a,e){b[e]=a.info()});return b};b.get=function(b){return a[b]};return b}}function Ve(){this.$get=["$cacheFactory",function(b){return b("templates")}]}function yc(b,a){function c(a,b){var c=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,d={};r(a,function(a,e){var f=a.match(c);if(!f)throw la("iscp",b,e,a);d[e]={mode:f[1][0],collection:"*"===
f[2],optional:"?"===f[3],attrName:f[4]||e}});return d}var d={},e=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,g=Gd("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(a,e){La(a,"directive");C(a)?(Rb(e,"directiveFactory"),d.hasOwnProperty(a)||(d[a]=[],b.factory(a+"Directive",["$injector","$exceptionHandler",function(b,e){var f=[];r(d[a],function(d,g){try{var h=b.invoke(d);G(h)?h={compile:ea(h)}:!h.compile&&h.link&&
(h.compile=ea(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||a;h.require=h.require||h.controller&&h.name;h.restrict=h.restrict||"EA";J(h.scope)&&(h.$$isolateBindings=c(h.scope,h.name));f.push(h)}catch(k){e(k)}});return f}])),d[a].push(e)):r(a,mc(p));return this};this.aHrefSanitizationWhitelist=function(b){return y(b)?(a.aHrefSanitizationWhitelist(b),this):a.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a.imgSrcSanitizationWhitelist(b),this):a.imgSrcSanitizationWhitelist()};
var k=!0;this.debugInfoEnabled=function(a){return y(a)?(k=a,this):k};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,b,c,s,M,v,m,F,Z,L,B){function I(a,b){try{a.addClass(b)}catch(c){}}function D(a,b,c,d,e){a instanceof A||(a=A(a));r(a,function(b,c){b.nodeType==pb&&b.nodeValue.match(/\S+/)&&(a[c]=A(b).wrap("<span></span>").parent()[0])});var f=S(a,b,a,c,d,e);D.$$addScopeClass(a);
var g=null;return function(b,c,d){Rb(b,"scope");d=d||{};var e=d.parentBoundTranscludeFn,h=d.transcludeControllers;d=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==va(d)&&d.toString().match(/SVG/)?"svg":"html":"html");d="html"!==g?A(Xb(g,A("<div>").append(a).html())):c?Ka.clone.call(a):a;if(h)for(var k in h)d.data("$"+k+"Controller",h[k].instance);D.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,e);return d}}function S(a,b,c,d,e,f){function g(a,
c,d,e){var f,k,l,q,p,s,M;if(m)for(M=Array(c.length),q=0;q<h.length;q+=3)f=h[q],M[f]=c[f];else M=c;q=0;for(p=h.length;q<p;)k=M[h[q++]],c=h[q++],f=h[q++],c?(c.scope?(l=a.$new(),D.$$addScopeInfo(A(k),l)):l=a,s=c.transcludeOnThisElement?P(a,c.transclude,e,c.elementTranscludeOnThisElement):!c.templateOnThisElement&&e?e:!e&&b?P(a,b):null,c(f,l,k,d,s)):f&&f(a,k.childNodes,t,e)}for(var h=[],k,l,q,p,m,s=0;s<a.length;s++){k=new Yb;l=X(a[s],[],k,0===s?d:t,e);(f=l.length?fa(l,a[s],k,b,c,null,[],[],f):null)&&
f.scope&&D.$$addScopeClass(k.$$element);k=f&&f.terminal||!(q=a[s].childNodes)||!q.length?null:S(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(s,f,k),p=!0,m=m||f;f=null}return p?g:null}function P(a,b,c,d){return function(d,e,f,g,h){d||(d=a.$new(!1,h),d.$$transcluded=!0);return b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})}}function X(a,b,c,d,g){var h=c.$attr,k;switch(a.nodeType){case qa:ka(b,xa(va(a)),"E",d,g);for(var l,
q,p,m=a.attributes,s=0,M=m&&m.length;s<M;s++){var u=!1,L=!1;l=m[s];k=l.name;q=N(l.value);l=xa(k);if(p=U.test(l))k=k.replace(Sc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});var B=l.replace(/(Start|End)$/,"");x(B)&&l===B+"Start"&&(u=k,L=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6));l=xa(k.toLowerCase());h[l]=k;if(p||!c.hasOwnProperty(l))c[l]=q,Nc(a,l)&&(c[l]=!0);Oa(a,b,q,l,p);ka(b,l,"A",d,g,u,L)}a=a.className;J(a)&&(a=a.animVal);if(C(a)&&""!==a)for(;k=f.exec(a);)l=xa(k[2]),
ka(b,l,"C",d,g)&&(c[l]=N(k[3])),a=a.substr(k.index+k[0].length);break;case pb:za(b,a.nodeValue);break;case 8:try{if(k=e.exec(a.nodeValue))l=xa(k[1]),ka(b,l,"M",d,g)&&(c[l]=N(k[2]))}catch(v){}}b.sort(da);return b}function ba(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw la("uterdir",b,c);a.nodeType==qa&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return A(d)}function O(a,b,c){return function(d,e,f,g,h){e=ba(e[0],
b,c);return a(d,e,f,g,h)}}function fa(a,d,e,f,g,k,l,p,m){function s(a,b,c,d){if(a){c&&(a=O(a,c,d));a.require=K.require;a.directiveName=da;if(P===K||K.$$isolateScope)a=Y(a,{isolateScope:!0});l.push(a)}if(b){c&&(b=O(b,c,d));b.require=K.require;b.directiveName=da;if(P===K||K.$$isolateScope)b=Y(b,{isolateScope:!0});p.push(b)}}function L(a,b,c,d){var e,f="data",g=!1,k=c,l;if(C(b)){l=b.match(h);b=b.substring(l[0].length);l[3]&&(l[1]?l[3]=null:l[1]=l[3]);"^"===l[1]?f="inheritedData":"^^"===l[1]&&(f="inheritedData",
k=c.parent());"?"===l[2]&&(g=!0);e=null;d&&"data"===f&&(e=d[b])&&(e=e.instance);e=e||k[f]("$"+b+"Controller");if(!e&&!g)throw la("ctreq",b,a);return e||null}H(b)&&(e=[],r(b,function(b){e.push(L(a,b,c,d))}));return e}function B(a,c,f,g,h){function k(a,b,c){var d;Va(a)||(c=b,b=a,a=t);E&&(d=F);c||(c=E?X.parent():X);return h(a,b,d,c,Wb)}var m,s,u,I,F,gb,X,O;d===f?(O=e,X=e.$$element):(X=A(f),O=new Yb(X,e));P&&(I=c.$new(!0));h&&(gb=k,gb.$$boundTransclude=h);S&&(Z={},F={},r(S,function(a){var b={$scope:a===
P||a.$$isolateScope?I:c,$element:X,$attrs:O,$transclude:gb};u=a.controller;"@"==u&&(u=O[a.name]);b=v(u,b,!0,a.controllerAs);F[a.name]=b;E||X.data("$"+a.name+"Controller",b.instance);Z[a.name]=b}));if(P){D.$$addScopeInfo(X,I,!0,!(ma&&(ma===P||ma===P.$$originalDirective)));D.$$addScopeClass(X,!0);g=Z&&Z[P.name];var ba=I;g&&g.identifier&&!0===P.bindToController&&(ba=g.instance);r(I.$$isolateBindings=P.$$isolateBindings,function(a,d){var e=a.attrName,f=a.optional,g,h,k,l;switch(a.mode){case "@":O.$observe(e,
function(a){ba[d]=a});O.$$observers[e].$$scope=c;O[e]&&(ba[d]=b(O[e])(c));break;case "=":if(f&&!O[e])break;h=M(O[e]);l=h.literal?ha:function(a,b){return a===b||a!==a&&b!==b};k=h.assign||function(){g=ba[d]=h(c);throw la("nonassign",O[e],P.name);};g=ba[d]=h(c);f=function(a){l(a,ba[d])||(l(a,g)?k(c,a=ba[d]):ba[d]=a);return g=a};f.$stateful=!0;f=a.collection?c.$watchCollection(O[e],f):c.$watch(M(O[e],f),null,h.literal);I.$on("$destroy",f);break;case "&":h=M(O[e]),ba[d]=function(a){return h(c,a)}}})}Z&&
(r(Z,function(a){a()}),Z=null);g=0;for(m=l.length;g<m;g++)s=l[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb);var Wb=c;P&&(P.template||null===P.templateUrl)&&(Wb=I);a&&a(Wb,f.childNodes,t,h);for(g=p.length-1;0<=g;g--)s=p[g],$(s,s.isolateScope?I:c,X,O,s.require&&L(s.directiveName,s.require,X,F),gb)}m=m||{};for(var I=-Number.MAX_VALUE,F,S=m.controllerDirectives,Z,P=m.newIsolateScopeDirective,ma=m.templateDirective,fa=m.nonTlbTranscludeDirective,ka=!1,x=!1,E=m.hasElementTranscludeDirective,
w=e.$$element=A(d),K,da,V,fb=f,za,z=0,Q=a.length;z<Q;z++){K=a[z];var Oa=K.$$start,U=K.$$end;Oa&&(w=ba(d,Oa,U));V=t;if(I>K.priority)break;if(V=K.scope)K.templateUrl||(J(V)?(Na("new/isolated scope",P||F,K,w),P=K):Na("new/isolated scope",P,K,w)),F=F||K;da=K.name;!K.templateUrl&&K.controller&&(V=K.controller,S=S||{},Na("'"+da+"' controller",S[da],K,w),S[da]=K);if(V=K.transclude)ka=!0,K.$$tlb||(Na("transclusion",fa,K,w),fa=K),"element"==V?(E=!0,I=K.priority,V=w,w=e.$$element=A(W.createComment(" "+da+": "+
e[da]+" ")),d=w[0],T(g,Za.call(V,0),d),fb=D(V,f,I,k&&k.name,{nonTlbTranscludeDirective:fa})):(V=A(Ub(d)).contents(),w.empty(),fb=D(V,f));if(K.template)if(x=!0,Na("template",ma,K,w),ma=K,V=G(K.template)?K.template(w,e):K.template,V=Tc(V),K.replace){k=K;V=Sb.test(V)?Uc(Xb(K.templateNamespace,N(V))):[];d=V[0];if(1!=V.length||d.nodeType!==qa)throw la("tplrt",da,"");T(g,w,d);Q={$attr:{}};V=X(d,[],Q);var aa=a.splice(z+1,a.length-(z+1));P&&y(V);a=a.concat(V).concat(aa);R(e,Q);Q=a.length}else w.html(V);if(K.templateUrl)x=
!0,Na("template",ma,K,w),ma=K,K.replace&&(k=K),B=of(a.splice(z,a.length-z),w,e,g,ka&&fb,l,p,{controllerDirectives:S,newIsolateScopeDirective:P,templateDirective:ma,nonTlbTranscludeDirective:fa}),Q=a.length;else if(K.compile)try{za=K.compile(w,e,fb),G(za)?s(null,za,Oa,U):za&&s(za.pre,za.post,Oa,U)}catch(pf){c(pf,wa(w))}K.terminal&&(B.terminal=!0,I=Math.max(I,K.priority))}B.scope=F&&!0===F.scope;B.transcludeOnThisElement=ka;B.elementTranscludeOnThisElement=E;B.templateOnThisElement=x;B.transclude=fb;
m.hasElementTranscludeDirective=E;return B}function y(a){for(var b=0,c=a.length;b<c;b++)a[b]=Ob(a[b],{$$isolateScope:!0})}function ka(b,e,f,g,h,k,l){if(e===h)return null;h=null;if(d.hasOwnProperty(e)){var q;e=a.get(e+"Directive");for(var m=0,s=e.length;m<s;m++)try{q=e[m],(g===t||g>q.priority)&&-1!=q.restrict.indexOf(f)&&(k&&(q=Ob(q,{$$start:k,$$end:l})),b.push(q),h=q)}catch(M){c(M)}}return h}function x(b){if(d.hasOwnProperty(b))for(var c=a.get(b+"Directive"),e=0,f=c.length;e<f;e++)if(b=c[e],b.multiElement)return!0;
return!1}function R(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;r(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,f){"class"==f?(I(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function of(a,b,c,d,e,f,g,h){var k=[],l,q,p=b[0],m=a.shift(),M=Ob(m,{templateUrl:null,transclude:null,
replace:null,$$originalDirective:m}),u=G(m.templateUrl)?m.templateUrl(b,c):m.templateUrl,L=m.templateNamespace;b.empty();s(Z.getTrustedResourceUrl(u)).then(function(s){var B,v;s=Tc(s);if(m.replace){s=Sb.test(s)?Uc(Xb(L,N(s))):[];B=s[0];if(1!=s.length||B.nodeType!==qa)throw la("tplrt",m.name,u);s={$attr:{}};T(d,b,B);var D=X(B,[],s);J(m.scope)&&y(D);a=D.concat(a);R(c,s)}else B=p,b.html(s);a.unshift(M);l=fa(a,B,c,e,b,m,f,g,h);r(d,function(a,c){a==B&&(d[c]=b[0])});for(q=S(b[0].childNodes,e);k.length;){s=
k.shift();v=k.shift();var F=k.shift(),O=k.shift(),D=b[0];if(!s.$$destroyed){if(v!==p){var Z=v.className;h.hasElementTranscludeDirective&&m.replace||(D=Ub(B));T(F,A(v),D);I(A(D),Z)}v=l.transcludeOnThisElement?P(s,l.transclude,O):O;l(q,s,D,d,v)}}k=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(k?k.push(b,c,d,a):(l.transcludeOnThisElement&&(a=P(b,l.transclude,e)),l(q,b,c,d,a)))}}function da(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Na(a,
b,c,d){if(b)throw la("multidir",b.name,c.name,a,wa(d));}function za(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&D.$$addBindingClass(a);return function(a,c){var e=c.parent();b||D.$$addBindingClass(e);D.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function Xb(a,b){a=z(a||"html");switch(a){case "svg":case "math":var c=W.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}
function Q(a,b){if("srcdoc"==b)return Z.HTML;var c=va(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b))return Z.RESOURCE_URL}function Oa(a,c,d,e,f){var h=Q(a,e);f=g[e]||f;var k=b(d,!0,h,f);if(k){if("multiple"===e&&"select"===va(a))throw la("selmulti",wa(a));c.push({priority:100,compile:function(){return{pre:function(a,c,g){c=g.$$observers||(g.$$observers={});if(l.test(e))throw la("nodomevents");var m=g[e];m!==d&&(k=m&&b(m,!0,h,f),d=m);k&&(g[e]=k(a),(c[e]||(c[e]=[])).$$inter=
!0,(g.$$observers&&g.$$observers[e].$$scope||a).$watch(k,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function T(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=W.createDocumentFragment();a.appendChild(d);A(c).data(A(d).data());ta?(Qb=!0,ta.cleanData([d])):delete A.cache[d[A.expando]];
d=1;for(e=b.length;d<e;d++)f=b[d],A(f).remove(),a.appendChild(f),delete b[d];b[0]=c;b.length=1}function Y(a,b){return w(function(){return a.apply(null,arguments)},a,b)}function $(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,wa(d))}}var Yb=function(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a};Yb.prototype={$normalize:xa,$addClass:function(a){a&&0<a.length&&L.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&
L.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Vc(a,b);c&&c.length&&L.addClass(this.$$element,c);(c=Vc(b,a))&&c.length&&L.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=this.$$element[0],g=Nc(f,a),h=kf(f,a),f=a;g?(this.$$element.prop(a,b),e=g):h&&(this[h]=b,f=h);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=vc(a,"-"));g=va(this.$$element);if("a"===g&&"href"===a||"img"===g&&"src"===a)this[a]=b=B(b,"src"===a);else if("img"===g&&"srcset"===a){for(var g=
"",h=N(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(h)?k:/(,)/,h=h.split(k),k=Math.floor(h.length/2),l=0;l<k;l++)var q=2*l,g=g+B(N(h[q]),!0),g=g+(" "+N(h[q+1]));h=N(h[2*l]).split(/\s/);g+=B(N(h[0]),!0);2===h.length&&(g+=" "+N(h[1]));this[a]=b=g}!1!==d&&(null===b||b===t?this.$$element.removeAttr(e):this.$$element.attr(e,b));(a=this.$$observers)&&r(a[f],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ia()),e=d[a]||(d[a]=[]);e.push(b);
m.$evalAsync(function(){!e.$$inter&&c.hasOwnProperty(a)&&b(c[a])});return function(){Xa(e,b)}}};var V=b.startSymbol(),ma=b.endSymbol(),Tc="{{"==V||"}}"==ma?ra:function(a){return a.replace(/\{\{/g,V).replace(/}}/g,ma)},U=/^ngAttr[A-Z]/;D.$$addBindingInfo=k?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:E;D.$$addBindingClass=k?function(a){I(a,"ng-binding")}:E;D.$$addScopeInfo=k?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",
b)}:E;D.$$addScopeClass=k?function(a,b){I(a,b?"ng-isolate-scope":"ng-scope")}:E;return D}]}function xa(b){return db(b.replace(Sc,""))}function Vc(b,a){var c="",d=b.split(/\s+/),e=a.split(/\s+/),f=0;a:for(;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(0<c.length?" ":"")+g}return c}function Uc(b){b=A(b);var a=b.length;if(1>=a)return b;for(;a--;)8===b[a].nodeType&&qf.call(b,a,1);return b}function Fe(){var b={},a=!1,c=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(a,c){La(a,
"controller");J(a)?w(b,a):b[a]=c};this.allowGlobals=function(){a=!0};this.$get=["$injector","$window",function(d,e){function f(a,b,c,d){if(!a||!J(a.$scope))throw R("$controller")("noscp",d,b);a.$scope[b]=c}return function(g,h,l,k){var n,p,q;l=!0===l;k&&C(k)&&(q=k);if(C(g)){k=g.match(c);if(!k)throw rf("ctrlfmt",g);p=k[1];q=q||k[3];g=b.hasOwnProperty(p)?b[p]:xc(h.$scope,p,!0)||(a?xc(e,p,!0):t);sb(g,p,!0)}if(l)return l=(H(g)?g[g.length-1]:g).prototype,n=Object.create(l||null),q&&f(h,q,n,p||g.name),w(function(){d.invoke(g,
n,h,p);return n},{instance:n,identifier:q});n=d.instantiate(g,h,p);q&&f(h,q,n,p||g.name);return n}}]}function Ge(){this.$get=["$window",function(b){return A(b.document)}]}function He(){this.$get=["$log",function(b){return function(a,c){b.error.apply(b,arguments)}}]}function Zb(b,a){if(C(b)){var c=b.replace(sf,"").trim();if(c){var d=a("Content-Type");(d=d&&0===d.indexOf(Wc))||(d=(d=c.match(tf))&&uf[d[0]].test(c));d&&(b=qc(c))}}return b}function Xc(b){var a=ia(),c,d,e;if(!b)return a;r(b.split("\n"),
function(b){e=b.indexOf(":");c=z(N(b.substr(0,e)));d=N(b.substr(e+1));c&&(a[c]=a[c]?a[c]+", "+d:d)});return a}function Yc(b){var a=J(b)?b:t;return function(c){a||(a=Xc(b));return c?(c=a[z(c)],void 0===c&&(c=null),c):a}}function Zc(b,a,c,d){if(G(d))return d(b,a,c);r(d,function(d){b=d(b,a,c)});return b}function Ke(){var b=this.defaults={transformResponse:[Zb],transformRequest:[function(a){return J(a)&&"[object File]"!==Ca.call(a)&&"[object Blob]"!==Ca.call(a)&&"[object FormData]"!==Ca.call(a)?$a(a):
a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:sa($b),put:sa($b),patch:sa($b)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=!1;this.useApplyAsync=function(b){return y(b)?(a=!!b,this):a};var c=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(d,e,f,g,h,l){function k(a){function c(a){var b=w({},a);b.data=a.data?Zc(a.data,a.headers,a.status,e.transformResponse):a.data;a=a.status;return 200<=a&&300>a?
b:h.reject(b)}function d(a){var b,c={};r(a,function(a,d){G(a)?(b=a(),null!=b&&(c[d]=b)):c[d]=a});return c}if(!ca.isObject(a))throw R("$http")("badreq",a);var e=w({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse},a);e.headers=function(a){var c=b.headers,e=w({},a.headers),f,g,c=w({},c.common,c[z(a.method)]);a:for(f in c){a=z(f);for(g in e)if(z(g)===a)continue a;e[f]=c[f]}return d(e)}(a);e.method=ub(e.method);var f=[function(a){var d=a.headers,e=Zc(a.data,Yc(d),
t,a.transformRequest);x(e)&&r(d,function(a,b){"content-type"===z(b)&&delete d[b]});x(a.withCredentials)&&!x(b.withCredentials)&&(a.withCredentials=b.withCredentials);return n(a,e).then(c,c)},t],g=h.when(e);for(r(u,function(a){(a.request||a.requestError)&&f.unshift(a.request,a.requestError);(a.response||a.responseError)&&f.push(a.response,a.responseError)});f.length;){a=f.shift();var k=f.shift(),g=g.then(a,k)}g.success=function(a){g.then(function(b){a(b.data,b.status,b.headers,e)});return g};g.error=
function(a){g.then(null,function(b){a(b.data,b.status,b.headers,e)});return g};return g}function n(c,f){function l(b,c,d,e){function f(){m(c,b,d,e)}I&&(200<=b&&300>b?I.put(P,[b,c,Xc(d),e]):I.remove(P));a?g.$applyAsync(f):(f(),g.$$phase||g.$apply())}function m(a,b,d,e){b=Math.max(b,0);(200<=b&&300>b?L.resolve:L.reject)({data:a,status:b,headers:Yc(d),config:c,statusText:e})}function n(a){m(a.data,a.status,sa(a.headers()),a.statusText)}function u(){var a=k.pendingRequests.indexOf(c);-1!==a&&k.pendingRequests.splice(a,
1)}var L=h.defer(),B=L.promise,I,D,S=c.headers,P=p(c.url,c.params);k.pendingRequests.push(c);B.then(u,u);!c.cache&&!b.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(I=J(c.cache)?c.cache:J(b.cache)?b.cache:q);I&&(D=I.get(P),y(D)?D&&G(D.then)?D.then(n,n):H(D)?m(D[1],D[0],sa(D[2]),D[3]):m(D,200,{},"OK"):I.put(P,B));x(D)&&((D=$c(c.url)?e.cookies()[c.xsrfCookieName||b.xsrfCookieName]:t)&&(S[c.xsrfHeaderName||b.xsrfHeaderName]=D),d(c.method,P,f,l,S,c.timeout,c.withCredentials,c.responseType));
return B}function p(a,b){if(!b)return a;var c=[];Ed(b,function(a,b){null===a||x(a)||(H(a)||(a=[a]),r(a,function(a){J(a)&&(a=ga(a)?a.toISOString():$a(a));c.push(Ea(b)+"="+Ea(a))}))});0<c.length&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&"));return a}var q=f("$http"),u=[];r(c,function(a){u.unshift(C(a)?l.get(a):l.invoke(a))});k.pendingRequests=[];(function(a){r(arguments,function(a){k[a]=function(b,c){return k(w(c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){k[a]=
function(b,c,d){return k(w(d||{},{method:a,url:b,data:c}))}})})("post","put","patch");k.defaults=b;return k}]}function vf(){return new Q.XMLHttpRequest}function Le(){this.$get=["$browser","$window","$document",function(b,a,c){return wf(b,vf,b.defer,a.angular.callbacks,c[0])}]}function wf(b,a,c,d,e){function f(a,b,c){var f=e.createElement("script"),n=null;f.type="text/javascript";f.src=a;f.async=!0;n=function(a){f.removeEventListener("load",n,!1);f.removeEventListener("error",n,!1);e.body.removeChild(f);
f=null;var g=-1,u="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),u=a.type,g="error"===a.type?404:200);c&&c(g,u)};f.addEventListener("load",n,!1);f.addEventListener("error",n,!1);e.body.appendChild(f);return n}return function(e,h,l,k,n,p,q,u){function s(){m&&m();F&&F.abort()}function M(a,d,e,f,g){L!==t&&c.cancel(L);m=F=null;a(d,e,f,g);b.$$completeOutstandingRequest(E)}b.$$incOutstandingRequestCount();h=h||b.url();if("jsonp"==z(e)){var v="_"+(d.counter++).toString(36);d[v]=function(a){d[v].data=
a;d[v].called=!0};var m=f(h.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(a,b){M(k,a,d[v].data,"",b);d[v]=E})}else{var F=a();F.open(e,h,!0);r(n,function(a,b){y(a)&&F.setRequestHeader(b,a)});F.onload=function(){var a=F.statusText||"",b="response"in F?F.response:F.responseText,c=1223===F.status?204:F.status;0===c&&(c=b?200:"file"==Aa(h).protocol?404:0);M(k,c,b,F.getAllResponseHeaders(),a)};e=function(){M(k,-1,null,null,"")};F.onerror=e;F.onabort=e;q&&(F.withCredentials=!0);if(u)try{F.responseType=
u}catch(Z){if("json"!==u)throw Z;}F.send(l||null)}if(0<p)var L=c(s,p);else p&&G(p.then)&&p.then(s)}}function Ie(){var b="{{",a="}}";this.startSymbol=function(a){return a?(b=a,this):b};this.endSymbol=function(b){return b?(a=b,this):a};this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(f,g,u,s){function M(c){return c.replace(k,b).replace(n,a)}function v(a){try{var b=a;a=u?e.getTrusted(u,b):e.valueOf(b);var c;if(s&&!y(a))c=a;else if(null==a)c="";
else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=$a(a)}c=a}return c}catch(g){c=ac("interr",f,g.toString()),d(c)}}s=!!s;for(var m,F,r=0,L=[],B=[],I=f.length,D=[],S=[];r<I;)if(-1!=(m=f.indexOf(b,r))&&-1!=(F=f.indexOf(a,m+h)))r!==m&&D.push(M(f.substring(r,m))),r=f.substring(m+h,F),L.push(r),B.push(c(r,v)),r=F+l,S.push(D.length),D.push("");else{r!==I&&D.push(M(f.substring(r)));break}if(u&&1<D.length)throw ac("noconcat",f);if(!g||L.length){var P=function(a){for(var b=0,c=
L.length;b<c;b++){if(s&&x(a[b]))return;D[S[b]]=a[b]}return D.join("")};return w(function(a){var b=0,c=L.length,e=Array(c);try{for(;b<c;b++)e[b]=B[b](a);return P(e)}catch(g){a=ac("interr",f,g.toString()),d(a)}},{exp:f,expressions:L,$$watchDelegate:function(a,b,c){var d;return a.$watchGroup(B,function(c,e){var f=P(c);G(b)&&b.call(this,f,c!==e?d:f,a);d=f},c)}})}}var h=b.length,l=a.length,k=new RegExp(b.replace(/./g,f),"g"),n=new RegExp(a.replace(/./g,f),"g");g.startSymbol=function(){return b};g.endSymbol=
function(){return a};return g}]}function Je(){this.$get=["$rootScope","$window","$q","$$q",function(b,a,c,d){function e(e,h,l,k){var n=a.setInterval,p=a.clearInterval,q=0,u=y(k)&&!k,s=(u?d:c).defer(),M=s.promise;l=y(l)?l:0;M.then(null,null,e);M.$$intervalId=n(function(){s.notify(q++);0<l&&q>=l&&(s.resolve(q),p(M.$$intervalId),delete f[M.$$intervalId]);u||b.$apply()},h);f[M.$$intervalId]=s;return M}var f={};e.cancel=function(b){return b&&b.$$intervalId in f?(f[b.$$intervalId].reject("canceled"),a.clearInterval(b.$$intervalId),
delete f[b.$$intervalId],!0):!1};return e}]}function Rd(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"\u00a4",posSuf:"",negPre:"(\u00a4",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(b){return 1===b?"one":"other"}}}}function bc(b){b=b.split("/");for(var a=b.length;a--;)b[a]=qb(b[a]);
return b.join("/")}function ad(b,a){var c=Aa(b);a.$$protocol=c.protocol;a.$$host=c.hostname;a.$$port=aa(c.port)||xf[c.protocol]||null}function bd(b,a){var c="/"!==b.charAt(0);c&&(b="/"+b);var d=Aa(b);a.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname);a.$$search=sc(d.search);a.$$hash=decodeURIComponent(d.hash);a.$$path&&"/"!=a.$$path.charAt(0)&&(a.$$path="/"+a.$$path)}function ya(b,a){if(0===a.indexOf(b))return a.substr(b.length)}function Ga(b){var a=b.indexOf("#");
return-1==a?b:b.substr(0,a)}function Fb(b){return b.replace(/(#.+)|#$/,"$1")}function cc(b){return b.substr(0,Ga(b).lastIndexOf("/")+1)}function dc(b,a){this.$$html5=!0;a=a||"";var c=cc(b);ad(b,this);this.$$parse=function(a){var b=ya(c,a);if(!C(b))throw Gb("ipthprfx",a,c);bd(b,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Pb(this.$$search),b=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(a?"?"+a:"")+b;this.$$absUrl=c+this.$$url.substr(1)};this.$$parseLinkUrl=
function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;(f=ya(b,d))!==t?(g=f,g=(f=ya(a,f))!==t?c+(ya("/",f)||f):b+g):(f=ya(c,d))!==t?g=c+f:c==d+"/"&&(g=c);g&&this.$$parse(g);return!!g}}function ec(b,a){var c=cc(b);ad(b,this);this.$$parse=function(d){d=ya(b,d)||ya(c,d);var e;"#"===d.charAt(0)?(e=ya(a,d),x(e)&&(e=d)):e=this.$$html5?d:"";bd(e,this);d=this.$$path;var f=/^\/[A-Z]:(\/.*)/;0===e.indexOf(b)&&(e=e.replace(b,""));f.exec(e)||(d=(e=f.exec(d))?e[1]:d);this.$$path=d;this.$$compose()};
this.$$compose=function(){var c=Pb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+(this.$$url?a+this.$$url:"")};this.$$parseLinkUrl=function(a,c){return Ga(b)==Ga(a)?(this.$$parse(a),!0):!1}}function cd(b,a){this.$$html5=!0;ec.apply(this,arguments);var c=cc(b);this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;b==Ga(d)?f=d:(g=ya(c,d))?f=b+a+g:c===d+"/"&&(f=c);f&&this.$$parse(f);return!!f};this.$$compose=
function(){var c=Pb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=bc(this.$$path)+(c?"?"+c:"")+e;this.$$absUrl=b+a+this.$$url}}function Hb(b){return function(){return this[b]}}function dd(b,a){return function(c){if(x(c))return this[b];this[b]=a(c);this.$$compose();return this}}function Me(){var b="",a={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(a){return y(a)?(b=a,this):b};this.html5Mode=function(b){return Wa(b)?(a.enabled=b,this):J(b)?(Wa(b.enabled)&&(a.enabled=
b.enabled),Wa(b.requireBase)&&(a.requireBase=b.requireBase),Wa(b.rewriteLinks)&&(a.rewriteLinks=b.rewriteLinks),this):a};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=k.url(),f=k.$$state;try{d.url(a,b,c),k.$$state=d.state()}catch(g){throw k.url(e),k.$$state=f,g;}}function l(a,b){c.$broadcast("$locationChangeSuccess",k.absUrl(),a,k.$$state,b)}var k,n;n=d.baseHref();var p=d.url(),q;if(a.enabled){if(!n&&a.requireBase)throw Gb("nobase");
q=p.substring(0,p.indexOf("/",p.indexOf("//")+2))+(n||"/");n=e.history?dc:cd}else q=Ga(p),n=ec;k=new n(q,"#"+b);k.$$parseLinkUrl(p,p);k.$$state=d.state();var u=/^\s*(javascript|mailto):/i;f.on("click",function(b){if(a.rewriteLinks&&!b.ctrlKey&&!b.metaKey&&!b.shiftKey&&2!=b.which&&2!=b.button){for(var e=A(b.target);"a"!==va(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),l=e.attr("href")||e.attr("xlink:href");J(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Aa(h.animVal).href);
u.test(h)||!h||e.attr("target")||b.isDefaultPrevented()||!k.$$parseLinkUrl(h,l)||(b.preventDefault(),k.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});Fb(k.absUrl())!=Fb(p)&&d.url(k.absUrl(),!0);var s=!0;d.onUrlChange(function(a,b){c.$evalAsync(function(){var d=k.absUrl(),e=k.$$state,f;k.$$parse(a);k.$$state=b;f=c.$broadcast("$locationChangeStart",a,d,b,e).defaultPrevented;k.absUrl()===a&&(f?(k.$$parse(d),k.$$state=e,h(d,!1,e)):(s=!1,l(d,e)))});c.$$phase||c.$digest()});
c.$watch(function(){var a=Fb(d.url()),b=Fb(k.absUrl()),f=d.state(),g=k.$$replace,q=a!==b||k.$$html5&&e.history&&f!==k.$$state;if(s||q)s=!1,c.$evalAsync(function(){var b=k.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,k.$$state,f).defaultPrevented;k.absUrl()===b&&(d?(k.$$parse(a),k.$$state=f):(q&&h(b,g,f===k.$$state?null:k.$$state),l(a,f)))});k.$$replace=!1});return k}]}function Ne(){var b=!0,a=this;this.debugEnabled=function(a){return y(a)?(b=a,this):b};this.$get=["$window",function(c){function d(a){a instanceof
Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=c.console||{},e=b[a]||b.log||E;a=!1;try{a=!!e.apply}catch(l){}return a?function(){var a=[];r(arguments,function(b){a.push(d(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){b&&c.apply(a,
arguments)}}()}}]}function ua(b,a){if("__defineGetter__"===b||"__defineSetter__"===b||"__lookupGetter__"===b||"__lookupSetter__"===b||"__proto__"===b)throw na("isecfld",a);return b}function oa(b,a){if(b){if(b.constructor===b)throw na("isecfn",a);if(b.window===b)throw na("isecwindow",a);if(b.children&&(b.nodeName||b.prop&&b.attr&&b.find))throw na("isecdom",a);if(b===Object)throw na("isecobj",a);}return b}function fc(b){return b.constant}function hb(b,a,c,d,e){oa(b,e);oa(a,e);c=c.split(".");for(var f,
g=0;1<c.length;g++){f=ua(c.shift(),e);var h=0===g&&a&&a[f]||b[f];h||(h={},b[f]=h);b=oa(h,e)}f=ua(c.shift(),e);oa(b[f],e);return b[f]=d}function Pa(b){return"constructor"==b}function ed(b,a,c,d,e,f,g){ua(b,f);ua(a,f);ua(c,f);ua(d,f);ua(e,f);var h=function(a){return oa(a,f)},l=g||Pa(b)?h:ra,k=g||Pa(a)?h:ra,n=g||Pa(c)?h:ra,p=g||Pa(d)?h:ra,q=g||Pa(e)?h:ra;return function(f,g){var h=g&&g.hasOwnProperty(b)?g:f;if(null==h)return h;h=l(h[b]);if(!a)return h;if(null==h)return t;h=k(h[a]);if(!c)return h;if(null==
h)return t;h=n(h[c]);if(!d)return h;if(null==h)return t;h=p(h[d]);return e?null==h?t:h=q(h[e]):h}}function yf(b,a){return function(c,d){return b(c,d,oa,a)}}function zf(b,a,c){var d=a.expensiveChecks,e=d?Af:Bf,f=e[b];if(f)return f;var g=b.split("."),h=g.length;if(a.csp)f=6>h?ed(g[0],g[1],g[2],g[3],g[4],c,d):function(a,b){var e=0,f;do f=ed(g[e++],g[e++],g[e++],g[e++],g[e++],c,d)(a,b),b=t,a=f;while(e<h);return f};else{var l="";d&&(l+="s = eso(s, fe);\nl = eso(l, fe);\n");var k=d;r(g,function(a,b){ua(a,
c);var e=(b?"s":'((l&&l.hasOwnProperty("'+a+'"))?l:s)')+"."+a;if(d||Pa(a))e="eso("+e+", fe)",k=!0;l+="if(s == null) return undefined;\ns="+e+";\n"});l+="return s;";a=new Function("s","l","eso","fe",l);a.toString=ea(l);k&&(a=yf(a,c));f=a}f.sharedGetter=!0;f.assign=function(a,c,d){return hb(a,d,b,c,b)};return e[b]=f}function gc(b){return G(b.valueOf)?b.valueOf():Cf.call(b)}function Oe(){var b=ia(),a=ia();this.$get=["$filter","$sniffer",function(c,d){function e(a){var b=a;a.sharedGetter&&(b=function(b,
c){return a(b,c)},b.literal=a.literal,b.constant=a.constant,b.assign=a.assign);return b}function f(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];e.constant||(e.inputs?f(e.inputs,b):-1===b.indexOf(e)&&b.push(e))}return b}function g(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=gc(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function h(a,b,c,d){var e=d.$$inputs||(d.$$inputs=f(d.inputs,[])),h;if(1===e.length){var k=g,e=e[0];return a.$watch(function(a){var b=e(a);g(b,k)||(h=d(a),k=b&&
gc(b));return h},b,c)}for(var l=[],q=0,p=e.length;q<p;q++)l[q]=g;return a.$watch(function(a){for(var b=!1,c=0,f=e.length;c<f;c++){var k=e[c](a);if(b||(b=!g(k,l[c])))l[c]=k&&gc(k)}b&&(h=d(a));return h},b,c)}function l(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;G(b)&&b.apply(this,arguments);y(a)&&d.$$postDigest(function(){y(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;r(a,function(a){y(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},
function(a,c,d){g=a;G(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function n(a,b,c,d){var e;return e=a.$watch(function(a){return d(a)},function(a,c,d){G(b)&&b.apply(this,arguments);e()},c)}function p(a,b){if(!b)return a;var c=a.$$watchDelegate,c=c!==k&&c!==l?function(c,d){var e=a(c,d);return b(e,c,d)}:function(c,d){var e=a(c,d),f=b(e,c,d);return y(e)?f:e};a.$$watchDelegate&&a.$$watchDelegate!==h?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=h,c.inputs=
[a]);return c}var q={csp:d.csp,expensiveChecks:!1},u={csp:d.csp,expensiveChecks:!0};return function(d,f,g){var m,r,t;switch(typeof d){case "string":t=d=d.trim();var L=g?a:b;m=L[t];m||(":"===d.charAt(0)&&":"===d.charAt(1)&&(r=!0,d=d.substring(2)),g=g?u:q,m=new hc(g),m=(new ib(m,c,g)).parse(d),m.constant?m.$$watchDelegate=n:r?(m=e(m),m.$$watchDelegate=m.literal?k:l):m.inputs&&(m.$$watchDelegate=h),L[t]=m);return p(m,f);case "function":return p(d,f);default:return p(E,f)}}}]}function Qe(){this.$get=
["$rootScope","$exceptionHandler",function(b,a){return fd(function(a){b.$evalAsync(a)},a)}]}function Re(){this.$get=["$browser","$exceptionHandler",function(b,a){return fd(function(a){b.defer(a)},a)}]}function fd(b,a){function c(a,b,c){function d(b){return function(c){e||(e=!0,b.call(a,c))}}var e=!1;return[d(b),d(c)]}function d(){this.$$state={status:0}}function e(a,b){return function(c){b.call(a,c)}}function f(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,b(function(){var b,d,e;e=c.pending;
c.processScheduled=!1;c.pending=t;for(var f=0,g=e.length;f<g;++f){d=e[f][0];b=e[f][c.status];try{G(b)?d.resolve(b(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),a(h)}}}))}function g(){this.promise=new d;this.resolve=e(this,this.resolve);this.reject=e(this,this.reject);this.notify=e(this,this.notify)}var h=R("$q",TypeError);d.prototype={then:function(a,b,c){var d=new g;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&
f(this.$$state);return d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return k(b,!0,a)},function(b){return k(b,!1,a)},b)}};g.prototype={resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(h("qcycle",a)):this.$$resolve(a))},$$resolve:function(b){var d,e;e=c(this,this.$$resolve,this.$$reject);try{if(J(b)||G(b))d=b&&b.then;G(d)?(this.promise.$$state.status=-1,d.call(b,e[0],e[1],this.notify)):(this.promise.$$state.value=
b,this.promise.$$state.status=1,f(this.promise.$$state))}catch(g){e[1](g),a(g)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;f(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&b(function(){for(var b,e,f=0,g=d.length;f<g;f++){e=d[f][0];b=d[f][3];try{e.notify(G(b)?b(c):c)}catch(h){a(h)}}})}};var l=function(a,b){var c=new g;b?c.resolve(a):
c.reject(a);return c.promise},k=function(a,b,c){var d=null;try{G(c)&&(d=c())}catch(e){return l(e,!1)}return d&&G(d.then)?d.then(function(){return l(a,b)},function(a){return l(a,!1)}):l(a,b)},n=function(a,b,c,d){var e=new g;e.resolve(a);return e.promise.then(b,c,d)},p=function u(a){if(!G(a))throw h("norslvr",a);if(!(this instanceof u))return new u(a);var b=new g;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};p.defer=function(){return new g};p.reject=function(a){var b=new g;
b.reject(a);return b.promise};p.when=n;p.all=function(a){var b=new g,c=0,d=H(a)?[]:{};r(a,function(a,e){c++;n(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};return p}function $e(){this.$get=["$window","$timeout",function(b,a){var c=b.requestAnimationFrame||b.webkitRequestAnimationFrame,d=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=
c(a);return function(){d(b)}}:function(b){var c=a(b,16.66,!1);return function(){a.cancel(c)}};f.supported=e;return f}]}function Pe(){function b(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++ob;this.$$ChildScope=null}b.prototype=a;return b}var a=10,c=R("$rootScope"),d=null,e=null;this.digestTtl=function(b){arguments.length&&(a=b);return a};this.$get=["$injector","$exceptionHandler",
"$parse","$browser",function(f,g,h,l){function k(a){a.currentScope.$$destroyed=!0}function n(){this.$id=++ob;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$isolateBindings=null}function p(a){if(v.$$phase)throw c("inprog",v.$$phase);v.$$phase=a}function q(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];
while(a=a.$parent)}function u(){}function s(){for(;t.length;)try{t.shift()()}catch(a){g(a)}e=null}function M(){null===e&&(e=l.defer(function(){v.$apply(s)}))}n.prototype={constructor:n,$new:function(a,c){var d;c=c||this;a?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=b(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(a||c!=this)&&d.$on("$destroy",k);return d},
$watch:function(a,b,c){var e=h(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e);var f=this.$$watchers,g={fn:b,last:u,get:e,exp:a,eq:!!c};d=null;G(b)||(g.fn=E);f||(f=this.$$watchers=[]);f.unshift(g);return function(){Xa(f,g);d=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],
function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!x(e)){if(J(e))if(Sa(e))for(f!==p&&(f=p,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==n&&(f=n={},u=0,l++);a=0;for(b in e)e.hasOwnProperty(b)&&(a++,g=e[b],h=
f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)e.hasOwnProperty(b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,g,k=1<b.length,l=0,q=h(a,c),p=[],n={},m=!0,u=0;return this.$watch(q,function(){m?(m=!1,b(e,e,d)):b(e,g,d);if(k)if(J(e))if(Sa(e)){g=Array(e.length);for(var a=0;a<e.length;a++)g[a]=e[a]}else for(a in g={},e)tc.call(e,a)&&(g[a]=e[a]);else g=e})},$digest:function(){var b,f,h,k,q,n,r=a,t,O=[],M,y;p("$digest");l.$$checkUrlChange();
this===v&&null!==e&&(l.defer.cancel(e),s());d=null;do{n=!1;for(t=this;m.length;){try{y=m.shift(),y.scope.$eval(y.expression,y.locals)}catch(w){g(w)}d=null}a:do{if(k=t.$$watchers)for(q=k.length;q--;)try{if(b=k[q])if((f=b.get(t))!==(h=b.last)&&!(b.eq?ha(f,h):"number"===typeof f&&"number"===typeof h&&isNaN(f)&&isNaN(h)))n=!0,d=b,b.last=b.eq?Da(f,null):f,b.fn(f,h===u?f:h,t),5>r&&(M=4-r,O[M]||(O[M]=[]),O[M].push({msg:G(b.exp)?"fn: "+(b.exp.name||b.exp.toString()):b.exp,newVal:f,oldVal:h}));else if(b===
d){n=!1;break a}}catch(A){g(A)}if(!(k=t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(k=t.$$nextSibling);)t=t.$parent}while(t=k);if((n||m.length)&&!r--)throw v.$$phase=null,c("infdig",a,O);}while(n||m.length);for(v.$$phase=null;F.length;)try{F.shift()()}catch(x){g(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;if(this!==v){for(var b in this.$$listenerCount)q(this,this.$$listenerCount[b],b);a.$$childHead==this&&(a.$$childHead=
this.$$nextSibling);a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=E;this.$on=this.$watch=this.$watchGroup=function(){return E};this.$$listeners={};this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(a,
b){return h(a)(this,b)},$evalAsync:function(a,b){v.$$phase||m.length||l.defer(function(){m.length&&v.$digest()});m.push({scope:this,expression:a,locals:b})},$$postDigest:function(a){F.push(a)},$apply:function(a){try{return p("$apply"),this.$eval(a)}catch(b){g(b)}finally{v.$$phase=null;try{v.$digest()}catch(c){throw g(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&t.push(b);M()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||
(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,q(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,f=!1,h={name:a,targetScope:e,stopPropagation:function(){f=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=Ya([h],arguments,1),l,q;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(q=d.length;l<q;l++)if(d[l])try{d[l].apply(null,k)}catch(p){g(p)}else d.splice(l,1),l--,q--;if(f)return h.currentScope=
null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var f=Ya([e],arguments,1),h,l;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(l=d.length;h<l;h++)if(d[h])try{d[h].apply(null,f)}catch(k){g(k)}else d.splice(h,1),h--,l--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=
c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var v=new n,m=v.$$asyncQueue=[],F=v.$$postDigestQueue=[],t=v.$$applyAsyncQueue=[];return v}]}function Sd(){var b=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(a){return y(a)?(b=a,this):b};this.imgSrcSanitizationWhitelist=function(b){return y(b)?(a=b,this):a};this.$get=function(){return function(c,d){var e=d?a:b,f;f=Aa(c).href;return""===f||f.match(e)?c:"unsafe:"+
f}}}function Df(b){if("self"===b)return b;if(C(b)){if(-1<b.indexOf("***"))throw Ba("iwcard",b);b=gd(b).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+b+"$")}if(Ua(b))return new RegExp("^"+b.source+"$");throw Ba("imatcher");}function hd(b){var a=[];y(b)&&r(b,function(b){a.push(Df(b))});return a}function Te(){this.SCE_CONTEXTS=pa;var b=["self"],a=[];this.resourceUrlWhitelist=function(a){arguments.length&&(b=hd(a));return b};this.resourceUrlBlacklist=function(b){arguments.length&&
(a=hd(b));return a};this.$get=["$injector",function(c){function d(a,b){return"self"===a?$c(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw Ba("unsafe");};c.has("$sanitize")&&(f=c.get("$sanitize"));var g=e(),h={};h[pa.HTML]=e(g);h[pa.CSS]=e(g);h[pa.URL]=
e(g);h[pa.JS]=e(g);h[pa.RESOURCE_URL]=e(h[pa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Ba("icontext",a,b);if(null===b||b===t||""===b)return b;if("string"!==typeof b)throw Ba("itype",a);return new c(b)},getTrusted:function(c,e){if(null===e||e===t||""===e)return e;var g=h.hasOwnProperty(c)?h[c]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(c===pa.RESOURCE_URL){var g=Aa(e.toString()),p,q,u=!1;p=0;for(q=b.length;p<q;p++)if(d(b[p],g)){u=!0;break}if(u)for(p=
0,q=a.length;p<q;p++)if(d(a[p],g)){u=!1;break}if(u)return e;throw Ba("insecurl",e.toString());}if(c===pa.HTML)return f(e);throw Ba("unsafe");},valueOf:function(a){return a instanceof g?a.$$unwrapTrustedValue():a}}}]}function Se(){var b=!0;this.enabled=function(a){arguments.length&&(b=!!a);return b};this.$get=["$parse","$sceDelegate",function(a,c){if(b&&8>Qa)throw Ba("iequirks");var d=sa(pa);d.isEnabled=function(){return b};d.trustAs=c.trustAs;d.getTrusted=c.getTrusted;d.valueOf=c.valueOf;b||(d.trustAs=
d.getTrusted=function(a,b){return b},d.valueOf=ra);d.parseAs=function(b,c){var e=a(c);return e.literal&&e.constant?e:a(c,function(a){return d.getTrusted(b,a)})};var e=d.parseAs,f=d.getTrusted,g=d.trustAs;r(pa,function(a,b){var c=z(b);d[db("parse_as_"+c)]=function(b){return e(a,b)};d[db("get_trusted_"+c)]=function(b){return f(a,b)};d[db("trust_as_"+c)]=function(b){return g(a,b)}});return d}]}function Ue(){this.$get=["$window","$document",function(b,a){var c={},d=aa((/android (\d+)/.exec(z((b.navigator||
{}).userAgent))||[])[1]),e=/Boxee/i.test((b.navigator||{}).userAgent),f=a[0]||{},g,h=/^(Moz|webkit|ms)(?=[A-Z])/,l=f.body&&f.body.style,k=!1,n=!1;if(l){for(var p in l)if(k=h.exec(p)){g=k[0];g=g.substr(0,1).toUpperCase()+g.substr(1);break}g||(g="WebkitOpacity"in l&&"webkit");k=!!("transition"in l||g+"Transition"in l);n=!!("animation"in l||g+"Animation"in l);!d||k&&n||(k=C(f.body.style.webkitTransition),n=C(f.body.style.webkitAnimation))}return{history:!(!b.history||!b.history.pushState||4>d||e),hasEvent:function(a){if("input"===
a&&11>=Qa)return!1;if(x(c[a])){var b=f.createElement("div");c[a]="on"+a in b}return c[a]},csp:bb(),vendorPrefix:g,transitions:k,animations:n,android:d}}]}function We(){this.$get=["$templateCache","$http","$q",function(b,a,c){function d(e,f){d.totalPendingRequests++;var g=a.defaults&&a.defaults.transformResponse;H(g)?g=g.filter(function(a){return a!==Zb}):g===Zb&&(g=null);return a.get(e,{cache:b,transformResponse:g})["finally"](function(){d.totalPendingRequests--}).then(function(a){return a.data},
function(a){if(!f)throw la("tpload",e);return c.reject(a)})}d.totalPendingRequests=0;return d}]}function Xe(){this.$get=["$rootScope","$browser","$location",function(b,a,c){return{findBindings:function(a,b,c){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var d=ca.element(a).data("$binding");d&&r(d,function(d){c?(new RegExp("(^|\\s)"+gd(b)+"(\\s|\\||$)")).test(d)&&g.push(a):-1!=d.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,c){for(var g=["ng-","data-ng-","ng\\:"],
h=0;h<g.length;++h){var l=a.querySelectorAll("["+g[h]+"model"+(c?"=":"*=")+'"'+b+'"]');if(l.length)return l}},getLocation:function(){return c.url()},setLocation:function(a){a!==c.url()&&(c.url(a),b.$digest())},whenStable:function(b){a.notifyWhenNoOutstandingRequests(b)}}}]}function Ye(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(b,a,c,d,e){function f(f,l,k){var n=y(k)&&!k,p=(n?d:c).defer(),q=p.promise;l=a.defer(function(){try{p.resolve(f())}catch(a){p.reject(a),e(a)}finally{delete g[q.$$timeoutId]}n||
b.$apply()},l);q.$$timeoutId=l;g[l]=p;return q}var g={};f.cancel=function(b){return b&&b.$$timeoutId in g?(g[b.$$timeoutId].reject("canceled"),delete g[b.$$timeoutId],a.defer.cancel(b.$$timeoutId)):!1};return f}]}function Aa(b){Qa&&($.setAttribute("href",b),b=$.href);$.setAttribute("href",b);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:"/"===
$.pathname.charAt(0)?$.pathname:"/"+$.pathname}}function $c(b){b=C(b)?Aa(b):b;return b.protocol===id.protocol&&b.host===id.host}function Ze(){this.$get=ea(Q)}function Fc(b){function a(c,d){if(J(c)){var e={};r(c,function(b,c){e[c]=a(c,b)});return e}return b.factory(c+"Filter",d)}this.register=a;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];a("currency",jd);a("date",kd);a("filter",Ef);a("json",Ff);a("limitTo",Gf);a("lowercase",Hf);a("number",ld);a("orderBy",md);a("uppercase",
If)}function Ef(){return function(b,a,c){if(!H(b))return b;var d;switch(typeof a){case "function":break;case "boolean":case "number":case "string":d=!0;case "object":a=Jf(a,c,d);break;default:return b}return b.filter(a)}}function Jf(b,a,c){var d=J(b)&&"$"in b;!0===a?a=ha:G(a)||(a=function(a,b){if(J(a)||J(b))return!1;a=z(""+a);b=z(""+b);return-1!==a.indexOf(b)});return function(e){return d&&!J(e)?Ha(e,b.$,a,!1):Ha(e,b,a,c)}}function Ha(b,a,c,d,e){var f=null!==b?typeof b:"null",g=null!==a?typeof a:
"null";if("string"===g&&"!"===a.charAt(0))return!Ha(b,a.substring(1),c,d);if(H(b))return b.some(function(b){return Ha(b,a,c,d)});switch(f){case "object":var h;if(d){for(h in b)if("$"!==h.charAt(0)&&Ha(b[h],a,c,!0))return!0;return e?!1:Ha(b,a,c,!1)}if("object"===g){for(h in a)if(e=a[h],!G(e)&&!x(e)&&(f="$"===h,!Ha(f?b:b[h],e,c,f,f)))return!1;return!0}return c(b,a);case "function":return!1;default:return c(b,a)}}function jd(b){var a=b.NUMBER_FORMATS;return function(b,d,e){x(d)&&(d=a.CURRENCY_SYM);x(e)&&
(e=a.PATTERNS[1].maxFrac);return null==b?b:nd(b,a.PATTERNS[1],a.GROUP_SEP,a.DECIMAL_SEP,e).replace(/\u00A4/g,d)}}function ld(b){var a=b.NUMBER_FORMATS;return function(b,d){return null==b?b:nd(b,a.PATTERNS[0],a.GROUP_SEP,a.DECIMAL_SEP,d)}}function nd(b,a,c,d,e){if(!isFinite(b)||J(b))return"";var f=0>b;b=Math.abs(b);var g=b+"",h="",l=[],k=!1;if(-1!==g.indexOf("e")){var n=g.match(/([\d\.]+)e(-?)(\d+)/);n&&"-"==n[2]&&n[3]>e+1?b=0:(h=g,k=!0)}if(k)0<e&&1>b&&(h=b.toFixed(e),b=parseFloat(h));else{g=(g.split(od)[1]||
"").length;x(e)&&(e=Math.min(Math.max(a.minFrac,g),a.maxFrac));b=+(Math.round(+(b.toString()+"e"+e)).toString()+"e"+-e);var g=(""+b).split(od),k=g[0],g=g[1]||"",p=0,q=a.lgSize,u=a.gSize;if(k.length>=q+u)for(p=k.length-q,n=0;n<p;n++)0===(p-n)%u&&0!==n&&(h+=c),h+=k.charAt(n);for(n=p;n<k.length;n++)0===(k.length-n)%q&&0!==n&&(h+=c),h+=k.charAt(n);for(;g.length<e;)g+="0";e&&"0"!==e&&(h+=d+g.substr(0,e))}0===b&&(f=!1);l.push(f?a.negPre:a.posPre,h,f?a.negSuf:a.posSuf);return l.join("")}function Ib(b,a,
c){var d="";0>b&&(d="-",b=-b);for(b=""+b;b.length<a;)b="0"+b;c&&(b=b.substr(b.length-a));return d+b}function U(b,a,c,d){c=c||0;return function(e){e=e["get"+b]();if(0<c||e>-c)e+=c;0===e&&-12==c&&(e=12);return Ib(e,a,d)}}function Jb(b,a){return function(c,d){var e=c["get"+b](),f=ub(a?"SHORT"+b:b);return d[f][e]}}function pd(b){var a=(new Date(b,0,1)).getDay();return new Date(b,0,(4>=a?5:12)-a)}function qd(b){return function(a){var c=pd(a.getFullYear());a=+new Date(a.getFullYear(),a.getMonth(),a.getDate()+
(4-a.getDay()))-+c;a=1+Math.round(a/6048E5);return Ib(a,b)}}function ic(b,a){return 0>=b.getFullYear()?a.ERAS[0]:a.ERAS[1]}function kd(b){function a(a){var b;if(b=a.match(c)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,l=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=aa(b[9]+b[10]),g=aa(b[9]+b[11]));h.call(a,aa(b[1]),aa(b[2])-1,aa(b[3]));f=aa(b[4]||0)-f;g=aa(b[5]||0)-g;h=aa(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));l.call(a,f,g,h,b)}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
return function(c,e,f){var g="",h=[],l,k;e=e||"mediumDate";e=b.DATETIME_FORMATS[e]||e;C(c)&&(c=Kf.test(c)?aa(c):a(c));Y(c)&&(c=new Date(c));if(!ga(c))return c;for(;e;)(k=Lf.exec(e))?(h=Ya(h,k,1),e=h.pop()):(h.push(e),e=null);f&&"UTC"===f&&(c=new Date(c.getTime()),c.setMinutes(c.getMinutes()+c.getTimezoneOffset()));r(h,function(a){l=Mf[a];g+=l?l(c,b.DATETIME_FORMATS):a.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Ff(){return function(b,a){x(a)&&(a=2);return $a(b,a)}}function Gf(){return function(b,
a){Y(b)&&(b=b.toString());return H(b)||C(b)?(a=Infinity===Math.abs(Number(a))?Number(a):aa(a))?0<a?b.slice(0,a):b.slice(a):C(b)?"":[]:b}}function md(b){return function(a,c,d){function e(a,b){return b?function(b,c){return a(c,b)}:a}function f(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}function g(a){return null===a?"null":"function"===typeof a.valueOf&&(a=a.valueOf(),f(a))||"function"===typeof a.toString&&(a=a.toString(),f(a))?a:""}function h(a,b){var c=
typeof a,d=typeof b;c===d&&"object"===c&&(a=g(a),b=g(b));return c===d?("string"===c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:a<b?-1:1):c<d?-1:1}if(!Sa(a))return a;c=H(c)?c:[c];0===c.length&&(c=["+"]);c=c.map(function(a){var c=!1,d=a||ra;if(C(a)){if("+"==a.charAt(0)||"-"==a.charAt(0))c="-"==a.charAt(0),a=a.substring(1);if(""===a)return e(h,c);d=b(a);if(d.constant){var f=d();return e(function(a,b){return h(a[f],b[f])},c)}}return e(function(a,b){return h(d(a),d(b))},c)});return Za.call(a).sort(e(function(a,
b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0},d))}}function Ia(b){G(b)&&(b={link:b});b.restrict=b.restrict||"AC";return ea(b)}function rd(b,a,c,d,e){var f=this,g=[],h=f.$$parentForm=b.parent().controller("form")||Kb;f.$error={};f.$$success={};f.$pending=t;f.$name=e(a.name||a.ngForm||"")(c);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;h.$addControl(f);f.$rollbackViewValue=function(){r(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){r(g,
function(a){a.$commitViewValue()})};f.$addControl=function(a){La(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a)};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];r(f.$pending,function(b,c){f.$setValidity(c,null,a)});r(f.$error,function(b,c){f.$setValidity(c,null,a)});r(f.$$success,function(b,c){f.$setValidity(c,null,a)});Xa(g,a)};sd({ctrl:this,$element:b,set:function(a,b,c){var d=a[b];
d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Xa(d,c),0===d.length&&delete a[b])},parentForm:h,$animate:d});f.$setDirty=function(){d.removeClass(b,Ra);d.addClass(b,Lb);f.$dirty=!0;f.$pristine=!1;h.$setDirty()};f.$setPristine=function(){d.setClass(b,Ra,Lb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;r(g,function(a){a.$setPristine()})};f.$setUntouched=function(){r(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){d.addClass(b,"ng-submitted");
f.$submitted=!0;h.$setSubmitted()}}function jc(b){b.$formatters.push(function(a){return b.$isEmpty(a)?a:a.toString()})}function jb(b,a,c,d,e,f){var g=z(a[0].type);if(!e.android){var h=!1;a.on("compositionstart",function(a){h=!0});a.on("compositionend",function(){h=!1;l()})}var l=function(b){k&&(f.defer.cancel(k),k=null);if(!h){var e=a.val();b=b&&b.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=N(e));(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,b)}};if(e.hasEvent("input"))a.on("input",
l);else{var k,n=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};a.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||n(a,this,this.value)});if(e.hasEvent("paste"))a.on("paste cut",n)}a.on("change",l);d.$render=function(){a.val(d.$isEmpty(d.$viewValue)?"":d.$viewValue)}}function Mb(b,a){return function(c,d){var e,f;if(ga(c))return c;if(C(c)){'"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1));if(Nf.test(c))return new Date(c);b.lastIndex=
0;if(e=b.exec(c))return e.shift(),f=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(b,c){c<a.length&&(f[a[c]]=+b)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function kb(b,a,c,d){return function(e,f,g,h,l,k,n){function p(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function q(a){return y(a)?ga(a)?a:c(a):t}td(e,f,g,h);
jb(e,f,g,h,l,k);var u=h&&h.$options&&h.$options.timezone,s;h.$$parserName=b;h.$parsers.push(function(b){return h.$isEmpty(b)?null:a.test(b)?(b=c(b,s),"UTC"===u&&b.setMinutes(b.getMinutes()-b.getTimezoneOffset()),b):t});h.$formatters.push(function(a){if(a&&!ga(a))throw Nb("datefmt",a);if(p(a)){if((s=a)&&"UTC"===u){var b=6E4*s.getTimezoneOffset();s=new Date(s.getTime()+b)}return n("date")(a,d,u)}s=null;return""});if(y(g.min)||g.ngMin){var r;h.$validators.min=function(a){return!p(a)||x(r)||c(a)>=r};
g.$observe("min",function(a){r=q(a);h.$validate()})}if(y(g.max)||g.ngMax){var v;h.$validators.max=function(a){return!p(a)||x(v)||c(a)<=v};g.$observe("max",function(a){v=q(a);h.$validate()})}}}function td(b,a,c,d){(d.$$hasNativeValidators=J(a[0].validity))&&d.$parsers.push(function(b){var c=a.prop("validity")||{};return c.badInput&&!c.typeMismatch?t:b})}function ud(b,a,c,d,e){if(y(d)){b=b(d);if(!b.constant)throw R("ngModel")("constexpr",c,d);return b(a)}return e}function kc(b,a){b="ngClass"+b;return["$animate",
function(c){function d(a,b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],n=0;n<b.length;n++)if(e==b[n])continue a;c.push(e)}return c}function e(a){if(!H(a)){if(C(a))return a.split(" ");if(J(a)){var b=[];r(a,function(a,c){a&&(b=b.concat(c.split(" ")))});return b}}return a}return{restrict:"AC",link:function(f,g,h){function l(a,b){var c=g.data("$classCounts")||{},d=[];r(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}function k(b){if(!0===
a||f.$index%2===a){var k=e(b||[]);if(!n){var u=l(k,1);h.$addClass(u)}else if(!ha(b,n)){var s=e(n),u=d(k,s),k=d(s,k),u=l(u,1),k=l(k,-1);u&&u.length&&c.addClass(g,u);k&&k.length&&c.removeClass(g,k)}}n=sa(b)}var n;f.$watch(h[b],k,!0);h.$observe("class",function(a){k(f.$eval(h[b]))});"ngClass"!==b&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var k=e(f.$eval(h[b]));g===a?(g=l(k,1),h.$addClass(g)):(g=l(k,-1),h.$removeClass(g))}})}}}]}function sd(b){function a(a,b){b&&!f[a]?(k.addClass(e,a),
f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function c(b,c){b=b?"-"+vc(b,"-"):"";a(lb+b,!0===c);a(vd+b,!1===c)}var d=b.ctrl,e=b.$element,f={},g=b.set,h=b.unset,l=b.parentForm,k=b.$animate;f[vd]=!(f[lb]=e.hasClass(lb));d.$setValidity=function(b,e,f){e===t?(d.$pending||(d.$pending={}),g(d.$pending,b,f)):(d.$pending&&h(d.$pending,b,f),wd(d.$pending)&&(d.$pending=t));Wa(e)?e?(h(d.$error,b,f),g(d.$$success,b,f)):(g(d.$error,b,f),h(d.$$success,b,f)):(h(d.$error,b,f),h(d.$$success,b,f));d.$pending?(a(xd,
!0),d.$valid=d.$invalid=t,c("",null)):(a(xd,!1),d.$valid=wd(d.$error),d.$invalid=!d.$valid,c("",d.$valid));e=d.$pending&&d.$pending[b]?t:d.$error[b]?!1:d.$$success[b]?!0:null;c(b,e);l.$setValidity(b,e,d)}}function wd(b){if(b)for(var a in b)return!1;return!0}var Of=/^\/(.+)\/([a-z]*)$/,z=function(b){return C(b)?b.toLowerCase():b},tc=Object.prototype.hasOwnProperty,ub=function(b){return C(b)?b.toUpperCase():b},Qa,A,ta,Za=[].slice,qf=[].splice,Pf=[].push,Ca=Object.prototype.toString,Ja=R("ng"),ca=Q.angular||
(Q.angular={}),cb,ob=0;Qa=W.documentMode;E.$inject=[];ra.$inject=[];var H=Array.isArray,N=function(b){return C(b)?b.trim():b},gd=function(b){return b.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},bb=function(){if(y(bb.isActive_))return bb.isActive_;var b=!(!W.querySelector("[ng-csp]")&&!W.querySelector("[data-ng-csp]"));if(!b)try{new Function("")}catch(a){b=!0}return bb.isActive_=b},rb=["ng-","data-ng-","ng:","x-ng-"],Md=/[A-Z]/g,wc=!1,Qb,qa=1,pb=3,Qd={full:"1.3.15",major:1,
minor:3,dot:15,codeName:"locality-filtration"};T.expando="ng339";var zb=T.cache={},hf=1;T._data=function(b){return this.cache[b[this.expando]]||{}};var cf=/([\:\-\_]+(.))/g,df=/^moz([A-Z])/,Qf={mouseleave:"mouseout",mouseenter:"mouseover"},Tb=R("jqLite"),gf=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Sb=/<|&#?\w+;/,ef=/<([\w:]+)/,ff=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>",
"</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var Ka=T.prototype={ready:function(b){function a(){c||(c=!0,b())}var c=!1;"complete"===W.readyState?setTimeout(a):(this.on("DOMContentLoaded",a),T(Q).on("load",a))},toString:function(){var b=[];r(this,function(a){b.push(""+a)});return"["+b.join(", ")+"]"},eq:function(b){return 0<=
b?A(this[b]):A(this[this.length+b])},length:0,push:Pf,sort:[].sort,splice:[].splice},Eb={};r("multiple selected checked disabled readOnly required open".split(" "),function(b){Eb[z(b)]=b});var Oc={};r("input select option textarea button form details".split(" "),function(b){Oc[b]=!0});var Pc={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};r({data:Vb,removeData:xb},function(b,a){T[a]=b});r({data:Vb,inheritedData:Db,scope:function(b){return A.data(b,"$scope")||
Db(b.parentNode||b,["$isolateScope","$scope"])},isolateScope:function(b){return A.data(b,"$isolateScope")||A.data(b,"$isolateScopeNoTemplate")},controller:Kc,injector:function(b){return Db(b,"$injector")},removeAttr:function(b,a){b.removeAttribute(a)},hasClass:Ab,css:function(b,a,c){a=db(a);if(y(c))b.style[a]=c;else return b.style[a]},attr:function(b,a,c){var d=z(a);if(Eb[d])if(y(c))c?(b[a]=!0,b.setAttribute(a,d)):(b[a]=!1,b.removeAttribute(d));else return b[a]||(b.attributes.getNamedItem(a)||E).specified?
d:t;else if(y(c))b.setAttribute(a,c);else if(b.getAttribute)return b=b.getAttribute(a,2),null===b?t:b},prop:function(b,a,c){if(y(c))b[a]=c;else return b[a]},text:function(){function b(a,b){if(x(b)){var d=a.nodeType;return d===qa||d===pb?a.textContent:""}a.textContent=b}b.$dv="";return b}(),val:function(b,a){if(x(a)){if(b.multiple&&"select"===va(b)){var c=[];r(b.options,function(a){a.selected&&c.push(a.value||a.text)});return 0===c.length?null:c}return b.value}b.value=a},html:function(b,a){if(x(a))return b.innerHTML;
wb(b,!0);b.innerHTML=a},empty:Lc},function(b,a){T.prototype[a]=function(a,d){var e,f,g=this.length;if(b!==Lc&&(2==b.length&&b!==Ab&&b!==Kc?a:d)===t){if(J(a)){for(e=0;e<g;e++)if(b===Vb)b(this[e],a);else for(f in a)b(this[e],f,a[f]);return this}e=b.$dv;g=e===t?Math.min(g,1):g;for(f=0;f<g;f++){var h=b(this[f],a,d);e=e?e+h:h}return e}for(e=0;e<g;e++)b(this[e],a,d);return this}});r({removeData:xb,on:function a(c,d,e,f){if(y(f))throw Tb("onargs");if(Gc(c)){var g=yb(c,!0);f=g.events;var h=g.handle;h||(h=
g.handle=lf(c,f));for(var g=0<=d.indexOf(" ")?d.split(" "):[d],l=g.length;l--;){d=g[l];var k=f[d];k||(f[d]=[],"mouseenter"===d||"mouseleave"===d?a(c,Qf[d],function(a){var c=a.relatedTarget;c&&(c===this||this.contains(c))||h(a,d)}):"$destroy"!==d&&c.addEventListener(d,h,!1),k=f[d]);k.push(e)}}},off:Jc,one:function(a,c,d){a=A(a);a.on(c,function f(){a.off(c,d);a.off(c,f)});a.on(c,d)},replaceWith:function(a,c){var d,e=a.parentNode;wb(a);r(new T(c),function(c){d?e.insertBefore(c,d.nextSibling):e.replaceChild(c,
a);d=c})},children:function(a){var c=[];r(a.childNodes,function(a){a.nodeType===qa&&c.push(a)});return c},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,c){var d=a.nodeType;if(d===qa||11===d){c=new T(c);for(var d=0,e=c.length;d<e;d++)a.appendChild(c[d])}},prepend:function(a,c){if(a.nodeType===qa){var d=a.firstChild;r(new T(c),function(c){a.insertBefore(c,d)})}},wrap:function(a,c){c=A(c).eq(0).clone()[0];var d=a.parentNode;d&&d.replaceChild(c,a);c.appendChild(a)},
remove:Mc,detach:function(a){Mc(a,!0)},after:function(a,c){var d=a,e=a.parentNode;c=new T(c);for(var f=0,g=c.length;f<g;f++){var h=c[f];e.insertBefore(h,d.nextSibling);d=h}},addClass:Cb,removeClass:Bb,toggleClass:function(a,c,d){c&&r(c.split(" "),function(c){var f=d;x(f)&&(f=!Ab(a,c));(f?Cb:Bb)(a,c)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,c){return a.getElementsByTagName?a.getElementsByTagName(c):[]},clone:Ub,
triggerHandler:function(a,c,d){var e,f,g=c.type||c,h=yb(a);if(h=(h=h&&h.events)&&h[g])e={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:E,type:g,target:a},c.type&&(e=w(e,c)),c=sa(h),f=d?[e].concat(d):[e],r(c,function(c){e.isImmediatePropagationStopped()||c.apply(a,
f)})}},function(a,c){T.prototype[c]=function(c,e,f){for(var g,h=0,l=this.length;h<l;h++)x(g)?(g=a(this[h],c,e,f),y(g)&&(g=A(g))):Ic(g,a(this[h],c,e,f));return y(g)?g:this};T.prototype.bind=T.prototype.on;T.prototype.unbind=T.prototype.off});eb.prototype={put:function(a,c){this[Ma(a,this.nextUid)]=c},get:function(a){return this[Ma(a,this.nextUid)]},remove:function(a){var c=this[a=Ma(a,this.nextUid)];delete this[a];return c}};var Rc=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Rf=/,/,Sf=/^\s*(_?)(\S+?)\1\s*$/,
Qc=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Fa=R("$injector");ab.$$annotate=function(a,c,d){var e;if("function"===typeof a){if(!(e=a.$inject)){e=[];if(a.length){if(c)throw C(d)&&d||(d=a.name||mf(a)),Fa("strictdi",d);c=a.toString().replace(Qc,"");c=c.match(Rc);r(c[1].split(Rf),function(a){a.replace(Sf,function(a,c,d){e.push(d)})})}a.$inject=e}}else H(a)?(c=a.length-1,sb(a[c],"fn"),e=a.slice(0,c)):sb(a,"fn",!0);return e};var Tf=R("$animate"),Ce=["$provide",function(a){this.$$selectors={};this.register=function(c,
d){var e=c+"-animation";if(c&&"."!=c.charAt(0))throw Tf("notcsel",c);this.$$selectors[c.substr(1)]=e;a.factory(e,d)};this.classNameFilter=function(a){1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null);return this.$$classNameFilter};this.$get=["$$q","$$asyncCallback","$rootScope",function(a,d,e){function f(d){var f,g=a.defer();g.promise.$$cancelFn=function(){f&&f()};e.$$postDigest(function(){f=d(function(){g.resolve()})});return g.promise}function g(a,c){var d=[],e=[],f=ia();
r((a.attr("class")||"").split(/\s+/),function(a){f[a]=!0});r(c,function(a,c){var g=f[c];!1===a&&g?e.push(c):!0!==a||g||d.push(c)});return 0<d.length+e.length&&[d.length?d:null,e.length?e:null]}function h(a,c,d){for(var e=0,f=c.length;e<f;++e)a[c[e]]=d}function l(){n||(n=a.defer(),d(function(){n.resolve();n=null}));return n.promise}function k(a,c){if(ca.isObject(c)){var d=w(c.from||{},c.to||{});a.css(d)}}var n;return{animate:function(a,c,d){k(a,{from:c,to:d});return l()},enter:function(a,c,d,e){k(a,
e);d?d.after(a):c.prepend(a);return l()},leave:function(a,c){k(a,c);a.remove();return l()},move:function(a,c,d,e){return this.enter(a,c,d,e)},addClass:function(a,c,d){return this.setClass(a,c,[],d)},$$addClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(" "):"";r(a,function(a){Cb(a,c)});k(a,d);return l()},removeClass:function(a,c,d){return this.setClass(a,[],c,d)},$$removeClassImmediately:function(a,c,d){a=A(a);c=C(c)?c:H(c)?c.join(" "):"";r(a,function(a){Bb(a,c)});k(a,d);return l()},setClass:function(a,
c,d,e){var k=this,l=!1;a=A(a);var m=a.data("$$animateClasses");m?e&&m.options&&(m.options=ca.extend(m.options||{},e)):(m={classes:{},options:e},l=!0);e=m.classes;c=H(c)?c:c.split(" ");d=H(d)?d:d.split(" ");h(e,c,!0);h(e,d,!1);l&&(m.promise=f(function(c){var d=a.data("$$animateClasses");a.removeData("$$animateClasses");if(d){var e=g(a,d.classes);e&&k.$$setClassImmediately(a,e[0],e[1],d.options)}c()}),a.data("$$animateClasses",m));return m.promise},$$setClassImmediately:function(a,c,d,e){c&&this.$$addClassImmediately(a,
c);d&&this.$$removeClassImmediately(a,d);k(a,e);return l()},enabled:E,cancel:E}}]}],la=R("$compile");yc.$inject=["$provide","$$sanitizeUriProvider"];var Sc=/^((?:x|data)[\:\-_])/i,rf=R("$controller"),Wc="application/json",$b={"Content-Type":Wc+";charset=utf-8"},tf=/^\[|^\{(?!\{)/,uf={"[":/]$/,"{":/}$/},sf=/^\)\]\}',?\n/,ac=R("$interpolate"),Uf=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,xf={http:80,https:443,ftp:21},Gb=R("$location"),Vf={$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(x(a))return this.$$url;
var c=Uf.exec(a);(c[1]||""===a)&&this.path(decodeURIComponent(c[1]));(c[2]||c[1]||""===a)&&this.search(c[3]||"");this.hash(c[5]||"");return this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:dd("$$path",function(a){a=null!==a?a.toString():"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,c){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a)||Y(a))a=a.toString(),this.$$search=sc(a);else if(J(a))a=Da(a,{}),r(a,function(c,e){null==c&&delete a[e]}),this.$$search=
a;else throw Gb("isrcharg");break;default:x(c)||null===c?delete this.$$search[a]:this.$$search[a]=c}this.$$compose();return this},hash:dd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};r([cd,ec,dc],function(a){a.prototype=Object.create(Vf);a.prototype.state=function(c){if(!arguments.length)return this.$$state;if(a!==dc||!this.$$html5)throw Gb("nostate");this.$$state=x(c)?null:c;return this}});var na=R("$parse"),Wf=Function.prototype.call,
Xf=Function.prototype.apply,Yf=Function.prototype.bind,mb=ia();r({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(a,c){a.constant=a.literal=a.sharedGetter=!0;mb[c]=a});mb["this"]=function(a){return a};mb["this"].sharedGetter=!0;var nb=w(ia(),{"+":function(a,c,d,e){d=d(a,c);e=e(a,c);return y(d)?y(e)?d+e:d:y(e)?e:t},"-":function(a,c,d,e){d=d(a,c);e=e(a,c);return(y(d)?d:0)-(y(e)?e:0)},"*":function(a,c,d,e){return d(a,c)*e(a,c)},
"/":function(a,c,d,e){return d(a,c)/e(a,c)},"%":function(a,c,d,e){return d(a,c)%e(a,c)},"===":function(a,c,d,e){return d(a,c)===e(a,c)},"!==":function(a,c,d,e){return d(a,c)!==e(a,c)},"==":function(a,c,d,e){return d(a,c)==e(a,c)},"!=":function(a,c,d,e){return d(a,c)!=e(a,c)},"<":function(a,c,d,e){return d(a,c)<e(a,c)},">":function(a,c,d,e){return d(a,c)>e(a,c)},"<=":function(a,c,d,e){return d(a,c)<=e(a,c)},">=":function(a,c,d,e){return d(a,c)>=e(a,c)},"&&":function(a,c,d,e){return d(a,c)&&e(a,c)},
"||":function(a,c,d,e){return d(a,c)||e(a,c)},"!":function(a,c,d){return!d(a,c)},"=":!0,"|":!0}),Zf={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},hc=function(a){this.options=a};hc.prototype={constructor:hc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(a))this.readIdent();else if(this.is(a,
"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var c=a+this.peek(),d=c+this.peek(2),e=nb[c],f=nb[d];nb[a]||e||f?(a=f?d:e?c:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,c){return-1!==c.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},
isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdent:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,c,d){d=d||this.index;c=y(c)?"s "+c+"-"+this.index+" ["+this.text.substring(c,d)+"]":" "+d;throw na("lexerr",a,c,this.text);},readNumber:function(){for(var a="",c=this.index;this.index<
this.text.length;){var d=z(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var e=this.peek();if("e"==d&&this.isExpOperator(e))a+=d;else if(this.isExpOperator(d)&&e&&this.isNumber(e)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||e&&this.isNumber(e)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:c,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var c=
this.text.charAt(this.index);if(!this.isIdent(c)&&!this.isNumber(c))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var c=this.index;this.index++;for(var d="",e=a,f=!1;this.index<this.text.length;){var g=this.text.charAt(this.index),e=e+g;if(f)"u"===g?(f=this.text.substring(this.index+1,this.index+5),f.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+f+"]"),this.index+=4,d+=String.fromCharCode(parseInt(f,16))):
d+=Zf[g]||g,f=!1;else if("\\"===g)f=!0;else{if(g===a){this.index++;this.tokens.push({index:c,text:e,constant:!0,value:d});return}d+=g}this.index++}this.throwError("Unterminated quote",c)}};var ib=function(a,c,d){this.lexer=a;this.$filter=c;this.options=d};ib.ZERO=w(function(){return 0},{sharedGetter:!0,constant:!0});ib.prototype={constructor:ib,parse:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.statements();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);
a.literal=!!a.literal;a.constant=!!a.constant;return a},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.peek().identifier&&this.peek().text in mb?a=mb[this.consume().text]:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,
d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,c){throw na("syntax",c.text,a,c.index+1,this.text,this.text.substring(c.index));},peekToken:function(){if(0===this.tokens.length)throw na("ueoe",this.text);return this.tokens[0]},peek:function(a,c,d,e){return this.peekAhead(0,a,c,d,e)},peekAhead:function(a,c,d,e,f){if(this.tokens.length>a){a=this.tokens[a];var g=a.text;if(g===c||g===d||g===e||g===
f||!(c||d||e||f))return a}return!1},expect:function(a,c,d,e){return(a=this.peek(a,c,d,e))?(this.tokens.shift(),a):!1},consume:function(a){if(0===this.tokens.length)throw na("ueoe",this.text);var c=this.expect(a);c||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return c},unaryFn:function(a,c){var d=nb[a];return w(function(a,f){return d(a,f,c)},{constant:c.constant,inputs:[c]})},binaryFn:function(a,c,d,e){var f=nb[c];return w(function(c,e){return f(c,e,a,d)},{constant:a.constant&&
d.constant,inputs:!e&&[a,d]})},identifier:function(){for(var a=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)a+=this.consume().text+this.consume().text;return zf(a,this.options,this.text)},constant:function(){var a=this.consume().value;return w(function(){return a},{constant:!0,literal:!0})},statements:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(c,
d){for(var e,f=0,g=a.length;f<g;f++)e=a[f](c,d);return e}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},filter:function(a){var c=this.$filter(this.consume().text),d,e;if(this.peek(":"))for(d=[],e=[];this.expect(":");)d.push(this.expression());var f=[a].concat(d||[]);return w(function(f,h){var l=a(f,h);if(e){e[0]=l;for(l=d.length;l--;)e[l+1]=d[l](f,h);return c.apply(t,e)}return c(l)},{constant:!c.$stateful&&f.every(fc),inputs:!c.$stateful&&f})},expression:function(){return this.assignment()},
assignment:function(){var a=this.ternary(),c,d;return(d=this.expect("="))?(a.assign||this.throwError("implies assignment but ["+this.text.substring(0,d.index)+"] can not be assigned to",d),c=this.ternary(),w(function(d,f){return a.assign(d,c(d,f),f)},{inputs:[a,c]})):a},ternary:function(){var a=this.logicalOR(),c;if(this.expect("?")&&(c=this.assignment(),this.consume(":"))){var d=this.assignment();return w(function(e,f){return a(e,f)?c(e,f):d(e,f)},{constant:a.constant&&c.constant&&d.constant})}return a},
logicalOR:function(){for(var a=this.logicalAND(),c;c=this.expect("||");)a=this.binaryFn(a,c.text,this.logicalAND(),!0);return a},logicalAND:function(){for(var a=this.equality(),c;c=this.expect("&&");)a=this.binaryFn(a,c.text,this.equality(),!0);return a},equality:function(){for(var a=this.relational(),c;c=this.expect("==","!=","===","!==");)a=this.binaryFn(a,c.text,this.relational());return a},relational:function(){for(var a=this.additive(),c;c=this.expect("<",">","<=",">=");)a=this.binaryFn(a,c.text,
this.additive());return a},additive:function(){for(var a=this.multiplicative(),c;c=this.expect("+","-");)a=this.binaryFn(a,c.text,this.multiplicative());return a},multiplicative:function(){for(var a=this.unary(),c;c=this.expect("*","/","%");)a=this.binaryFn(a,c.text,this.unary());return a},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(ib.ZERO,a.text,this.unary()):(a=this.expect("!"))?this.unaryFn(a.text,this.unary()):this.primary()},fieldAccess:function(a){var c=
this.identifier();return w(function(d,e,f){d=f||a(d,e);return null==d?t:c(d)},{assign:function(d,e,f){var g=a(d,f);g||a.assign(d,g={},f);return c.assign(g,e)}})},objectIndex:function(a){var c=this.text,d=this.expression();this.consume("]");return w(function(e,f){var g=a(e,f),h=d(e,f);ua(h,c);return g?oa(g[h],c):t},{assign:function(e,f,g){var h=ua(d(e,g),c),l=oa(a(e,g),c);l||a.assign(e,l={},g);return l[h]=f}})},functionCall:function(a,c){var d=[];if(")"!==this.peekToken().text){do d.push(this.expression());
while(this.expect(","))}this.consume(")");var e=this.text,f=d.length?[]:null;return function(g,h){var l=c?c(g,h):y(c)?t:g,k=a(g,h,l)||E;if(f)for(var n=d.length;n--;)f[n]=oa(d[n](g,h),e);oa(l,e);if(k){if(k.constructor===k)throw na("isecfn",e);if(k===Wf||k===Xf||k===Yf)throw na("isecff",e);}l=k.apply?k.apply(l,f):k(f[0],f[1],f[2],f[3],f[4]);f&&(f.length=0);return oa(l,e)}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))
}this.consume("]");return w(function(c,d){for(var e=[],f=0,g=a.length;f<g;f++)e.push(a[f](c,d));return e},{literal:!0,constant:a.every(fc),inputs:a})},object:function(){var a=[],c=[];if("}"!==this.peekToken().text){do{if(this.peek("}"))break;var d=this.consume();d.constant?a.push(d.value):d.identifier?a.push(d.text):this.throwError("invalid key",d);this.consume(":");c.push(this.expression())}while(this.expect(","))}this.consume("}");return w(function(d,f){for(var g={},h=0,l=c.length;h<l;h++)g[a[h]]=
c[h](d,f);return g},{literal:!0,constant:c.every(fc),inputs:c})}};var Bf=ia(),Af=ia(),Cf=Object.prototype.valueOf,Ba=R("$sce"),pa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},la=R("$compile"),$=W.createElement("a"),id=Aa(Q.location.href);Fc.$inject=["$provide"];jd.$inject=["$locale"];ld.$inject=["$locale"];var od=".",Mf={yyyy:U("FullYear",4),yy:U("FullYear",2,0,!0),y:U("FullYear",1),MMMM:Jb("Month"),MMM:Jb("Month",!0),MM:U("Month",2,1),M:U("Month",1,1),dd:U("Date",2),d:U("Date",
1),HH:U("Hours",2),H:U("Hours",1),hh:U("Hours",2,-12),h:U("Hours",1,-12),mm:U("Minutes",2),m:U("Minutes",1),ss:U("Seconds",2),s:U("Seconds",1),sss:U("Milliseconds",3),EEEE:Jb("Day"),EEE:Jb("Day",!0),a:function(a,c){return 12>a.getHours()?c.AMPMS[0]:c.AMPMS[1]},Z:function(a){a=-1*a.getTimezoneOffset();return a=(0<=a?"+":"")+(Ib(Math[0<a?"floor":"ceil"](a/60),2)+Ib(Math.abs(a%60),2))},ww:qd(2),w:qd(1),G:ic,GG:ic,GGG:ic,GGGG:function(a,c){return 0>=a.getFullYear()?c.ERANAMES[0]:c.ERANAMES[1]}},Lf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
Kf=/^\-?\d+$/;kd.$inject=["$locale"];var Hf=ea(z),If=ea(ub);md.$inject=["$parse"];var Td=ea({restrict:"E",compile:function(a,c){if(!c.href&&!c.xlinkHref&&!c.name)return function(a,c){if("a"===c[0].nodeName.toLowerCase()){var f="[object SVGAnimatedString]"===Ca.call(c.prop("href"))?"xlink:href":"href";c.on("click",function(a){c.attr(f)||a.preventDefault()})}}}}),vb={};r(Eb,function(a,c){if("multiple"!=a){var d=xa("ng-"+c);vb[d]=function(){return{restrict:"A",priority:100,link:function(a,f,g){a.$watch(g[d],
function(a){g.$set(c,!!a)})}}}}});r(Pc,function(a,c){vb[c]=function(){return{priority:100,link:function(a,e,f){if("ngPattern"===c&&"/"==f.ngPattern.charAt(0)&&(e=f.ngPattern.match(Of))){f.$set("ngPattern",new RegExp(e[1],e[2]));return}a.$watch(f[c],function(a){f.$set(c,a)})}}}});r(["src","srcset","href"],function(a){var c=xa("ng-"+a);vb[c]=function(){return{priority:99,link:function(d,e,f){var g=a,h=a;"href"===a&&"[object SVGAnimatedString]"===Ca.call(e.prop("href"))&&(h="xlinkHref",f.$attr[h]="xlink:href",
g=null);f.$observe(c,function(c){c?(f.$set(h,c),Qa&&g&&e.prop(g,f[h])):"href"===a&&f.$set(h,null)})}}}});var Kb={$addControl:E,$$renameControl:function(a,c){a.$name=c},$removeControl:E,$setValidity:E,$setDirty:E,$setPristine:E,$setSubmitted:E};rd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var yd=function(a){return["$timeout",function(c){return{name:"form",restrict:a?"EAC":"E",controller:rd,compile:function(d,e){d.addClass(Ra).addClass(lb);var f=e.name?"name":a&&e.ngForm?"ngForm":
!1;return{pre:function(a,d,e,k){if(!("action"in e)){var n=function(c){a.$apply(function(){k.$commitViewValue();k.$setSubmitted()});c.preventDefault()};d[0].addEventListener("submit",n,!1);d.on("$destroy",function(){c(function(){d[0].removeEventListener("submit",n,!1)},0,!1)})}var p=k.$$parentForm;f&&(hb(a,null,k.$name,k,k.$name),e.$observe(f,function(c){k.$name!==c&&(hb(a,null,k.$name,t,k.$name),p.$$renameControl(k,c),hb(a,null,k.$name,k,k.$name))}));d.on("$destroy",function(){p.$removeControl(k);
f&&hb(a,null,e[f],t,k.$name);w(k,Kb)})}}}}}]},Ud=yd(),ge=yd(!0),Nf=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$f=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ag=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,bg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,zd=/^(\d{4})-(\d{2})-(\d{2})$/,Ad=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,lc=/^(\d{4})-W(\d\d)$/,Bd=/^(\d{4})-(\d\d)$/,
Cd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Dd={text:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e)},date:kb("date",zd,Mb(zd,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":kb("datetimelocal",Ad,Mb(Ad,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:kb("time",Cd,Mb(Cd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:kb("week",lc,function(a,c){if(ga(a))return a;if(C(a)){lc.lastIndex=0;var d=lc.exec(a);if(d){var e=+d[1],f=+d[2],g=d=0,h=0,l=0,k=pd(e),f=7*(f-1);c&&(d=c.getHours(),g=
c.getMinutes(),h=c.getSeconds(),l=c.getMilliseconds());return new Date(e,0,k.getDate()+f,d,g,h,l)}}return NaN},"yyyy-Www"),month:kb("month",Bd,Mb(Bd,["yyyy","MM"]),"yyyy-MM"),number:function(a,c,d,e,f,g){td(a,c,d,e);jb(a,c,d,e,f,g);e.$$parserName="number";e.$parsers.push(function(a){return e.$isEmpty(a)?null:bg.test(a)?parseFloat(a):t});e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!Y(a))throw Nb("numfmt",a);a=a.toString()}return a});if(y(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||
x(h)||a>=h};d.$observe("min",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));h=Y(a)&&!isNaN(a)?a:t;e.$validate()})}if(y(d.max)||d.ngMax){var l;e.$validators.max=function(a){return e.$isEmpty(a)||x(l)||a<=l};d.$observe("max",function(a){y(a)&&!Y(a)&&(a=parseFloat(a,10));l=Y(a)&&!isNaN(a)?a:t;e.$validate()})}},url:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);e.$$parserName="url";e.$validators.url=function(a,c){var d=a||c;return e.$isEmpty(d)||$f.test(d)}},email:function(a,c,d,e,f,g){jb(a,c,d,e,f,g);jc(e);
e.$$parserName="email";e.$validators.email=function(a,c){var d=a||c;return e.$isEmpty(d)||ag.test(d)}},radio:function(a,c,d,e){x(d.name)&&c.attr("name",++ob);c.on("click",function(a){c[0].checked&&e.$setViewValue(d.value,a&&a.type)});e.$render=function(){c[0].checked=d.value==e.$viewValue};d.$observe("value",e.$render)},checkbox:function(a,c,d,e,f,g,h,l){var k=ud(l,a,"ngTrueValue",d.ngTrueValue,!0),n=ud(l,a,"ngFalseValue",d.ngFalseValue,!1);c.on("click",function(a){e.$setViewValue(c[0].checked,a&&
a.type)});e.$render=function(){c[0].checked=e.$viewValue};e.$isEmpty=function(a){return!1===a};e.$formatters.push(function(a){return ha(a,k)});e.$parsers.push(function(a){return a?k:n})},hidden:E,button:E,submit:E,reset:E,file:E},zc=["$browser","$sniffer","$filter","$parse",function(a,c,d,e){return{restrict:"E",require:["?ngModel"],link:{pre:function(f,g,h,l){l[0]&&(Dd[z(h.type)]||Dd.text)(f,g,h,l[0],c,a,d,e)}}}}],cg=/^(true|false|\d+)$/,ye=function(){return{restrict:"A",priority:100,compile:function(a,
c){return cg.test(c.ngValue)?function(a,c,f){f.$set("value",a.$eval(f.ngValue))}:function(a,c,f){a.$watch(f.ngValue,function(a){f.$set("value",a)})}}}},Zd=["$compile",function(a){return{restrict:"AC",compile:function(c){a.$$addBindingClass(c);return function(c,e,f){a.$$addBindingInfo(e,f.ngBind);e=e[0];c.$watch(f.ngBind,function(a){e.textContent=a===t?"":a})}}}}],ae=["$interpolate","$compile",function(a,c){return{compile:function(d){c.$$addBindingClass(d);return function(d,f,g){d=a(f.attr(g.$attr.ngBindTemplate));
c.$$addBindingInfo(f,d.expressions);f=f[0];g.$observe("ngBindTemplate",function(a){f.textContent=a===t?"":a})}}}}],$d=["$sce","$parse","$compile",function(a,c,d){return{restrict:"A",compile:function(e,f){var g=c(f.ngBindHtml),h=c(f.ngBindHtml,function(a){return(a||"").toString()});d.$$addBindingClass(e);return function(c,e,f){d.$$addBindingInfo(e,f.ngBindHtml);c.$watch(h,function(){e.html(a.getTrustedHtml(g(c))||"")})}}}}],xe=ea({restrict:"A",require:"ngModel",link:function(a,c,d,e){e.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),
be=kc("",!0),de=kc("Odd",0),ce=kc("Even",1),ee=Ia({compile:function(a,c){c.$set("ngCloak",t);a.removeClass("ng-cloak")}}),fe=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ec={},dg={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var c=xa("ng-"+a);Ec[c]=["$parse","$rootScope",function(d,e){return{restrict:"A",compile:function(f,g){var h=
d(g[c],null,!0);return function(c,d){d.on(a,function(d){var f=function(){h(c,{$event:d})};dg[a]&&e.$$phase?c.$evalAsync(f):c.$apply(f)})}}}}]});var ie=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,l,k;c.$watch(e.ngIf,function(c){c?l||g(function(c,f){l=f;c[c.length++]=W.createComment(" end ngIf: "+e.ngIf+" ");h={clone:c};a.enter(c,d.parent(),d)}):(k&&(k.remove(),k=null),l&&(l.$destroy(),l=null),h&&(k=
tb(h.clone),a.leave(k).then(function(){k=null}),h=null))})}}}],je=["$templateRequest","$anchorScroll","$animate","$sce",function(a,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(f,g){var h=g.ngInclude||g.src,l=g.onload||"",k=g.autoscroll;return function(f,g,q,r,s){var t=0,v,m,F,w=function(){m&&(m.remove(),m=null);v&&(v.$destroy(),v=null);F&&(d.leave(F).then(function(){m=null}),m=F,F=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=
function(){!y(k)||k&&!f.$eval(k)||c()},m=++t;e?(a(e,!0).then(function(a){if(m===t){var c=f.$new();r.template=a;a=s(c,function(a){w();d.enter(a,null,g).then(h)});v=c;F=a;v.$emit("$includeContentLoaded",e);f.$eval(l)}},function(){m===t&&(w(),f.$emit("$includeContentError",e))}),f.$emit("$includeContentRequested",e)):(w(),r.template=null)})}}}}],Ae=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){/SVG/.test(d[0].toString())?(d.empty(),a(Hc(f.template,
W).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),a(d.contents())(c))}}}],ke=Ia({priority:450,compile:function(){return{pre:function(a,c,d){a.$eval(d.ngInit)}}}}),we=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,c,d,e){var f=c.attr(d.$attr.ngList)||", ",g="false"!==d.ngTrim,h=g?N(f):f;e.$parsers.push(function(a){if(!x(a)){var c=[];a&&r(a.split(h),function(a){a&&c.push(g?N(a):a)});return c}});e.$formatters.push(function(a){return H(a)?
a.join(f):t});e.$isEmpty=function(a){return!a||!a.length}}}},lb="ng-valid",vd="ng-invalid",Ra="ng-pristine",Lb="ng-dirty",xd="ng-pending",Nb=new R("ngModel"),eg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,c,d,e,f,g,h,l,k,n){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=t;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;
this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=t;this.$name=n(d.name||"",!1)(a);var p=f(d.ngModel),q=p.assign,u=p,s=q,M=null,v,m=this;this.$$setOptions=function(a){if((m.$options=a)&&a.getterSetter){var c=f(d.ngModel+"()"),g=f(d.ngModel+"($$$p)");u=function(a){var d=p(a);G(d)&&(d=c(a));return d};s=function(a,c){G(p(a))?g(a,{$$$p:m.$modelValue}):q(a,m.$modelValue)}}else if(!p.assign)throw Nb("nonassign",d.ngModel,wa(e));
};this.$render=E;this.$isEmpty=function(a){return x(a)||""===a||null===a||a!==a};var F=e.inheritedData("$formController")||Kb,w=0;sd({ctrl:this,$element:e,set:function(a,c){a[c]=!0},unset:function(a,c){delete a[c]},parentForm:F,$animate:g});this.$setPristine=function(){m.$dirty=!1;m.$pristine=!0;g.removeClass(e,Lb);g.addClass(e,Ra)};this.$setDirty=function(){m.$dirty=!0;m.$pristine=!1;g.removeClass(e,Ra);g.addClass(e,Lb);F.$setDirty()};this.$setUntouched=function(){m.$touched=!1;m.$untouched=!0;g.setClass(e,
"ng-untouched","ng-touched")};this.$setTouched=function(){m.$touched=!0;m.$untouched=!1;g.setClass(e,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){h.cancel(M);m.$viewValue=m.$$lastCommittedViewValue;m.$render()};this.$validate=function(){if(!Y(m.$modelValue)||!isNaN(m.$modelValue)){var a=m.$$rawModelValue,c=m.$valid,d=m.$modelValue,e=m.$options&&m.$options.allowInvalid;m.$$runValidators(a,m.$$lastCommittedViewValue,function(f){e||c===f||(m.$modelValue=f?a:t,m.$modelValue!==d&&m.$$writeModelToScope())})}};
this.$$runValidators=function(a,c,d){function e(){var d=!0;r(m.$validators,function(e,f){var h=e(a,c);d=d&&h;g(f,h)});return d?!0:(r(m.$asyncValidators,function(a,c){g(c,null)}),!1)}function f(){var d=[],e=!0;r(m.$asyncValidators,function(f,h){var k=f(a,c);if(!k||!G(k.then))throw Nb("$asyncValidators",k);g(h,t);d.push(k.then(function(){g(h,!0)},function(a){e=!1;g(h,!1)}))});d.length?k.all(d).then(function(){h(e)},E):h(!0)}function g(a,c){l===w&&m.$setValidity(a,c)}function h(a){l===w&&d(a)}w++;var l=
w;(function(){var a=m.$$parserName||"parse";if(v===t)g(a,null);else return v||(r(m.$validators,function(a,c){g(c,null)}),r(m.$asyncValidators,function(a,c){g(c,null)})),g(a,v),v;return!0})()?e()?f():h(!1):h(!1)};this.$commitViewValue=function(){var a=m.$viewValue;h.cancel(M);if(m.$$lastCommittedViewValue!==a||""===a&&m.$$hasNativeValidators)m.$$lastCommittedViewValue=a,m.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var c=m.$$lastCommittedViewValue;if(v=
x(c)?t:!0)for(var d=0;d<m.$parsers.length;d++)if(c=m.$parsers[d](c),x(c)){v=!1;break}Y(m.$modelValue)&&isNaN(m.$modelValue)&&(m.$modelValue=u(a));var e=m.$modelValue,f=m.$options&&m.$options.allowInvalid;m.$$rawModelValue=c;f&&(m.$modelValue=c,m.$modelValue!==e&&m.$$writeModelToScope());m.$$runValidators(c,m.$$lastCommittedViewValue,function(a){f||(m.$modelValue=a?c:t,m.$modelValue!==e&&m.$$writeModelToScope())})};this.$$writeModelToScope=function(){s(a,m.$modelValue);r(m.$viewChangeListeners,function(a){try{a()}catch(d){c(d)}})};
this.$setViewValue=function(a,c){m.$viewValue=a;m.$options&&!m.$options.updateOnDefault||m.$$debounceViewValueCommit(c)};this.$$debounceViewValueCommit=function(c){var d=0,e=m.$options;e&&y(e.debounce)&&(e=e.debounce,Y(e)?d=e:Y(e[c])?d=e[c]:Y(e["default"])&&(d=e["default"]));h.cancel(M);d?M=h(function(){m.$commitViewValue()},d):l.$$phase?m.$commitViewValue():a.$apply(function(){m.$commitViewValue()})};a.$watch(function(){var c=u(a);if(c!==m.$modelValue){m.$modelValue=m.$$rawModelValue=c;v=t;for(var d=
m.$formatters,e=d.length,f=c;e--;)f=d[e](f);m.$viewValue!==f&&(m.$viewValue=m.$$lastCommittedViewValue=f,m.$render(),m.$$runValidators(c,f,E))}return c})}],ve=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:eg,priority:1,compile:function(c){c.addClass(Ra).addClass("ng-untouched").addClass(lb);return{pre:function(a,c,f,g){var h=g[0],l=g[1]||Kb;h.$$setOptions(g[2]&&g[2].$options);l.$addControl(h);f.$observe("name",function(a){h.$name!==a&&l.$$renameControl(h,
a)});a.$on("$destroy",function(){l.$removeControl(h)})},post:function(c,e,f,g){var h=g[0];if(h.$options&&h.$options.updateOn)e.on(h.$options.updateOn,function(a){h.$$debounceViewValueCommit(a&&a.type)});e.on("blur",function(e){h.$touched||(a.$$phase?c.$evalAsync(h.$setTouched):c.$apply(h.$setTouched))})}}}}}],fg=/(\s+|^)default(\s+|$)/,ze=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,c){var d=this;this.$options=a.$eval(c.ngModelOptions);this.$options.updateOn!==t?(this.$options.updateOnDefault=
!1,this.$options.updateOn=N(this.$options.updateOn.replace(fg,function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},le=Ia({terminal:!0,priority:1E3}),me=["$locale","$interpolate",function(a,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(f,g,h){function l(a){g.text(a||"")}var k=h.count,n=h.$attr.when&&g.attr(h.$attr.when),p=h.offset||0,q=f.$eval(n)||{},u={},n=c.startSymbol(),s=c.endSymbol(),t=n+k+"-"+p+s,v=ca.noop,m;r(h,function(a,c){var d=
e.exec(c);d&&(d=(d[1]?"-":"")+z(d[2]),q[d]=g.attr(h.$attr[c]))});r(q,function(a,e){u[e]=c(a.replace(d,t))});f.$watch(k,function(c){c=parseFloat(c);var d=isNaN(c);d||c in q||(c=a.pluralCat(c-p));c===m||d&&isNaN(m)||(v(),v=f.$watch(u[c],l),m=c)})}}}],ne=["$parse","$animate",function(a,c){var d=R("ngRepeat"),e=function(a,c,d,e,k,n,p){a[d]=e;k&&(a[k]=n);a.$index=c;a.$first=0===c;a.$last=c===p-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(c&1))};return{restrict:"A",multiElement:!0,transclude:"element",
priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,l=W.createComment(" end ngRepeat: "+h+" "),k=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!k)throw d("iexp",h);var n=k[1],p=k[2],q=k[3],u=k[4],k=n.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!k)throw d("iidexp",n);var s=k[3]||k[1],y=k[2];if(q&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(q)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(q)))throw d("badident",
q);var v,m,w,x,E={$id:Ma};u?v=a(u):(w=function(a,c){return Ma(c)},x=function(a){return a});return function(a,f,g,k,n){v&&(m=function(c,d,e){y&&(E[y]=c);E[s]=d;E.$index=e;return v(a,E)});var u=ia();a.$watchCollection(p,function(g){var k,p,v=f[0],D,E=ia(),G,H,L,S,J,C,z;q&&(a[q]=g);if(Sa(g))J=g,p=m||w;else{p=m||x;J=[];for(z in g)g.hasOwnProperty(z)&&"$"!=z.charAt(0)&&J.push(z);J.sort()}G=J.length;z=Array(G);for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],S=p(H,L,k),u[S])C=u[S],delete u[S],E[S]=C,z[k]=C;else{if(E[S])throw r(z,
function(a){a&&a.scope&&(u[a.id]=a)}),d("dupes",h,S,L);z[k]={id:S,scope:t,clone:t};E[S]=!0}for(D in u){C=u[D];S=tb(C.clone);c.leave(S);if(S[0].parentNode)for(k=0,p=S.length;k<p;k++)S[k].$$NG_REMOVED=!0;C.scope.$destroy()}for(k=0;k<G;k++)if(H=g===J?k:J[k],L=g[H],C=z[k],C.scope){D=v;do D=D.nextSibling;while(D&&D.$$NG_REMOVED);C.clone[0]!=D&&c.move(tb(C.clone),null,A(v));v=C.clone[C.clone.length-1];e(C.scope,k,s,L,y,H,G)}else n(function(a,d){C.scope=d;var f=l.cloneNode(!1);a[a.length++]=f;c.enter(a,
null,A(v));v=f;C.clone=a;E[C.id]=C;e(C.scope,k,s,L,y,H,G)});u=E})}}}}],oe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngShow,function(c){a[c?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],he=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(c,d,e){c.$watch(e.ngHide,function(c){a[c?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],pe=Ia(function(a,c,d){a.$watchCollection(d.ngStyle,
function(a,d){d&&a!==d&&r(d,function(a,d){c.css(d,"")});a&&c.css(a)})}),qe=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,f){var g=[],h=[],l=[],k=[],n=function(a,c){return function(){a.splice(c,1)}};c.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=l.length;d<e;++d)a.cancel(l[d]);d=l.length=0;for(e=k.length;d<e;++d){var s=tb(h[d].clone);k[d].$destroy();(l[d]=a.leave(s)).then(n(l,d))}h.length=0;k.length=0;(g=
f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){k.push(e);var f=c.element;d[d.length++]=W.createComment(" end ngSwitchWhen: ");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],re=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,c,d,e,f){e.cases["!"+d.ngSwitchWhen]=e.cases["!"+d.ngSwitchWhen]||[];e.cases["!"+d.ngSwitchWhen].push({transclude:f,element:c})}}),se=Ia({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,
link:function(a,c,d,e,f){e.cases["?"]=e.cases["?"]||[];e.cases["?"].push({transclude:f,element:c})}}),ue=Ia({restrict:"EAC",link:function(a,c,d,e,f){if(!f)throw R("ngTransclude")("orphan",wa(c));f(function(a){c.empty();c.append(a)})}}),Vd=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(c,d){"text/ng-template"==d.type&&a.put(d.id,c[0].text)}}}],gg=R("ngOptions"),te=ea({restrict:"A",terminal:!0}),Wd=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
e={$setViewValue:E};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,c,d){var l=this,k={},n=e,p;l.databound=d.ngModel;l.init=function(a,c,d){n=a;p=d};l.addOption=function(c,d){La(c,'"option value"');k[c]=!0;n.$viewValue==c&&(a.val(c),p.parent()&&p.remove());d&&d[0].hasAttribute("selected")&&(d[0].selected=!0)};l.removeOption=function(a){this.hasOption(a)&&(delete k[a],n.$viewValue===a&&this.renderUnknownOption(a))};l.renderUnknownOption=function(c){c=
"? "+Ma(c)+" ?";p.val(c);a.prepend(p);a.val(c);p.prop("selected",!0)};l.hasOption=function(a){return k.hasOwnProperty(a)};c.$on("$destroy",function(){l.renderUnknownOption=E})}],link:function(e,g,h,l){function k(a,c,d,e){d.$render=function(){var a=d.$viewValue;e.hasOption(a)?(C.parent()&&C.remove(),c.val(a),""===a&&v.prop("selected",!0)):x(a)&&v?c.val(""):e.renderUnknownOption(a)};c.on("change",function(){a.$apply(function(){C.parent()&&C.remove();d.$setViewValue(c.val())})})}function n(a,c,d){var e;
d.$render=function(){var a=new eb(d.$viewValue);r(c.find("option"),function(c){c.selected=y(a.get(c.value))})};a.$watch(function(){ha(e,d.$viewValue)||(e=sa(d.$viewValue),d.$render())});c.on("change",function(){a.$apply(function(){var a=[];r(c.find("option"),function(c){c.selected&&a.push(c.value)});d.$setViewValue(a)})})}function p(e,f,g){function h(a,c,d){T[x]=d;G&&(T[G]=c);return a(e,T)}function k(a){var c;if(u)if(I&&H(a)){c=new eb([]);for(var d=0;d<a.length;d++)c.put(h(I,null,a[d]),!0)}else c=
new eb(a);else I&&(a=h(I,null,a));return function(d,e){var f;f=I?I:B?B:z;return u?y(c.remove(h(f,d,e))):a===h(f,d,e)}}function l(){m||(e.$$postDigest(p),m=!0)}function n(a,c,d){a[c]=a[c]||0;a[c]+=d?1:-1}function p(){m=!1;var a={"":[]},c=[""],d,l,s,t,v;s=g.$viewValue;t=L(e)||[];var B=G?Object.keys(t).sort():t,x,A,H,z,O={};v=k(s);var N=!1,U,W;Q={};for(z=0;H=B.length,z<H;z++){x=z;if(G&&(x=B[z],"$"===x.charAt(0)))continue;A=t[x];d=h(J,x,A)||"";(l=a[d])||(l=a[d]=[],c.push(d));d=v(x,A);N=N||d;A=h(C,x,A);
A=y(A)?A:"";W=I?I(e,T):G?B[z]:z;I&&(Q[W]=x);l.push({id:W,label:A,selected:d})}u||(w||null===s?a[""].unshift({id:"",label:"",selected:!N}):N||a[""].unshift({id:"?",label:"",selected:!0}));x=0;for(B=c.length;x<B;x++){d=c[x];l=a[d];R.length<=x?(s={element:E.clone().attr("label",d),label:l.label},t=[s],R.push(t),f.append(s.element)):(t=R[x],s=t[0],s.label!=d&&s.element.attr("label",s.label=d));N=null;z=0;for(H=l.length;z<H;z++)d=l[z],(v=t[z+1])?(N=v.element,v.label!==d.label&&(n(O,v.label,!1),n(O,d.label,
!0),N.text(v.label=d.label),N.prop("label",v.label)),v.id!==d.id&&N.val(v.id=d.id),N[0].selected!==d.selected&&(N.prop("selected",v.selected=d.selected),Qa&&N.prop("selected",v.selected))):(""===d.id&&w?U=w:(U=F.clone()).val(d.id).prop("selected",d.selected).attr("selected",d.selected).prop("label",d.label).text(d.label),t.push(v={element:U,label:d.label,id:d.id,selected:d.selected}),n(O,d.label,!0),N?N.after(U):s.element.append(U),N=U);for(z++;t.length>z;)d=t.pop(),n(O,d.label,!1),d.element.remove()}for(;R.length>
x;){l=R.pop();for(z=1;z<l.length;++z)n(O,l[z].label,!1);l[0].element.remove()}r(O,function(a,c){0<a?q.addOption(c):0>a&&q.removeOption(c)})}var v;if(!(v=s.match(d)))throw gg("iexp",s,wa(f));var C=c(v[2]||v[1]),x=v[4]||v[6],A=/ as /.test(v[0])&&v[1],B=A?c(A):null,G=v[5],J=c(v[3]||""),z=c(v[2]?v[1]:x),L=c(v[7]),I=v[8]?c(v[8]):null,Q={},R=[[{element:f,label:""}]],T={};w&&(a(w)(e),w.removeClass("ng-scope"),w.remove());f.empty();f.on("change",function(){e.$apply(function(){var a=L(e)||[],c;if(u)c=[],r(f.val(),
function(d){d=I?Q[d]:d;c.push("?"===d?t:""===d?null:h(B?B:z,d,a[d]))});else{var d=I?Q[f.val()]:f.val();c="?"===d?t:""===d?null:h(B?B:z,d,a[d])}g.$setViewValue(c);p()})});g.$render=p;e.$watchCollection(L,l);e.$watchCollection(function(){var a=L(e),c;if(a&&H(a)){c=Array(a.length);for(var d=0,f=a.length;d<f;d++)c[d]=h(C,d,a[d])}else if(a)for(d in c={},a)a.hasOwnProperty(d)&&(c[d]=h(C,d,a[d]));return c},l);u&&e.$watchCollection(function(){return g.$modelValue},l)}if(l[1]){var q=l[0];l=l[1];var u=h.multiple,
s=h.ngOptions,w=!1,v,m=!1,F=A(W.createElement("option")),E=A(W.createElement("optgroup")),C=F.clone();h=0;for(var B=g.children(),G=B.length;h<G;h++)if(""===B[h].value){v=w=B.eq(h);break}q.init(l,w,C);u&&(l.$isEmpty=function(a){return!a||0===a.length});s?p(e,g,l):u?n(e,g,l):k(e,g,l,q)}}}}],Yd=["$interpolate",function(a){var c={addOption:E,removeOption:E};return{restrict:"E",priority:100,compile:function(d,e){if(x(e.value)){var f=a(d.text(),!0);f||e.$set("value",d.text())}return function(a,d,e){var k=
d.parent(),n=k.data("$selectController")||k.parent().data("$selectController");n&&n.databound||(n=c);f?a.$watch(f,function(a,c){e.$set("value",a);c!==a&&n.removeOption(c);n.addOption(a,d)}):n.addOption(e.value,d);d.on("$destroy",function(){n.removeOption(e.value)})}}}}],Xd=ea({restrict:"E",terminal:!1}),Bc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){e&&(d.required=!0,e.$validators.required=function(a,c){return!d.required||!e.$isEmpty(c)},d.$observe("required",function(){e.$validate()}))}}},
Ac=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f,g=d.ngPattern||d.pattern;d.$observe("pattern",function(a){C(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw R("ngPattern")("noregexp",g,a,wa(c));f=a||t;e.$validate()});e.$validators.pattern=function(a){return e.$isEmpty(a)||x(f)||f.test(a)}}}}},Dc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=-1;d.$observe("maxlength",function(a){a=aa(a);f=isNaN(a)?-1:a;e.$validate()});
e.$validators.maxlength=function(a,c){return 0>f||e.$isEmpty(c)||c.length<=f}}}}},Cc=function(){return{restrict:"A",require:"?ngModel",link:function(a,c,d,e){if(e){var f=0;d.$observe("minlength",function(a){f=aa(a)||0;e.$validate()});e.$validators.minlength=function(a,c){return e.$isEmpty(c)||c.length>=f}}}}};Q.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(Nd(),Pd(ca),A(W).ready(function(){Jd(W,uc)}))})(window,document);!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>');
//# sourceMappingURL=angular.min.js.map
;
/**
 * AngularUI - The companion suite for AngularJS
 * @version v0.4.0 - 2013-02-15
 * @link http://angular-ui.github.com
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};return angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,r,i){var s={};i.uiAnimate&&(s=e.$eval(i.uiAnimate),angular.isString(s)&&(s={"class":s})),s=angular.extend({"class":"ui-animate"},n,s),r.addClass(s["class"]),t(function(){r.removeClass(s["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e,t){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(t,n,r,i){function a(){t.calendar=n.html("");var i=t.calendar.fullCalendar("getView");i&&(i=i.name);var o,u={defaultView:i,eventSources:s};r.uiCalendar?o=t.$eval(r.uiCalendar):o={},angular.extend(u,e.uiCalendar,o),t.calendar.fullCalendar(u)}var s=t.$eval(r.ngModel),o=0,u=function(){var e=t.$eval(r.equalsTracker);return o=0,angular.forEach(s,function(e,t){angular.isArray(e)&&(o+=e.length)}),angular.isNumber(e)?o+s.length+e:o+s.length};a(),t.$watch(u,function(e,t){a()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(e,t){"use strict";var n=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(r,i,s,o){var u,a,f,l,c;if(i[0].type!=="textarea")throw new Error("uiCodemirror3 can only be applied to a textarea element");u=e.codemirror||{},a=angular.extend({},u,r.$eval(s.uiCodemirror)),f=function(e){return function(t,n){var i=t.getValue();i!==o.$viewValue&&(o.$setViewValue(i),r.$apply()),typeof e=="function"&&e(t,n)}},l=function(){c=CodeMirror.fromTextArea(i[0],a),c.on("change",f(a.onChange));for(var e=0,u=n.length,l;e<u;++e){l=a["on"+n[e].charAt(0).toUpperCase()+n[e].slice(1)];if(l===void 0)continue;if(typeof l!="function")continue;c.on(n[e],l)}o.$formatters.push(function(e){if(angular.isUndefined(e)||e===null)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),o.$render=function(){c.setValue(o.$viewValue)},s.uiRefresh&&r.$watch(s.uiRefresh,function(e,n){e!==n&&t(c.refresh)})},t(l)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,t){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,r,i,s){var o,u,a;o=angular.extend({},n,e.$eval(i.uiCurrency)),u=function(e){var n;return n=e*1,r.toggleClass(o.pos,n>0),r.toggleClass(o.neg,n<0),r.toggleClass(o.zero,n===0),e===""?r.text(""):r.text(t(n,o.symbol)),!0},s.$render=function(){a=s.$viewValue,r.val(a),u(a)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var t;return t={},angular.isObject(e.date)&&angular.extend(t,e.date),{require:"?ngModel",link:function(t,n,r,i){var s=function(){return angular.extend({},e.date,t.$eval(r.uiDate))},o=function(){var e=s();if(i){var r=function(){t.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),i.$setViewValue(e),n.blur()})};if(e.onSelect){var o=e.onSelect;e.onSelect=function(e,n){r(),t.$apply(function(){o(e,n)})}}else e.onSelect=r;n.bind("change",r),i.$render=function(){var e=i.$viewValue;if(angular.isDefined(e)&&e!==null&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),i&&i.$render()};t.$watch(s,o,!0)}}}]).directive("uiDateFormat",["ui.config",function(e){var t={require:"ngModel",link:function(t,n,r,i){var s=r.uiDateFormat||e.dateFormat;s?(i.$formatters.push(function(e){if(angular.isString(e))return $.datepicker.parseDate(s,e)}),i.$parsers.push(function(e){if(e)return $.datepicker.formatDate(s,e)})):(i.$formatters.push(function(e){if(angular.isString(e))return new Date(e)}),i.$parsers.push(function(e){if(e)return e.toISOString()}))}};return t}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var s=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),t.$apply(function(){s(t,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,r){var i,s;e.$watch(r.uiIf,function(r){i&&(i.remove(),i=undefined),s&&(s.$destroy(),s=undefined),r&&(s=e.$new(),n(s,function(e){i=e,t.after(e)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(t,n){return{restrict:"A",compile:function(r,i){if(!angular.isFunction(r[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var s=t.jq&&t.jq[i.uiJq];return function(t,r,i){function u(){n(function(){r[i.uiJq].apply(r,o)},0,!1)}var o=[];i.uiOptions?(o=t.$eval("["+i.uiOptions+"]"),angular.isObject(s)&&angular.isObject(o[0])&&(o[0]=angular.extend({},s,o[0]))):s&&(o=[s]),i.ngModel&&r.is("select,input,textarea")&&r.on("change",function(){r.trigger("input")}),i.uiRefresh&&t.$watch(i.uiRefresh,function(e){u()}),u()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(t){var n={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},r=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(e,i,s,o){var u,a=[];u=i.$eval(o["ui"+r(e)]),angular.forEach(u,function(e,n){var r,i;i=t(e),angular.forEach(n.split(" "),function(e){r={expression:i,keys:{}},angular.forEach(e.split("-"),function(e){r.keys[e]=!0}),a.push(r)})}),s.bind(e,function(t){var r=t.metaKey||t.altKey,s=t.ctrlKey,o=t.shiftKey,u=t.keyCode;e==="keypress"&&!o&&u>=97&&u<=122&&(u-=32),angular.forEach(a,function(e){var u=e.keys[n[t.keyCode]]||e.keys[t.keyCode.toString()]||!1,a=e.keys.alt||!1,f=e.keys.ctrl||!1,l=e.keys.shift||!1;u&&a==r&&f==s&&l==o&&i.$apply(function(){e.expression(i,{$event:t})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,r){e("keydown",t,n,r)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,r){e("keypress",t,n,r)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,r){e("keyup",t,n,r)}}}]),function(){function t(e,t,n,r){angular.forEach(t.split(" "),function(t){var i={type:"map-"+t};google.maps.event.addListener(n,t,function(t){r.triggerHandler(angular.extend({},i,t)),e.$$phase||e.$apply()})})}function n(n,r){e.directive(n,[function(){return{restrict:"A",link:function(e,i,s){e.$watch(s[n],function(n){t(e,r,n,i)})}}}])}var e=angular.module("ui.directives");e.directive("uiMap",["ui.config","$parse",function(e,n){var r="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",i=e.map||{};return{restrict:"A",link:function(e,s,o){var u=angular.extend({},i,e.$eval(o.uiOptions)),a=new google.maps.Map(s[0],u),f=n(o.uiMap);f.assign(e,a),t(e,r,a,s)}}}]),e.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(e,n,r){var i="closeclick content_change domready position_changed zindex_changed",s=e.mapInfoWindow||{};return{link:function(e,o,u){var a=angular.extend({},s,e.$eval(u.uiOptions));a.content=o[0];var f=n(u.uiMapInfoWindow),l=f(e);l||(l=new google.maps.InfoWindow(a),f.assign(e,l)),t(e,i,l,o),o.replaceWith("<div></div>");var c=l.open;l.open=function(n,i,s,u,a,f){r(o.contents())(e),c.call(l,n,i,s,u,a,f)}}}}]),n("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),n("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),n("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,t,n,r){r.$render=function(){var i=r.$viewValue||"";t.val(i),t.mask(e.$eval(n.uiMask))},r.$parsers.push(function(e){var n=t.isMaskValid()||angular.isUndefined(t.isMaskValid())&&t.val().length>0;return r.$setValidity("mask",n),n?e:undefined}),t.bind("keyup",function(){e.$apply(function(){r.$setViewValue(t.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var t=null;return e.reset!==undefined&&(t=e.reset),{require:"ngModel",link:function(e,n,r,i){var s;s=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(s),s.bind("click",function(n){n.preventDefault(),e.$apply(function(){r.uiReset?i.$setViewValue(e.$eval(r.uiReset)):i.$setViewValue(t),i.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",compile:function(n,r){var i;if(r.uiRoute)i="uiRoute";else if(r.ngHref)i="ngHref";else{if(!r.href)throw new Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,r,s){function a(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),u=function(){o(n,e.path().indexOf(t)>-1)},u()}function f(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),u=function(){var i=new RegExp("^"+t+"$",["i"]);o(n,i.test(e.path()))},u()}var o=t(s.ngModel||s.routeModel||"$uiRoute").assign,u=angular.noop;switch(i){case"uiRoute":s.uiRoute?f(s.uiRoute):s.$observe("uiRoute",f);break;case"ngHref":s.ngHref?a(s.ngHref):s.$observe("ngHref",a);break;case"href":a(s.href)}n.$on("$routeChangeSuccess",function(){u()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(t,n,r){var i=n.offset().top;r.uiScrollfix?r.uiScrollfix.charAt(0)==="-"?r.uiScrollfix=i-r.uiScrollfix.substr(1):r.uiScrollfix.charAt(0)==="+"&&(r.uiScrollfix=i+parseFloat(r.uiScrollfix.substr(1))):r.uiScrollfix=i,angular.element(e).on("scroll.ui-scrollfix",function(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var i=document.compatMode&&document.compatMode!=="BackCompat"?document.documentElement:document.body;t=i.scrollTop}!n.hasClass("ui-scrollfix")&&t>r.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<r.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(e,t){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",compile:function(e,r){var i,s,o,u=e.is("select"),a=r.multiple!==undefined;return e.is("select")&&(s=e.find("option[ng-repeat], option[data-ng-repeat]"),s.length&&(o=s.attr("ng-repeat")||s.attr("data-ng-repeat"),i=jQuery.trim(o.split("|")[0]).split(" ").pop())),function(e,r,s,o){var f=angular.extend({},n,e.$eval(s.uiSelect2));u?(delete f.multiple,delete f.initSelection):a&&(f.multiple=!0);if(o){o.$render=function(){u?r.select2("val",o.$modelValue):a?o.$modelValue?angular.isArray(o.$modelValue)?r.select2("data",o.$modelValue):r.select2("val",o.$modelValue):r.select2("data",[]):angular.isObject(o.$modelValue)?r.select2("data",o.$modelValue):r.select2("val",o.$modelValue)},i&&e.$watch(i,function(e,n,i){if(!e)return;t(function(){r.select2("val",o.$viewValue),r.trigger("change")})});if(!u){r.bind("change",function(){e.$apply(function(){o.$setViewValue(r.select2("data"))})});if(f.initSelection){var l=f.initSelection;f.initSelection=function(e,t){l(e,function(e){o.$setViewValue(e),t(e)})}}}}s.$observe("disabled",function(e){r.select2(e&&"disable"||"enable")}),s.ngMultiple&&e.$watch(s.ngMultiple,function(e){r.select2(f)}),r.val(e.$eval(s.ngModel)),t(function(){r.select2(f),!f.initSelection&&!u&&o.$setViewValue(r.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e,n){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e,n){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e,n){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){return{require:"?ngModel",link:function(t,n,r,i){var s,o,u,a,f,l,c,h,p;f=angular.extend({},e.sortable,t.$eval(r.uiSortable)),i&&(i.$render=function(){n.sortable("refresh")},u=function(e,t){t.item.sortable={index:t.item.index()}},a=function(e,t){t.item.sortable.resort=i},s=function(e,t){t.item.sortable.relocate=!0,i.$modelValue.splice(t.item.index(),0,t.item.sortable.moved)},o=function(e,t){i.$modelValue.length===1?t.item.sortable.moved=i.$modelValue.splice(0,1)[0]:t.item.sortable.moved=i.$modelValue.splice(t.item.sortable.index,1)[0]},onStop=function(e,n){if(n.item.sortable.resort&&!n.item.sortable.relocate){var r,i;i=n.item.sortable.index,r=n.item.index(),i<r&&r--,n.item.sortable.resort.$modelValue.splice(r,0,n.item.sortable.resort.$modelValue.splice(i,1)[0])}(n.item.sortable.resort||n.item.sortable.relocate)&&t.$apply()},h=f.start,f.start=function(e,t){u(e,t),typeof h=="function"&&h(e,t)},_stop=f.stop,f.stop=function(e,t){onStop(e,t),typeof _stop=="function"&&_stop(e,t)},p=f.update,f.update=function(e,t){a(e,t),typeof p=="function"&&p(e,t)},l=f.receive,f.receive=function(e,t){s(e,t),typeof l=="function"&&l(e,t)},c=f.remove,f.remove=function(e,t){o(e,t),typeof c=="function"&&c(e,t)}),n.sortable(f)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(t,n,r,i){var s,o={onchange_callback:function(e){e.isDirty()&&(e.save(),i.$setViewValue(n.val()),t.$$phase||t.$apply())},handle_event_callback:function(e){return this.isDirty()&&(this.save(),i.$setViewValue(n.val()),t.$$phase||t.$apply()),!0},setup:function(e){e.onSetContent.add(function(e,r){e.isDirty()&&(e.save(),i.$setViewValue(n.val()),t.$$phase||t.$apply())})}};r.uiTinymce?s=t.$eval(r.uiTinymce):s={},angular.extend(o,e.tinymce,s),setTimeout(function(){n.tinymce(o)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i,s,o={},u=e.$eval(n.uiValidate);if(!u)return;angular.isString(u)&&(u={validator:u}),angular.forEach(u,function(t,n){i=function(i){return e.$eval(t,{$value:i})?(r.$setValidity(n,!0),i):(r.$setValidity(n,!1),undefined)},o[n]=i,r.$formatters.push(i),r.$parsers.push(i)}),n.uiValidateWatch&&(s=e.$eval(n.uiValidateWatch),angular.isString(s)?e.$watch(s,function(){angular.forEach(o,function(e,t){e(r.$modelValue)})}):angular.forEach(s,function(t,n){e.$watch(t,function(){o[n](r.$modelValue)})}))}}}),angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n=e.toString(),r;return t===undefined?n:!angular.isArray(t)&&!angular.isObject(t)?n.split("$0").join(t):(r=angular.isArray(t)&&"$"||":",angular.forEach(t,function(e,t){n=n.split(r+t).join(e)}),n)}}),angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join(""),t}};return function(e,t,r){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.filters").filter("unique",function(){return function(e,t){if(t===!1)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n={},r=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){var t,n=!1;for(var s=0;s<r.length;s++)if(angular.equals(i(r[s]),i(e))){n=!0;break}n||r.push(e)}),e=r}return e}});;
/**
 * State-based routing for AngularJS
 * @version v0.2.13
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return M(new(M(function(){},{prototype:a})),b)}function e(a){return L(arguments,function(b){b!==a&&L(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var c=[];return b.forEach(a,function(a,b){c.push(b)}),c}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return M({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return L(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function m(a,b){var c=K(a),d=c?[]:{};return L(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function n(a,b){var c=K(a)?[]:{};return L(a,function(a,d){c[d]=b(a,d)}),c}function o(a,b){var d=1,f=2,i={},j=[],k=i,m=M(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,I(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);L(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return J(a)&&a.then&&a.$$promises}if(!J(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return L(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!G(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;L(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!J(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=m;var n=a.defer(),r=n.promise,s=r.$$promises={},t=M({},d),u=1+q.length/3,v=!1;if(G(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,l(f.$$inheritedValues,p)),M(s,f.$$promises),f.$$values?(v=e(t,l(f.$$values,p)),r.$$inheritedValues=l(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=l(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function p(a,b,c){this.fromConfig=function(a,b,c){return G(a.template)?this.fromString(a.template,b):G(a.templateUrl)?this.fromUrl(a.templateUrl,b):G(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return H(a)?a(b):a},this.fromUrl=function(c,d){return H(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function q(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new O.Param(b,c,d,e),p[b]}function g(a,b,c){var d=["",""],e=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return e;switch(c){case!1:d=["(",")"];break;case!0:d=["?(",")?"];break;default:d=["("+c+"|",")?"]}return e+d[0]+b+d[1]}function h(c,e){var f,g,h,i,j;return f=c[2]||c[3],j=b.params[f],h=a.substring(m,c.index),g=e?c[4]:c[4]||("*"==c[1]?".*":null),i=O.type(g||"string")||d(O.type("string"),{pattern:new RegExp(g)}),{id:f,regexp:g,segment:h,type:i,cfg:j}}b=M({params:{}},J(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new O.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function r(a){M(this,a)}function s(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(a){return this.pattern.test(a)}function i(){return{strict:t,caseInsensitive:p}}function j(a){return H(a)||K(a)&&H(a[a.length-1])}function k(){for(;x.length;){var a=x.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(v[a.name],o.invoke(a.def))}}function l(a){M(this,a||{})}O=this;var o,p=!1,t=!0,u=!1,v={},w=!0,x=[],y={string:{encode:a,decode:e,is:f,pattern:/[^/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return G(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};s.$$getDefaultValue=function(a){if(!j(a.value))return a.value;if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(a.value)},this.caseInsensitive=function(a){return G(a)&&(p=a),p},this.strictMode=function(a){return G(a)&&(t=a),t},this.defaultSquashPolicy=function(a){if(!G(a))return u;if(a!==!0&&a!==!1&&!I(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return u=a,a},this.compile=function(a,b){return new q(a,M(i(),b))},this.isMatcher=function(a){if(!J(a))return!1;var b=!0;return L(q.prototype,function(c,d){H(c)&&(b=b&&G(a[d])&&H(a[d]))}),b},this.type=function(a,b,c){if(!G(b))return v[a];if(v.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return v[a]=new r(M({name:a},b)),c&&(x.push({name:a,def:c}),w||k()),this},L(y,function(a,b){v[b]=new r(M({name:b},a))}),v=d(v,{}),this.$get=["$injector",function(a){return o=a,w=!1,k(),L(y,function(a,b){v[b]||(v[b]=new r(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=J(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=j(a.value)?a.value:function(){return a.value},a}function i(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof r?b.type:new r(b.type):"config"===d?v.any:v.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return M(b,c,d).array}function l(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!G(c)||null==c)return u;if(c===!0||I(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=K(a.replace)?a.replace:[],I(e)&&f.push({from:e,to:c}),g=n(f,function(a){return a.from}),m(i,function(a){return-1===h(g,a.from)}).concat(f)}function q(){if(!o)throw new Error("Injectable functions cannot be called at configuration time");return o.invoke(d.$$fn)}function s(a){function b(a){return function(b){return b.from===a}}function c(a){var c=n(m(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),G(a)?w.type.decode(a):q()}function t(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=i(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=l(d,y),A=p(d,x,y,z);M(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:s,dynamic:c,config:d,toString:t})},l.prototype={$$new:function(){return d(this,M(new l,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(l.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),L(b,function(b){L(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return L(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return L(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var b,c,d,e=!0,f=this;return L(this.$$keys(),function(g){d=f[g],c=a[g],b=!c&&d.isOptional,e=e&&(b||!!d.type.is(c))}),e},$$parent:c},this.ParamSet=l}function t(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return G(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(I(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){var e=o&&d.url()===o;if(o=c,e)return!0;var g,h=j.length;for(g=0;h>g;g++)if(b(j[g]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),d.replace()))},push:function(a,b,e){d.url(a.format(b||{})),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!H(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(I(a)){var b=a;a=function(){return b}}else if(!H(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=I(b);if(I(a)&&(a=d.compile(a)),!h&&!H(b)&&!K(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),M(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:I(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),M(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function u(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){if(!a)return c;var d=I(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=l(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var m=y[e];return!m||!d&&(d||m!==a&&m.self!==a)?c:m}function m(a,b){z[a]||(z[a]=[]),z[a].push(b)}function o(a){for(var b=z[a]||[];b.length;)p(b.shift())}function p(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!I(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(y.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):I(b.parent)?b.parent:J(b.parent)&&I(b.parent.name)?b.parent.name:"";if(e&&!y[e])return m(e,b.self);for(var f in B)H(B[f])&&(b[f]=B[f](b,B.$delegates[f]));return y[c]=b,!b[A]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){x.$current.navigable==b&&j(a,c)||x.transitionTo(b,a,{inherit:!0,location:!1})}]),o(c),b}function q(a){return a.indexOf("*")>-1}function r(a){var b=a.split("."),c=x.$current.name.split(".");if("**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function s(a,b){return I(a)&&!G(b)?B[a]:H(b)&&I(a)?(B[a]&&!B.$delegates[a]&&(B.$delegates[a]=B[a]),B[a]=b,this):this}function t(a,b){return J(a)?b=a:b.name=a,p(b),this}function u(a,e,f,h,m,o,p){function s(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),B;if(!g.retry)return null;if(f.$retry)return p.update(),C;var h=x.transition=e.when(g.retry);return h.then(function(){return h!==x.transition?u:(b.options.$retry=!0,x.transitionTo(b.to,b.toParams,b.options))},function(){return B}),p.update(),h}function t(a,c,d,g,i,j){var l=d?c:k(a.params.$$keys(),c),n={$stateParams:l};i.resolve=m.resolve(a.resolve,n,i.resolve,a);var o=[i.resolve.then(function(a){i.globals=a})];return g&&o.push(g),L(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return f.load(d,{view:c,locals:n,params:l,notify:j.notify})||""}],o.push(m.resolve(e,n,i.resolve,a).then(function(f){if(H(c.controllerProvider)||K(c.controllerProvider)){var g=b.extend({},e,n);f.$$controller=h.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,i[d]=f}))}),e.all(o).then(function(){return i})}var u=e.reject(new Error("transition superseded")),z=e.reject(new Error("transition prevented")),B=e.reject(new Error("transition aborted")),C=e.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:w.self,$current:w,transition:null},x.reload=function(){return x.transitionTo(x.current,o,{reload:!0,inherit:!1,notify:!0})},x.go=function(a,b,c){return x.transitionTo(a,b,M({inherit:!0,relative:x.$current},c))},x.transitionTo=function(b,c,f){c=c||{},f=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=x.$current,m=x.params,n=j.path,q=l(b,f.relative);if(!G(q)){var r={to:b,toParams:c,options:f},y=s(r,j.self,m,f);if(y)return y;if(b=r.to,c=r.toParams,f=r.options,q=l(b,f.relative),!G(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[A])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(o,c||{},x.$current,q)),!q.params.$$validates(c))return C;c=q.params.$$values(c),b=q;var B=b.path,D=0,E=B[D],F=w.locals,H=[];if(!f.reload)for(;E&&E===n[D]&&E.ownParams.$$equals(c,m);)F=H[D]=E.locals,D++,E=B[D];if(v(b,j,F,f))return b.self.reloadOnSearch!==!1&&p.update(),x.transition=null,e.when(x.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,m).defaultPrevented)return p.update(),z;for(var I=e.when(F),J=D;J<B.length;J++,E=B[J])F=H[J]=d(F),I=t(E,c,E===b,I,F,f);var K=x.transition=I.then(function(){var d,e,g;if(x.transition!==K)return u;for(d=n.length-1;d>=D;d--)g=n[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=D;d<B.length;d++)e=B[d],e.locals=H[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return x.transition!==K?u:(x.$current=b,x.current=b.self,x.params=c,N(x.params,o),x.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,m),p.update(!0),x.current)},function(d){return x.transition!==K?u:(x.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,m,d),g.defaultPrevented||p.update(),e.reject(d))});return K},x.is=function(a,b,d){d=M({relative:x.$current},d||{});var e=l(a,d.relative);return G(e)?x.$current!==e?!1:b?j(e.params.$$values(b),o):!0:c},x.includes=function(a,b,d){if(d=M({relative:x.$current},d||{}),I(a)&&q(a)){if(!r(a))return!1;a=x.$current.name}var e=l(a,d.relative);return G(e)?G(x.$current.includes[e.name])?b?j(e.params.$$values(b),o,g(b)):!0:!1:c},x.href=function(a,b,d){d=M({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},d||{});var e=l(a,d.relative);if(!G(e))return null;d.inherit&&(b=i(o,b||{},x.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys(),b||{}),{absolute:d.absolute}):null},x.get=function(a,b){if(0===arguments.length)return n(g(y),function(a){return y[a].self});var c=l(a,b||x.$current);return c&&c.self?c.self:null},x}function v(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var w,x,y={},z={},A="abstract",B={parent:function(a){if(G(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):w},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=M({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(I(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||w).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new O.ParamSet;return L(a.params||{},function(a,c){b[c]||(b[c]=new O.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?M(a.parent.params.$$new(),a.ownParams):new O.ParamSet},views:function(a){var b={};return L(G(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?M({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=s,this.state=t,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function v(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=M(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function w(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function x(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=z(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function y(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=z(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function z(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function A(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function B(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function C(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=A(g.uiSref,a.current.name),j=null,k=B(f)||a.$current,l=null,m="A"===f.prop("tagName"),n="FORM"===f[0].nodeName,o=n?"action":"href",p=!0,q={relative:k,inherit:!0},r=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in r&&(q[a]=r[a])});var s=function(c){if(c&&(j=b.copy(c)),p){l=a.href(i.state,j,q);var d=h[1]||h[0];return d&&d.$$setStateInfo(i.state,j),null===l?(p=!1,!1):void g.$set(o,l)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&s(a)},!0),j=b.copy(e.$eval(i.paramExpr))),s(),n||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,q)});b.preventDefault();var g=m&&!l?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function D(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(j):d.removeClass(j)}function g(){return"undefined"!=typeof e.uiSrefActiveEq?h&&a.is(h.name,i):h&&a.includes(h.name,i)}var h,i,j;j=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$setStateInfo=function(b,c){h=a.get(b,B(d)),i=c,f()},b.$on("$stateChangeSuccess",f)}]}}function E(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function F(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var G=b.isDefined,H=b.isFunction,I=b.isString,J=b.isObject,K=b.isArray,L=b.forEach,M=b.extend,N=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),o.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",o),p.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",p);var O;q.prototype.concat=function(a,b){var c={caseInsensitive:O.caseInsensitive(),strict:O.strictMode(),squash:O.defaultSquashPolicy()};return new q(this.sourcePath+a+this.sourceSearch,M(c,b),this)},q.prototype.toString=function(){return this.source},q.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/,"-")}var d=b(a).split(/-(?!\\)/),e=n(d,b);return n(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},q.prototype.parameters=function(a){return G(a)?this.params[a]||null:this.$$paramNames},q.prototype.validates=function(a){return this.params.$$validates(a)},q.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],o=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),o),q=p?m.squash:!1,r=m.type.encode(o);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=K(r)?n(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else I(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;K(r)||(r=[r]),r=n(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},r.prototype.is=function(){return!0},r.prototype.encode=function(a){return a},r.prototype.decode=function(a){return a},r.prototype.equals=function(a,b){return a==b},r.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},r.prototype.pattern=/.*/,r.prototype.toString=function(){return"{Type:"+this.name+"}"},r.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return K(a)?a:G(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=n(c,a);return b===!0?0===m(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",s),b.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",t),u.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",u),v.$inject=[],b.module("ui.router.state").provider("$view",v),b.module("ui.router.state").provider("$uiViewScroll",w),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],y.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",x),b.module("ui.router.state").directive("uiView",y),C.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),E.$inject=["$state"],F.$inject=["$state"],b.module("ui.router.state").filter("isState",E).filter("includedByState",F)}(window,window.angular);;
angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(a){return a}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","$http","$cacheFactory","$interpolate","$rootScope",function(a,b,c,d,e){function f(){e.$broadcast("gettextLanguageChanged")}var g,h="$$noContext",i='<span id="test" title="test" class="tested">test</span>',j=angular.element("<span>"+i+"</span>").html()!==i,k=function(a){return g.debug&&g.currentLanguage!==g.baseLanguage?g.debugPrefix+a:a},l=function(a){return g.showTranslatedMarkers?g.translatedMarkerPrefix+a+g.translatedMarkerSuffix:a};return g={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:c("strings"),setCurrentLanguage:function(a){this.currentLanguage=a,f()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(a,b){this.strings[a]||(this.strings[a]={});for(var c in b){var d=b[c];if(j&&(c=angular.element("<span>"+c+"</span>").html()),angular.isString(d)||angular.isArray(d)){var e={};e[h]=d,d=e}for(var g in d){var i=d[g];d[g]=angular.isArray(i)?i:[i]}this.strings[a][c]=d}f()},getStringForm:function(a,b,c){var d=this.strings[this.currentLanguage]||{},e=d[a]||{},f=e[c||h]||[];return f[b]},getString:function(a,b,c){return a=this.getStringForm(a,0,c)||k(a),a=b?d(a)(b):a,l(a)},getPlural:function(b,c,e,f,g){var h=a(this.currentLanguage,b);return c=this.getStringForm(c,h,g)||k(1===b?c:e),f&&(f.$count=b,c=d(c)(f)),l(c)},loadRemote:function(a){return b({method:"GET",url:a,cache:g.cache}).success(function(a){for(var b in a)g.setStrings(b,a[b])})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(a,b,c,d,e){function f(a,b,c){if(!a)throw new Error("You should add a "+b+" attribute whenever you add a "+c+" attribute.")}var g=function(){return String.prototype.trim?function(a){return"string"==typeof a?a.trim():a}:function(a){return"string"==typeof a?a.replace(/^\s*/,"").replace(/\s*$/,""):a}}(),h=parseInt((/msie (\d+)/.exec(angular.lowercase(e.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(e,i){f(!i.translatePlural||i.translateN,"translate-n","translate-plural"),f(!i.translateN||i.translatePlural,"translate-plural","translate-n");var j=g(e.html()),k=i.translatePlural,l=i.translateContext;return 8>=h&&"<!--IE fix-->"===j.slice(-13)&&(j=j.slice(0,-13)),{post:function(e,f,g){function h(){var b;k?(e=m||(m=e.$new()),e.$count=i(e),b=a.getPlural(e.$count,j,k,null,l)):b=a.getString(j,null,l);var g=angular.element("<span>"+b+"</span>");d(g.contents())(e);var h=f.contents(),n=g.contents();c.enter(n,f),c.leave(h)}var i=b(g.translateN),m=null;g.translateN&&e.$watch(g.translateN,h),e.$on("gettextLanguageChanged",h),h()}}}}}]),angular.module("gettext").filter("translate",["gettextCatalog",function(a){function b(b,c){return a.getString(b,null,c)}return b.$stateful=!0,b}]),angular.module("gettext").factory("gettextPlurals",function(){return function(a,b){switch(a){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return b%10!=1||b%100==11?1:0;case"jv":return 0!=b?1:0;case"mk":return 1==b||b%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return b>1?1:0;case"lv":return b%10==1&&b%100!=11?0:0!=b?1:2;case"lt":return b%10==1&&b%100!=11?0:b%10>=2&&(10>b%100||b%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return b%10==1&&b%100!=11?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"mnk":return 0==b?0:1==b?1:2;case"ro":return 1==b?0:0==b||b%100>0&&20>b%100?1:2;case"pl":return 1==b?0:b%10>=2&&4>=b%10&&(10>b%100||b%100>=20)?1:2;case"cs":case"sk":return 1==b?0:b>=2&&4>=b?1:2;case"sl":return b%100==1?1:b%100==2?2:b%100==3||b%100==4?3:0;case"mt":return 1==b?0:0==b||b%100>1&&11>b%100?1:b%100>10&&20>b%100?2:3;case"gd":return 1==b||11==b?0:2==b||12==b?1:b>2&&20>b?2:3;case"cy":return 1==b?0:2==b?1:8!=b&&11!=b?2:3;case"kw":return 1==b?0:2==b?1:3==b?2:3;case"ga":return 1==b?0:2==b?1:7>b?2:11>b?3:4;case"ar":return 0==b?0:1==b?1:2==b?2:b%100>=3&&10>=b%100?3:b%100>=11?4:5;default:return 1!=b?1:0}}});;
/*!
 * Bootstrap-select v1.6.4 (http://silviomoreto.github.io/bootstrap-select)
 *
 * Copyright 2013-2015 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
!function(a){"use strict";function b(b){var c=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return a.each(c,function(){b=b.replace(this.re,this.ch)}),b}function c(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c="(?:"+Object.keys(b).join("|")+")",d=new RegExp(c),e=new RegExp(c,"g"),f=null==a?"":""+a;return d.test(f)?f.replace(e,function(a){return b[a]}):f}function d(b,c){var d=arguments,f=b,g=c;[].shift.apply(d);var h,i=this.each(function(){var b=a(this);if(b.is("select")){var c=b.data("selectpicker"),i="object"==typeof f&&f;if(c){if(i)for(var j in i)i.hasOwnProperty(j)&&(c.options[j]=i[j])}else{var k=a.extend({},e.DEFAULTS,a.fn.selectpicker.defaults||{},b.data(),i);b.data("selectpicker",c=new e(this,k,g))}"string"==typeof f&&(h=c[f]instanceof Function?c[f].apply(c,d):c.options[f])}});return"undefined"!=typeof h?h:i}String.prototype.includes||!function(){var a={}.toString,b=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),c="".indexOf,d=function(b){if(null==this)throw TypeError();var d=String(this);if(b&&"[object RegExp]"==a.call(b))throw TypeError();var e=d.length,f=String(b),g=f.length,h=arguments.length>1?arguments[1]:void 0,i=h?Number(h):0;i!=i&&(i=0);var j=Math.min(Math.max(i,0),e);return g+j>e?!1:-1!=c.call(d,f,i)};b?b(String.prototype,"includes",{value:d,configurable:!0,writable:!0}):String.prototype.includes=d}(),String.prototype.startsWith||!function(){var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),b={}.toString,c=function(a){if(null==this)throw TypeError();var c=String(this);if(a&&"[object RegExp]"==b.call(a))throw TypeError();var d=c.length,e=String(a),f=e.length,g=arguments.length>1?arguments[1]:void 0,h=g?Number(g):0;h!=h&&(h=0);var i=Math.min(Math.max(h,0),d);if(f+i>d)return!1;for(var j=-1;++j<f;)if(c.charCodeAt(i+j)!=e.charCodeAt(j))return!1;return!0};a?a(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c}(),a.expr[":"].icontains=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.text()).toUpperCase();return f.includes(d[3].toUpperCase())},a.expr[":"].ibegins=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.text()).toUpperCase();return f.startsWith(d[3].toUpperCase())},a.expr[":"].aicontains=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.data("normalizedText")||e.text()).toUpperCase();return f.includes(f,d[3])},a.expr[":"].aibegins=function(b,c,d){var e=a(b),f=(e.data("tokens")||e.data("normalizedText")||e.text()).toUpperCase();return f.startsWith(d[3].toUpperCase())};var e=function(b,c,d){d&&(d.stopPropagation(),d.preventDefault()),this.$element=a(b),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=c,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=e.prototype.val,this.render=e.prototype.render,this.refresh=e.prototype.refresh,this.setStyle=e.prototype.setStyle,this.selectAll=e.prototype.selectAll,this.deselectAll=e.prototype.deselectAll,this.destroy=e.prototype.remove,this.remove=e.prototype.remove,this.show=e.prototype.show,this.hide=e.prototype.hide,this.init()};e.VERSION="1.6.4",e.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},e.prototype={constructor:e,init:function(){var b=this,c=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.children(".dropdown-menu"),this.$button=this.$newElement.children("button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof c&&(this.$button.attr("data-id",c),a('label[for="'+c+'"]').click(function(a){a.preventDefault(),b.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var b=this.multiple?" show-tick":"",d=this.$element.parent().hasClass("input-group")?" input-group-btn":"",e=this.autofocus?" autofocus":"",f=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",g=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+c(this.options.liveSearchPlaceholder)+'"')+"></div>":"",h=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",i=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",j='<div class="btn-group bootstrap-select'+b+d+'"><button type="button" class="btn dropdown-toggle form-control selectpicker" data-toggle="dropdown"'+e+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+f+g+h+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul>'+i+"</div></div>";return a(j)},createView:function(){var a=this.createDropdown(),b=this.createLi();return a.find("ul").append(b),a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var d=this,e=[],f=0,g=function(a,b,c,d){return"<li"+("undefined"!=typeof c&""!==c?' class="'+c+'"':"")+("undefined"!=typeof b&null!==b?' data-original-index="'+b+'"':"")+("undefined"!=typeof d&null!==d?'data-optgroup="'+d+'"':"")+">"+a+"</li>"},h=function(a,e,f,g){return'<a tabindex="0"'+("undefined"!=typeof e?' class="'+e+'"':"")+("undefined"!=typeof f?' style="'+f+'"':"")+' data-normalized-text="'+b(c(a))+'"'+("undefined"!=typeof g||null!==g?' data-tokens="'+g+'"':"")+">"+a+'<span class="'+d.options.iconBase+" "+d.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(b){var c=a(this),i=c.attr("class")||"",j=c.attr("style"),k=c.data("content")?c.data("content"):c.html(),l=c.data("tokens")?c.data("tokens"):null,m="undefined"!=typeof c.data("subtext")?'<small class="text-muted">'+c.data("subtext")+"</small>":"",n="undefined"!=typeof c.data("icon")?'<span class="'+d.options.iconBase+" "+c.data("icon")+'"></span> ':"",o=c.is(":disabled")||c.parent().is(":disabled");if(""!==n&&o&&(n="<span>"+n+"</span>"),c.data("content")||(k=n+'<span class="text">'+k+m+"</span>"),!d.options.hideDisabled||!o)if(c.parent().is("optgroup")&&c.data("divider")!==!0){if(0===c.index()){f+=1;var p=c.parent().attr("label"),q="undefined"!=typeof c.parent().data("subtext")?'<small class="text-muted">'+c.parent().data("subtext")+"</small>":"",r=c.parent().data("icon")?'<span class="'+d.options.iconBase+" "+c.parent().data("icon")+'"></span> ':"";p=r+'<span class="text">'+p+q+"</span>",0!==b&&e.length>0&&e.push(g("",null,"divider",f+"div")),e.push(g(p,null,"dropdown-header",f))}e.push(g(h(k,"opt "+i,j,l),b,"",f))}else c.data("divider")===!0?e.push(g("",b,"divider")):c.data("hidden")===!0?e.push(g(h(k,i,j,l),b,"hidden is-hidden")):(c.prev().is("optgroup")&&e.push(g("",null,"divider",f+"div")),e.push(g(h(k,i,j,l),b)))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),a(e.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(b){var c=this;b!==!1&&this.$element.find("option").each(function(b){c.setDisabled(b,a(this).is(":disabled")||a(this).parent().is(":disabled")),c.setSelected(b,a(this).is(":selected"))}),this.tabIndex();var d=this.options.hideDisabled?":not([disabled])":"",e=this.$element.find("option:selected"+d).map(function(){var b,d=a(this),e=d.data("icon")&&c.options.showIcon?'<i class="'+c.options.iconBase+" "+d.data("icon")+'"></i> ':"";return b=c.options.showSubtext&&d.attr("data-subtext")&&!c.multiple?' <small class="text-muted">'+d.data("subtext")+"</small>":"","undefined"!=typeof d.attr("title")?d.attr("title"):d.data("content")&&c.options.showContent?d.data("content"):e+d.html()+b}).toArray(),f=this.multiple?e.join(this.options.multipleSeparator):e[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var g=this.options.selectedTextFormat.split(">");if(g.length>1&&e.length>g[1]||1==g.length&&e.length>=2){d=this.options.hideDisabled?", [disabled]":"";var h=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+d).length,i="function"==typeof this.options.countSelectedText?this.options.countSelectedText(e.length,h):this.options.countSelectedText;f=i.replace("{0}",e.length.toString()).replace("{1}",h.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(f=this.options.title),f||(f="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",a.trim(f.replace(/<[^>]*>?/g,""))),this.$newElement.find(".filter-option").html(f)},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var c=a?a:this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))},liHeight:function(){if(this.options.size!==!1){var a=this.$menu.parent().clone().children(".dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),b=a.addClass("open").children(".dropdown-menu"),c=b.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),d=this.options.header?b.find(".popover-title").outerHeight():0,e=this.options.liveSearch?b.find(".bs-searchbox").outerHeight():0,f=this.options.actionsBox?b.find(".bs-actionsbox").outerHeight():0,g=this.multiple?b.find(".bs-donebutton").outerHeight():0;a.remove(),this.$newElement.data("liHeight",c).data("headerHeight",d).data("searchHeight",e).data("actionsHeight",f).data("doneButtonHeight",g)}},setSize:function(){this.findLis();var b,c,d,e=this,f=this.$menu,g=f.find(".inner"),h=this.$newElement.outerHeight(),i=this.$newElement.data("liHeight"),j=this.$newElement.data("headerHeight"),k=this.$newElement.data("searchHeight"),l=this.$newElement.data("actionsHeight"),m=this.$newElement.data("doneButtonHeight"),n=this.$lis.filter(".divider").outerHeight(!0),o=parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom"))+parseInt(f.css("border-top-width"))+parseInt(f.css("border-bottom-width")),p=this.options.hideDisabled?", .disabled":"",q=a(window),r=o+parseInt(f.css("margin-top"))+parseInt(f.css("margin-bottom"))+2,s=function(){c=e.$newElement.offset().top-q.scrollTop(),d=q.height()-c-h};if(s(),this.options.header&&f.css("padding-top",0),"auto"==this.options.size){var t=function(){var a,h=e.$lis.not(".hidden");s(),b=d-r,e.options.dropupAuto&&e.$newElement.toggleClass("dropup",c>d&&b-r<f.height()),e.$newElement.hasClass("dropup")&&(b=c-r),a=h.length+h.filter(".dropdown-header").length>3?3*i+r-2:0,f.css({"max-height":b+"px",overflow:"hidden","min-height":a+j+k+l+m+"px"}),g.css({"max-height":b-j-k-l-m-o+"px","overflow-y":"auto","min-height":Math.max(a-o,0)+"px"})};t(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",t),q.off("resize.getSize").on("resize.getSize",t),q.off("scroll.getSize").on("scroll.getSize",t)}else if(this.options.size&&"auto"!=this.options.size&&f.find("li"+p).length>this.options.size){var u=this.$lis.not(".divider"+p).children().slice(0,this.options.size).last().parent().index(),v=this.$lis.slice(0,u+1).filter(".divider").length;b=i*this.options.size+v*n+o,e.options.dropupAuto&&this.$newElement.toggleClass("dropup",c>d&&b<f.height()),f.css({"max-height":b+j+k+l+m+"px",overflow:"hidden"}),g.css({"max-height":b-o+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body"),b=a.children(".dropdown-menu").css("width"),c=a.css("width","auto").children("button").css("width");a.remove(),this.$newElement.css("width",Math.max(parseInt(b),parseInt(c))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var b,c,d=this,e="<div />",f=a(e),g=function(a){f.addClass(a.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",a.hasClass("dropup")),b=a.offset(),c=a.hasClass("dropup")?0:a[0].offsetHeight,f.css({top:b.top+c,left:b.left,width:a[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){d.isDisabled()||(g(a(this)),f.appendTo(d.options.container),f.toggleClass("open",!a(this).hasClass("open")),f.append(d.$menu))}),a(window).resize(function(){g(d.$newElement)}),a(window).on("scroll",function(){g(d.$newElement)}),a("html").on("click",function(b){a(b.target).closest(d.$newElement).length<1&&f.removeClass("open")})},setSelected:function(a,b){this.findLis(),this.$lis.filter('[data-original-index="'+a+'"]').toggleClass("selected",b)},setDisabled:function(a,b){this.findLis(),b?this.$lis.filter('[data-original-index="'+a+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+a+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var b=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()}),this.$newElement.on("click",function(){b.setSize(),b.options.liveSearch||b.multiple||setTimeout(function(){b.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(c){var d=a(this),e=d.parent().data("originalIndex"),f=b.$element.val(),g=b.$element.prop("selectedIndex");if(b.multiple&&c.stopPropagation(),c.preventDefault(),!b.isDisabled()&&!d.parent().hasClass("disabled")){var h=b.$element.find("option"),i=h.eq(e),j=i.prop("selected"),k=i.parent("optgroup"),l=b.options.maxOptions,m=k.data("maxOptions")||!1;if(b.multiple){if(i.prop("selected",!j),b.setSelected(e,!j),d.blur(),l!==!1||m!==!1){var n=l<h.filter(":selected").length,o=m<k.find("option:selected").length;if(l&&n||m&&o)if(l&&1==l)h.prop("selected",!1),i.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(e,!0);else if(m&&1==m){k.find("option:selected").prop("selected",!1),i.prop("selected",!0);var p=d.data("optgroup");b.$menu.find(".selected").has('a[data-optgroup="'+p+'"]').removeClass("selected"),b.setSelected(e,!0)}else{var q="function"==typeof b.options.maxOptionsText?b.options.maxOptionsText(l,m):b.options.maxOptionsText,r=q[0].replace("{n}",l),s=q[1].replace("{n}",m),t=a('<div class="notify"></div>');q[2]&&(r=r.replace("{var}",q[2][l>1?0:1]),s=s.replace("{var}",q[2][m>1?0:1])),i.prop("selected",!1),b.$menu.append(t),l&&n&&(t.append(a("<div>"+r+"</div>")),b.$element.trigger("maxReached.bs.select")),m&&o&&(t.append(a("<div>"+s+"</div>")),b.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){b.setSelected(e,!1)},10),t.delay(750).fadeOut(300,function(){a(this).remove()})}}}else h.prop("selected",!1),i.prop("selected",!0),b.$menu.find(".selected").removeClass("selected"),b.setSelected(e,!0);b.multiple?b.options.liveSearch&&b.$searchbox.focus():b.$button.focus(),(f!=b.$element.val()&&b.multiple||g!=b.$element.prop("selectedIndex")&&!b.multiple)&&b.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(a){a.currentTarget==this&&(a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),b.options.liveSearch?b.$searchbox.focus():b.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){b.$button.focus()}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(c){b.options.liveSearch?b.$searchbox.focus():b.$button.focus(),c.preventDefault(),c.stopPropagation(),a(this).is(".bs-select-all")?b.selectAll():b.deselectAll(),b.$element.change()}),this.$element.change(function(){b.render(!1)})},liveSearchListener:function(){var d=this,e=a('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){d.$menu.find(".active").removeClass("active"),d.$searchbox.val()&&(d.$searchbox.val(""),d.$lis.not(".is-hidden").removeClass("hidden"),e.parent().length&&e.remove()),d.multiple||d.$menu.find(".selected").addClass("active"),setTimeout(function(){d.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(a){a.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(d.$searchbox.val()){var f=d.$lis.not(".is-hidden").removeClass("hidden").find("a");f=f.not(d.options.liveSearchNormalize?":a"+d._searchStyle()+"("+b(d.$searchbox.val())+")":":"+d._searchStyle()+"("+d.$searchbox.val()+")"),f.parent().addClass("hidden"),d.$lis.filter(".dropdown-header").each(function(){var b=a(this),c=b.data("optgroup");0===d.$lis.filter("[data-optgroup="+c+"]").not(b).not(".hidden").length&&(b.addClass("hidden"),d.$lis.filter("[data-optgroup="+c+"div]").addClass("hidden"))});var g=d.$lis.not(".hidden");g.each(function(b){var c=a(this);c.is(".divider")&&(c.index()===g.eq(0).index()||c.index()===g.last().index()||g.eq(b+1).is(".divider"))&&c.addClass("hidden")}),d.$lis.filter(":not(.hidden):not(.no-results)").length?e.parent().length&&e.remove():(e.parent().length&&e.remove(),e.html(d.options.noneResultsText.replace("{0}",'"'+c(d.$searchbox.val())+'"')).show(),d.$menu.find("li").last().after(e))}else d.$lis.not(".is-hidden").removeClass("hidden"),e.parent().length&&e.remove();d.$lis.filter(".active").removeClass("active"),d.$lis.filter(":not(.hidden):not(.divider):not(.dropdown-header)").eq(0).addClass("active").find("a").focus(),a(this).focus()})},_searchStyle:function(){var a="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":a="ibegins";break;case"contains":}return a},val:function(a){return"undefined"!=typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider]").not("[data-hidden]").prop("selected",!0),this.$lis.not(".divider").not(".dropdown-header").not(".disabled").not(".hidden").addClass("selected"),this.render(!1)},deselectAll:function(){this.findLis(),this.$element.find("option:enabled").not("[data-divider]").not("[data-hidden]").prop("selected",!1),this.$lis.not(".divider").not(".dropdown-header").not(".disabled").not(".hidden").removeClass("selected"),this.render(!1)},keydown:function(c){var d,e,f,g,h,i,j,k,l,m=a(this),n=m.is("input")?m.parent().parent():m.parent(),o=n.data("this"),p={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(o.options.liveSearch&&(n=m.parent().parent()),o.options.container&&(n=o.$menu),d=a("[role=menu] li a",n),l=o.$menu.parent().hasClass("open"),!l&&/([0-9]|[A-z])/.test(String.fromCharCode(c.keyCode))&&(o.options.container?o.$newElement.trigger("click"):(o.setSize(),o.$menu.parent().addClass("open"),l=!0),o.$searchbox.focus()),o.options.liveSearch&&(/(^9$|27)/.test(c.keyCode.toString(10))&&l&&0===o.$menu.find(".active").length&&(c.preventDefault(),o.$menu.parent().removeClass("open"),o.$button.focus()),d=a("[role=menu] li:not(.divider):not(.dropdown-header):visible a",n),m.val()||/(38|40)/.test(c.keyCode.toString(10))||0===d.filter(".active").length&&(d=o.$newElement.find("li a"),d=d.filter(o.options.liveSearchNormalize?":a"+o._searchStyle()+"("+b(p[c.keyCode])+")":":"+o._searchStyle()+"("+p[c.keyCode]+")"))),d.length){if(/(38|40)/.test(c.keyCode.toString(10)))e=d.index(d.filter(":focus")),g=d.parent(":not(.disabled):visible").first().index(),h=d.parent(":not(.disabled):visible").last().index(),f=d.eq(e).parent().nextAll(":not(.disabled):visible").eq(0).index(),i=d.eq(e).parent().prevAll(":not(.disabled):visible").eq(0).index(),j=d.eq(f).parent().prevAll(":not(.disabled):visible").eq(0).index(),o.options.liveSearch&&(d.each(function(b){a(this).is(":not(.disabled)")&&a(this).data("index",b)}),e=d.index(d.filter(".active")),g=d.filter(":not(.disabled):visible").first().data("index"),h=d.filter(":not(.disabled):visible").last().data("index"),f=d.eq(e).nextAll(":not(.disabled):visible").eq(0).data("index"),i=d.eq(e).prevAll(":not(.disabled):visible").eq(0).data("index"),j=d.eq(f).prevAll(":not(.disabled):visible").eq(0).data("index")),k=m.data("prevIndex"),38==c.keyCode&&(o.options.liveSearch&&(e-=1),e!=j&&e>i&&(e=i),g>e&&(e=g),e==k&&(e=h)),40==c.keyCode&&(o.options.liveSearch&&(e+=1),-1==e&&(e=0),e!=j&&f>e&&(e=f),e>h&&(e=h),e==k&&(e=g)),m.data("prevIndex",e),o.options.liveSearch?(c.preventDefault(),m.is(".dropdown-toggle")||(d.removeClass("active"),d.eq(e).addClass("active").find("a").focus(),m.focus())):d.eq(e).focus();else if(!m.is("input")){var q,r,s=[];d.each(function(){a(this).parent().is(":not(.disabled)")&&a.trim(a(this).text().toLowerCase()).substring(0,1)==p[c.keyCode]&&s.push(a(this).parent().index())}),q=a(document).data("keycount"),q++,a(document).data("keycount",q),r=a.trim(a(":focus").text().toLowerCase()).substring(0,1),r!=p[c.keyCode]?(q=1,a(document).data("keycount",q)):q>=s.length&&(a(document).data("keycount",0),q>s.length&&(q=1)),d.eq(s[q-1]).focus()}if((/(13|32)/.test(c.keyCode.toString(10))||/(^9$)/.test(c.keyCode.toString(10))&&o.options.selectOnTab)&&l){if(/(32)/.test(c.keyCode.toString(10))||c.preventDefault(),o.options.liveSearch)/(32)/.test(c.keyCode.toString(10))||(o.$menu.find(".active a").click(),m.focus());else{var t=a(":focus");t.click(),t.focus(),c.preventDefault()}a(document).data("keycount",0)}(/(^9$|27)/.test(c.keyCode.toString(10))&&l&&(o.multiple||o.options.liveSearch)||/(27)/.test(c.keyCode.toString(10))&&!l)&&(o.$menu.parent().removeClass("open"),o.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var f=a.fn.selectpicker;a.fn.selectpicker=d,a.fn.selectpicker.Constructor=e,a.fn.selectpicker.noConflict=function(){return a.fn.selectpicker=f,this},a(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",e.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(a){a.stopPropagation()}),a(window).on("load.bs.select.data-api",function(){a(".selectpicker").each(function(){var b=a(this);d.call(b,b.data())})})}(jQuery);
//# sourceMappingURL=bootstrap-select.js.map;
/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.11.2 - 2015-03-17T04:08:46.474Z
 * License: MIT
 */
!function(){"use strict";var e={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,MAP:{91:"COMMAND",8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",17:"CTRL",18:"ALT",19:"PAUSEBREAK",20:"CAPSLOCK",27:"ESC",32:"SPACE",33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",43:"+",44:"PRINTSCREEN",45:"INSERT",46:"DELETE",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NUMLOCK",145:"SCROLLLOCK",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},isControl:function(t){var c=t.which;switch(c){case e.COMMAND:case e.SHIFT:case e.CTRL:case e.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e},isVerticalMovement:function(t){return~[e.UP,e.DOWN].indexOf(t)},isHorizontalMovement:function(t){return~[e.LEFT,e.RIGHT,e.BACKSPACE,e.DELETE].indexOf(t)}};void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(e){return angular.element(this[0].querySelectorAll(e))}),void 0===angular.element.prototype.closest&&(angular.element.prototype.closest=function(e){for(var t=this[0],c=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector;t;){if(c.bind(t)(e))return t;t=t.parentElement}return!1});var t=0,c=angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,sortable:!1,placeholder:"",refreshDelay:1e3,closeOnSelect:!0,generateId:function(){return t++},appendToBody:!1}).service("uiSelectMinErr",function(){var e=angular.$$minErr("ui.select");return function(){var t=e.apply(this,arguments),c=t.message.replace(new RegExp("\nhttp://errors.angularjs.org/.*"),"");return new Error(c)}}).directive("uisTranscludeAppend",function(){return{link:function(e,t,c,i,s){s(e,function(e){t.append(e)})}}}).filter("highlight",function(){function e(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(t,c){return c&&t?t.replace(new RegExp(e(c),"gi"),'<span class="ui-select-highlight">$&</span>'):t}}).factory("uisOffset",["$document","$window",function(e,t){return function(c){var i=c[0].getBoundingClientRect();return{width:i.width||c.prop("offsetWidth"),height:i.height||c.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}}}]);c.directive("uiSelectChoices",["uiSelectConfig","uisRepeatParser","uiSelectMinErr","$compile",function(e,t,c,i){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var c=t.parent().attr("theme")||e.theme;return c+"/choices.tpl.html"},compile:function(s,l){if(!l.repeat)throw c("repeat","Expected 'repeat' expression.");return function(s,l,n,a,r){var o=n.groupBy;if(a.parseRepeatAttr(n.repeat,o),a.disableChoiceExpression=n.uiDisableChoice,a.onHighlightCallback=n.onHighlight,o){var u=l.querySelectorAll(".ui-select-choices-group");if(1!==u.length)throw c("rows","Expected 1 .ui-select-choices-group but got '{0}'.",u.length);u.attr("ng-repeat",t.getGroupNgRepeatExpression())}var d=l.querySelectorAll(".ui-select-choices-row");if(1!==d.length)throw c("rows","Expected 1 .ui-select-choices-row but got '{0}'.",d.length);d.attr("ng-repeat",t.getNgRepeatExpression(a.parserResult.itemName,"$select.items",a.parserResult.trackByExp,o)).attr("ng-if","$select.open").attr("ng-mouseenter","$select.setActiveItem("+a.parserResult.itemName+")").attr("ng-click","$select.select("+a.parserResult.itemName+",false,$event)");var p=l.querySelectorAll(".ui-select-choices-row-inner");if(1!==p.length)throw c("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",p.length);p.attr("uis-transclude-append",""),i(l,r)(s),s.$watch("$select.search",function(e){e&&!a.open&&a.multiple&&a.activate(!1,!0),a.activeIndex=a.tagging.isActivated?-1:0,a.refresh(n.refresh)}),n.$observe("refreshDelay",function(){var t=s.$eval(n.refreshDelay);a.refreshDelay=void 0!==t?t:e.refreshDelay})}}}}]),c.controller("uiSelectCtrl",["$scope","$element","$timeout","$filter","uisRepeatParser","uiSelectMinErr","uiSelectConfig",function(t,c,i,s,l,n,a){function r(){(d.resetSearchInput||void 0===d.resetSearchInput&&a.resetSearchInput)&&(d.search=p,d.selected&&d.items.length&&!d.multiple&&(d.activeIndex=d.items.indexOf(d.selected)))}function o(t){var c=!0;switch(t){case e.DOWN:!d.open&&d.multiple?d.activate(!1,!0):d.activeIndex<d.items.length-1&&d.activeIndex++;break;case e.UP:!d.open&&d.multiple?d.activate(!1,!0):(d.activeIndex>0||0===d.search.length&&d.tagging.isActivated&&d.activeIndex>-1)&&d.activeIndex--;break;case e.TAB:(!d.multiple||d.open)&&d.select(d.items[d.activeIndex],!0);break;case e.ENTER:d.open&&d.activeIndex>=0?d.select(d.items[d.activeIndex]):d.activate(!1,!0);break;case e.ESC:d.close();break;default:c=!1}return c}function u(){var e=c.querySelectorAll(".ui-select-choices-content"),t=e.querySelectorAll(".ui-select-choices-row");if(t.length<1)throw n("choices","Expected multiple .ui-select-choices-row but got '{0}'.",t.length);if(!(d.activeIndex<0)){var i=t[d.activeIndex],s=i.offsetTop+i.clientHeight-e[0].scrollTop,l=e[0].offsetHeight;s>l?e[0].scrollTop+=s-l:s<i.clientHeight&&(d.isGrouped&&0===d.activeIndex?e[0].scrollTop=0:e[0].scrollTop-=i.clientHeight-s)}}var d=this,p="";if(d.placeholder=a.placeholder,d.searchEnabled=a.searchEnabled,d.sortable=a.sortable,d.refreshDelay=a.refreshDelay,d.removeSelected=!1,d.closeOnSelect=!0,d.search=p,d.activeIndex=0,d.items=[],d.open=!1,d.focus=!1,d.disabled=!1,d.selected=void 0,d.focusser=void 0,d.resetSearchInput=!0,d.multiple=void 0,d.disableChoiceExpression=void 0,d.tagging={isActivated:!1,fct:void 0},d.taggingTokens={isActivated:!1,tokens:void 0},d.lockChoiceExpression=void 0,d.clickTriggeredSelect=!1,d.$filter=s,d.searchInput=c.querySelectorAll("input.ui-select-search"),1!==d.searchInput.length)throw n("searchInput","Expected 1 input.ui-select-search but got '{0}'.",d.searchInput.length);d.isEmpty=function(){return angular.isUndefined(d.selected)||null===d.selected||""===d.selected},d.activate=function(e,c){d.disabled||d.open||(c||r(),t.$broadcast("uis:activate"),d.open=!0,d.activeIndex=d.activeIndex>=d.items.length?0:d.activeIndex,-1===d.activeIndex&&d.taggingLabel!==!1&&(d.activeIndex=0),i(function(){d.search=e||d.search,d.searchInput[0].focus()}))},d.findGroupByName=function(e){return d.groups&&d.groups.filter(function(t){return t.name===e})[0]},d.parseRepeatAttr=function(e,c){function i(e){d.groups=[],angular.forEach(e,function(e){var i=t.$eval(c),s=angular.isFunction(i)?i(e):e[i],l=d.findGroupByName(s);l?l.items.push(e):d.groups.push({name:s,items:[e]})}),d.items=[],d.groups.forEach(function(e){d.items=d.items.concat(e.items)})}function s(e){d.items=e}d.setItemsFn=c?i:s,d.parserResult=l.parse(e),d.isGrouped=!!c,d.itemProperty=d.parserResult.itemName,d.refreshItems=function(e){e=e||d.parserResult.source(t);var c=d.selected;if(angular.isArray(c)&&!c.length||!d.removeSelected)d.setItemsFn(e);else if(void 0!==e){var i=e.filter(function(e){return c.indexOf(e)<0});d.setItemsFn(i)}},t.$watchCollection(d.parserResult.source,function(e){if(void 0===e||null===e)d.items=[];else{if(!angular.isArray(e))throw n("items","Expected an array but got '{0}'.",e);d.refreshItems(e),d.ngModel.$modelValue=null}})};var h;d.refresh=function(e){void 0!==e&&(h&&i.cancel(h),h=i(function(){t.$eval(e)},d.refreshDelay))},d.setActiveItem=function(e){d.activeIndex=d.items.indexOf(e)},d.isActive=function(e){if(!d.open)return!1;var t=d.items.indexOf(e[d.itemProperty]),c=t===d.activeIndex;return!c||0>t&&d.taggingLabel!==!1||0>t&&d.taggingLabel===!1?!1:(c&&!angular.isUndefined(d.onHighlightCallback)&&e.$eval(d.onHighlightCallback),c)},d.isDisabled=function(e){if(d.open){var t,c=d.items.indexOf(e[d.itemProperty]),i=!1;return c>=0&&!angular.isUndefined(d.disableChoiceExpression)&&(t=d.items[c],i=!!e.$eval(d.disableChoiceExpression),t._uiSelectChoiceDisabled=i),i}},d.select=function(e,c,s){if(void 0===e||!e._uiSelectChoiceDisabled){if(!d.items&&!d.search)return;if(!e||!e._uiSelectChoiceDisabled){if(d.tagging.isActivated){if(d.taggingLabel===!1)if(d.activeIndex<0){if(e=void 0!==d.tagging.fct?d.tagging.fct(d.search):d.search,!e||angular.equals(d.items[0],e))return}else e=d.items[d.activeIndex];else if(0===d.activeIndex){if(void 0===e)return;if(void 0!==d.tagging.fct&&"string"==typeof e){if(e=d.tagging.fct(d.search),!e)return}else"string"==typeof e&&(e=e.replace(d.taggingLabel,"").trim())}if(d.selected&&angular.isArray(d.selected)&&d.selected.filter(function(t){return angular.equals(t,e)}).length>0)return d.close(c),void 0}t.$broadcast("uis:select",e);var l={};l[d.parserResult.itemName]=e,i(function(){d.onSelectCallback(t,{$item:e,$model:d.parserResult.modelMapper(t,l)})}),d.closeOnSelect&&d.close(c),s&&"click"===s.type&&(d.clickTriggeredSelect=!0)}}},d.close=function(e){d.open&&(d.ngModel&&d.ngModel.$setTouched&&d.ngModel.$setTouched(),r(),d.open=!1,t.$broadcast("uis:close",e))},d.setFocus=function(){d.focus||d.focusInput[0].focus()},d.clear=function(e){d.select(void 0),e.stopPropagation(),d.focusser[0].focus()},d.toggle=function(e){d.open?(d.close(),e.preventDefault(),e.stopPropagation()):d.activate()},d.isLocked=function(e,t){var c,i=d.selected[t];return i&&!angular.isUndefined(d.lockChoiceExpression)&&(c=!!e.$eval(d.lockChoiceExpression),i._uiSelectChoiceLocked=c),c};var g=null;d.sizeSearchInput=function(){var e=d.searchInput[0],c=d.searchInput.parent().parent()[0],s=function(){return c.clientWidth*!!e.offsetParent},l=function(t){if(0===t)return!1;var c=t-e.offsetLeft-10;return 50>c&&(c=t),d.searchInput.css("width",c+"px"),!0};d.searchInput.css("width","10px"),i(function(){null!==g||l(s())||(g=t.$watch(s,function(e){l(e)&&(g(),g=null)}))})},d.searchInput.on("keydown",function(c){var s=c.which;t.$apply(function(){var t=!1;if((d.items.length>0||d.tagging.isActivated)&&(o(s),d.taggingTokens.isActivated)){for(var l=0;l<d.taggingTokens.tokens.length;l++)d.taggingTokens.tokens[l]===e.MAP[c.keyCode]&&d.search.length>0&&(t=!0);t&&i(function(){d.searchInput.triggerHandler("tagged");var t=d.search.replace(e.MAP[c.keyCode],"").trim();d.tagging.fct&&(t=d.tagging.fct(t)),t&&d.select(t,!0)})}}),e.isVerticalMovement(s)&&d.items.length>0&&u()}),d.searchInput.on("paste",function(e){var t=e.originalEvent.clipboardData.getData("text/plain");if(t&&t.length>0&&d.taggingTokens.isActivated&&d.tagging.fct){var c=t.split(d.taggingTokens.tokens[0]);c&&c.length>0&&(angular.forEach(c,function(e){var t=d.tagging.fct(e);t&&d.select(t,!0)}),e.preventDefault(),e.stopPropagation())}}),d.searchInput.on("tagged",function(){i(function(){r()})}),t.$on("$destroy",function(){d.searchInput.off("keyup keydown tagged blur paste")})}]),c.directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","uisOffset","$compile","$parse","$timeout",function(e,t,c,i,s,l,n){return{restrict:"EA",templateUrl:function(e,c){var i=c.theme||t.theme;return i+(angular.isDefined(c.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","^ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",compile:function(s,a){return angular.isDefined(a.multiple)?s.append("<ui-select-multiple/>").removeAttr("multiple"):s.append("<ui-select-single/>"),function(s,a,r,o,u){function d(e){if(g.open){var t=!1;if(t=window.jQuery?window.jQuery.contains(a[0],e.target):a[0].contains(e.target),!t&&!g.clickTriggeredSelect){var c=["input","button","textarea"],i=angular.element(e.target).scope(),l=i&&i.$select&&i.$select!==g;l||(l=~c.indexOf(e.target.tagName.toLowerCase())),g.close(l),s.$digest()}g.clickTriggeredSelect=!1}}function p(){var t=i(a);m=angular.element('<div class="ui-select-placeholder"></div>'),m[0].style.width=t.width+"px",m[0].style.height=t.height+"px",a.after(m),$=a[0].style.width,e.find("body").append(a),a[0].style.position="absolute",a[0].style.left=t.left+"px",a[0].style.top=t.top+"px",a[0].style.width=t.width+"px"}function h(){null!==m&&(m.replaceWith(a),m=null,a[0].style.position="",a[0].style.left="",a[0].style.top="",a[0].style.width=$)}var g=o[0],f=o[1];g.generatedId=t.generateId(),g.baseTitle=r.title||"Select box",g.focusserTitle=g.baseTitle+" focus",g.focusserId="focusser-"+g.generatedId,g.closeOnSelect=function(){return angular.isDefined(r.closeOnSelect)?l(r.closeOnSelect)():t.closeOnSelect}(),g.onSelectCallback=l(r.onSelect),g.onRemoveCallback=l(r.onRemove),g.ngModel=f,g.choiceGrouped=function(e){return g.isGrouped&&e&&e.name},r.tabindex&&r.$observe("tabindex",function(e){g.focusInput.attr("tabindex",e),a.removeAttr("tabindex")}),s.$watch("searchEnabled",function(){var e=s.$eval(r.searchEnabled);g.searchEnabled=void 0!==e?e:t.searchEnabled}),s.$watch("sortable",function(){var e=s.$eval(r.sortable);g.sortable=void 0!==e?e:t.sortable}),r.$observe("disabled",function(){g.disabled=void 0!==r.disabled?r.disabled:!1}),r.$observe("resetSearchInput",function(){var e=s.$eval(r.resetSearchInput);g.resetSearchInput=void 0!==e?e:!0}),r.$observe("tagging",function(){if(void 0!==r.tagging){var e=s.$eval(r.tagging);g.tagging={isActivated:!0,fct:e!==!0?e:void 0}}else g.tagging={isActivated:!1,fct:void 0}}),r.$observe("taggingLabel",function(){void 0!==r.tagging&&(g.taggingLabel="false"===r.taggingLabel?!1:void 0!==r.taggingLabel?r.taggingLabel:"(new)")}),r.$observe("taggingTokens",function(){if(void 0!==r.tagging){var e=void 0!==r.taggingTokens?r.taggingTokens.split("|"):[",","ENTER"];g.taggingTokens={isActivated:!0,tokens:e}}}),angular.isDefined(r.autofocus)&&n(function(){g.setFocus()}),angular.isDefined(r.focusOn)&&s.$on(r.focusOn,function(){n(function(){g.setFocus()})}),e.on("click",d),s.$on("$destroy",function(){e.off("click",d)}),u(s,function(e){var t=angular.element("<div>").append(e),i=t.querySelectorAll(".ui-select-match");if(i.removeAttr("ui-select-match"),i.removeAttr("data-ui-select-match"),1!==i.length)throw c("transcluded","Expected 1 .ui-select-match but got '{0}'.",i.length);a.querySelectorAll(".ui-select-match").replaceWith(i);var s=t.querySelectorAll(".ui-select-choices");if(s.removeAttr("ui-select-choices"),s.removeAttr("data-ui-select-choices"),1!==s.length)throw c("transcluded","Expected 1 .ui-select-choices but got '{0}'.",s.length);a.querySelectorAll(".ui-select-choices").replaceWith(s)});var v=s.$eval(r.appendToBody);(void 0!==v?v:t.appendToBody)&&(s.$watch("$select.open",function(e){e?p():h()}),s.$on("$destroy",function(){h()}));var m=null,$=""}}}}]),c.directive("uiSelectMatch",["uiSelectConfig",function(e){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(t){var c=t.parent().attr("theme")||e.theme,i=t.parent().attr("multiple");return c+(i?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(t,c,i,s){function l(e){s.allowClear=angular.isDefined(e)?""===e?!0:"true"===e.toLowerCase():!1}s.lockChoiceExpression=i.uiLockChoice,i.$observe("placeholder",function(t){s.placeholder=void 0!==t?t:e.placeholder}),i.$observe("allowClear",l),l(i.allowClear),s.multiple&&s.sizeSearchInput()}}}]),c.directive("uiSelectMultiple",["uiSelectMinErr","$timeout",function(t,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],controller:["$scope","$timeout",function(e,t){var c,i=this,s=e.$select;e.$evalAsync(function(){c=e.ngModel}),i.activeMatchIndex=-1,i.updateModel=function(){c.$setViewValue(Date.now()),i.refreshComponent()},i.refreshComponent=function(){s.refreshItems(),s.sizeSearchInput()},i.removeChoice=function(c){var l=s.selected[c];if(!l._uiSelectChoiceLocked){var n={};n[s.parserResult.itemName]=l,s.selected.splice(c,1),i.activeMatchIndex=-1,s.sizeSearchInput(),t(function(){s.onRemoveCallback(e,{$item:l,$model:s.parserResult.modelMapper(e,n)})}),i.updateModel()}},i.getPlaceholder=function(){return s.selected.length?void 0:s.placeholder}}],controllerAs:"$selectMultiple",link:function(i,s,l,n){function a(e){return angular.isNumber(e.selectionStart)?e.selectionStart:e.value.length}function r(t){function c(){switch(t){case e.LEFT:return~h.activeMatchIndex?u:n;case e.RIGHT:return~h.activeMatchIndex&&r!==n?o:(d.activate(),!1);case e.BACKSPACE:return~h.activeMatchIndex?(h.removeChoice(r),u):n;case e.DELETE:return~h.activeMatchIndex?(h.removeChoice(h.activeMatchIndex),r):!1}}var i=a(d.searchInput[0]),s=d.selected.length,l=0,n=s-1,r=h.activeMatchIndex,o=h.activeMatchIndex+1,u=h.activeMatchIndex-1,p=r;return i>0||d.search.length&&t==e.RIGHT?!1:(d.close(),p=c(),h.activeMatchIndex=d.selected.length&&p!==!1?Math.min(n,Math.max(l,p)):-1,!0)}function o(e){if(void 0===e||void 0===d.search)return!1;var t=e.filter(function(e){return void 0===d.search.toUpperCase()||void 0===e?!1:e.toUpperCase()===d.search.toUpperCase()}).length>0;return t}function u(e,t){var c=-1;if(angular.isArray(e))for(var i=angular.copy(e),s=0;s<i.length;s++)if(void 0===d.tagging.fct)i[s]+" "+d.taggingLabel===t&&(c=s);else{var l=i[s];l.isTag=!0,angular.equals(l,t)&&(c=s)}return c}var d=n[0],p=i.ngModel=n[1],h=i.$selectMultiple;d.multiple=!0,d.removeSelected=!0,d.focusInput=d.searchInput,p.$parsers.unshift(function(){for(var e,t={},c=[],s=d.selected.length-1;s>=0;s--)t={},t[d.parserResult.itemName]=d.selected[s],e=d.parserResult.modelMapper(i,t),c.unshift(e);return c}),p.$formatters.unshift(function(e){var t,c=d.parserResult.source(i,{$select:{search:""}}),s={};if(!c)return e;var l=[],n=function(e,c){if(e&&e.length){for(var n=e.length-1;n>=0;n--){if(s[d.parserResult.itemName]=e[n],t=d.parserResult.modelMapper(i,s),d.parserResult.trackByExp){var a=/\.(.+)/.exec(d.parserResult.trackByExp);if(a.length>0&&t[a[1]]==c[a[1]])return l.unshift(e[n]),!0}if(angular.equals(t,c))return l.unshift(e[n]),!0}return!1}};if(!e)return l;for(var a=e.length-1;a>=0;a--)n(d.selected,e[a])||n(c,e[a])||l.unshift(e[a]);return l}),i.$watchCollection(function(){return p.$modelValue},function(e,t){t!=e&&(p.$modelValue=null,h.refreshComponent())}),p.$render=function(){if(!angular.isArray(p.$viewValue)){if(!angular.isUndefined(p.$viewValue)&&null!==p.$viewValue)throw t("multiarr","Expected model value to be array but got '{0}'",p.$viewValue);d.selected=[]}d.selected=p.$viewValue,i.$evalAsync()},i.$on("uis:select",function(e,t){d.selected.push(t),h.updateModel()}),i.$on("uis:activate",function(){h.activeMatchIndex=-1}),i.$watch("$select.disabled",function(e,t){t&&!e&&d.sizeSearchInput()}),d.searchInput.on("keydown",function(t){var c=t.which;i.$apply(function(){var i=!1;e.isHorizontalMovement(c)&&(i=r(c)),i&&c!=e.TAB&&(t.preventDefault(),t.stopPropagation())})}),d.searchInput.on("keyup",function(t){if(e.isVerticalMovement(t.which)||i.$evalAsync(function(){d.activeIndex=d.taggingLabel===!1?-1:0}),d.tagging.isActivated&&d.search.length>0){if(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||e.isVerticalMovement(t.which))return;if(d.activeIndex=d.taggingLabel===!1?-1:0,d.taggingLabel===!1)return;var c,s,l,n,a=angular.copy(d.items),r=angular.copy(d.items),p=!1,h=-1;if(void 0!==d.tagging.fct){if(l=d.$filter("filter")(a,{isTag:!0}),l.length>0&&(n=l[0]),a.length>0&&n&&(p=!0,a=a.slice(1,a.length),r=r.slice(1,r.length)),c=d.tagging.fct(d.search),c.isTag=!0,r.filter(function(e){return angular.equals(e,d.tagging.fct(d.search))}).length>0)return;c.isTag=!0}else{if(l=d.$filter("filter")(a,function(e){return e.match(d.taggingLabel)}),l.length>0&&(n=l[0]),s=a[0],void 0!==s&&a.length>0&&n&&(p=!0,a=a.slice(1,a.length),r=r.slice(1,r.length)),c=d.search+" "+d.taggingLabel,u(d.selected,d.search)>-1)return;if(o(r.concat(d.selected)))return p&&(a=r,i.$evalAsync(function(){d.activeIndex=0,d.items=a})),void 0;if(o(r))return p&&(d.items=r.slice(1,r.length)),void 0}p&&(h=u(d.selected,c)),h>-1?a=a.slice(h+1,a.length-1):(a=[],a.push(c),a=a.concat(r)),i.$evalAsync(function(){d.activeIndex=0,d.items=a})}}),d.searchInput.on("blur",function(){c(function(){h.activeMatchIndex=-1})})}}}]),c.directive("uiSelectSingle",["$timeout","$compile",function(t,c){return{restrict:"EA",require:["^uiSelect","^ngModel"],link:function(i,s,l,n){var a=n[0],r=n[1];r.$parsers.unshift(function(e){var t,c={};return c[a.parserResult.itemName]=e,t=a.parserResult.modelMapper(i,c)}),r.$formatters.unshift(function(e){var t,c=a.parserResult.source(i,{$select:{search:""}}),s={};if(c){var l=function(c){return s[a.parserResult.itemName]=c,t=a.parserResult.modelMapper(i,s),t==e};if(a.selected&&l(a.selected))return a.selected;for(var n=c.length-1;n>=0;n--)if(l(c[n]))return c[n]}return e}),i.$watch("$select.selected",function(e){r.$viewValue!==e&&r.$setViewValue(e)}),r.$render=function(){a.selected=r.$viewValue},i.$on("uis:select",function(e,t){a.selected=t}),i.$on("uis:close",function(e,c){t(function(){a.focusser.prop("disabled",!1),c||a.focusser[0].focus()},0,!1)}),i.$on("uis:activate",function(){o.prop("disabled",!0)});var o=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />");c(o)(i),a.focusser=o,a.focusInput=o,s.parent().append(o),o.bind("focus",function(){i.$evalAsync(function(){a.focus=!0})}),o.bind("blur",function(){i.$evalAsync(function(){a.focus=!1})}),o.bind("keydown",function(t){return t.which===e.BACKSPACE?(t.preventDefault(),t.stopPropagation(),a.select(void 0),i.$apply(),void 0):(t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||((t.which==e.DOWN||t.which==e.UP||t.which==e.ENTER||t.which==e.SPACE)&&(t.preventDefault(),t.stopPropagation(),a.activate()),i.$digest()),void 0)}),o.bind("keyup input",function(t){t.which===e.TAB||e.isControl(t)||e.isFunctionKey(t)||t.which===e.ESC||t.which==e.ENTER||t.which===e.BACKSPACE||(a.activate(o.val()),o.val(""),i.$digest())})}}}]),c.directive("uiSelectSort",["$timeout","uiSelectConfig","uiSelectMinErr",function(e,t,c){return{require:"^uiSelect",link:function(t,i,s,l){if(null===t[s.uiSelectSort])throw c("sort","Expected a list to sort");var n=angular.extend({axis:"horizontal"},t.$eval(s.uiSelectSortOptions)),a=n.axis,r="dragging",o="dropping",u="dropping-before",d="dropping-after";t.$watch(function(){return l.sortable},function(e){e?i.attr("draggable",!0):i.removeAttr("draggable")}),i.on("dragstart",function(e){i.addClass(r),(e.dataTransfer||e.originalEvent.dataTransfer).setData("text/plain",t.$index)}),i.on("dragend",function(){i.removeClass(r)});var p,h=function(e,t){this.splice(t,0,this.splice(e,1)[0])},g=function(e){e.preventDefault();var t="vertical"===a?e.offsetY||e.layerY||(e.originalEvent?e.originalEvent.offsetY:0):e.offsetX||e.layerX||(e.originalEvent?e.originalEvent.offsetX:0);t<this["vertical"===a?"offsetHeight":"offsetWidth"]/2?(i.removeClass(d),i.addClass(u)):(i.removeClass(u),i.addClass(d))},f=function(t){t.preventDefault();var c=parseInt((t.dataTransfer||t.originalEvent.dataTransfer).getData("text/plain"),10);e.cancel(p),p=e(function(){v(c)},20)},v=function(e){var c=t.$eval(s.uiSelectSort),l=c[e],n=null;n=i.hasClass(u)?e<t.$index?t.$index-1:t.$index:e<t.$index?t.$index:t.$index+1,h.apply(c,[e,n]),t.$apply(function(){t.$emit("uiSelectSort:change",{array:c,item:l,from:e,to:n})}),i.removeClass(o),i.removeClass(u),i.removeClass(d),i.off("drop",f)};i.on("dragenter",function(){i.hasClass(r)||(i.addClass(o),i.on("dragover",g),i.on("drop",f))}),i.on("dragleave",function(e){e.target==i&&(i.removeClass(o),i.removeClass(u),i.removeClass(d),i.off("dragover",g),i.off("drop",f))})}}}]),c.service("uisRepeatParser",["uiSelectMinErr","$parse",function(e,t){var c=this;c.parse=function(c){var i=c.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!i)throw e("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",c);return{itemName:i[2],source:t(i[3]),trackByExp:i[4],modelMapper:t(i[1]||i[2])}},c.getGroupNgRepeatExpression=function(){return"$group in $select.groups"},c.getNgRepeatExpression=function(e,t,c,i){var s=e+" in "+(i?"$group.items":t);return c&&(s+=" track by "+c),s}}])}(),angular.module("ui.select").run(["$templateCache",function(e){e.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="listbox" ng-show="$select.items.length > 0"><li class="ui-select-choices-group" id="ui-select-choices-{{ $select.generatedId }}"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header" ng-bind="$group.name"></div><div id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}" role="option"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>'),e.put("bootstrap/match-multiple.tpl.html",'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$selectMultiple.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$selectMultiple.activeMatchIndex === $index, \'select-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$selectMultiple.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>'),e.put("bootstrap/match.tpl.html",'<div class="ui-select-match" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}"><span tabindex="-1" class="btn btn-default form-control ui-select-toggle" aria-label="{{ $select.baseTitle }} activate" ng-disabled="$select.disabled" ng-click="$select.activate()" style="outline: 0;"><span ng-show="$select.isEmpty()" class="ui-select-placeholder text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="ui-select-match-text pull-left" ng-class="{\'ui-select-allow-clear\': $select.allowClear && !$select.isEmpty()}" ng-transclude=""></span> <i class="caret pull-right" ng-click="$select.toggle($event)"></i> <a ng-show="$select.allowClear && !$select.isEmpty()" aria-label="{{ $select.baseTitle }} clear" style="margin-right: 10px" ng-click="$select.clear($event)" class="btn btn-xs btn-link pull-right"><i class="glyphicon glyphicon-remove" aria-hidden="true"></i></a></span></div>'),e.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.activate()" ng-model="$select.search" role="combobox" aria-label="{{ $select.baseTitle }}" ondrop="return false;"></div><div class="ui-select-choices"></div></div>'),e.put("bootstrap/select.tpl.html",'<div class="ui-select-container ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" aria-expanded="true" aria-label="{{ $select.baseTitle }}" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>'),e.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.choiceGrouped($group) }"><div ng-show="$select.choiceGrouped($group)" class="ui-select-choices-group-label select2-result-label" ng-bind="$group.name"></div><ul role="listbox" id="ui-select-choices-{{ $select.generatedId }}" ng-class="{\'select2-result-sub\': $select.choiceGrouped($group), \'select2-result-single\': !$select.choiceGrouped($group) }"><li role="option" id="ui-select-choices-row-{{ $select.generatedId }}-{{$index}}" class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>'),e.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$selectMultiple.activeMatchIndex === $index, \'select2-locked\':$select.isLocked(this, $index)}" ui-select-sort="$select.selected"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$selectMultiple.removeChoice($index)" tabindex="-1"></a></li></span>'),e.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)" aria-label="{{ $select.baseTitle }} select"><span ng-show="$select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <abbr ng-if="$select.allowClear && !$select.isEmpty()" class="select2-search-choice-close" ng-click="$select.clear($event)"></abbr> <span class="select2-arrow ui-select-toggle"><b></b></span></a>'),e.put("select2/select-multiple.tpl.html",'<div class="ui-select-container ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="select2-input ui-select-search" placeholder="{{$selectMultiple.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.activate()" style="width: 34px;" ondrop="return false;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>'),e.put("select2/select.tpl.html",'<div class="ui-select-container select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open open\': $select.open, \'select2-container-disabled\': $select.disabled, \'select2-container-active\': $select.focus, \'select2-allowclear\': $select.allowClear && !$select.isEmpty()}"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="combobox" aria-expanded="true" aria-owns="ui-select-choices-{{ $select.generatedId }}" aria-label="{{ $select.baseTitle }}" aria-activedescendant="ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>'),e.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup" role="listbox"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header" ng-bind="$group.name"></div><div role="option" class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>'),e.put("selectize/match.tpl.html",'<div ng-hide="($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>'),e.put("selectize/select.tpl.html",'<div class="ui-select-container selectize-control single" ng-class="{\'open\': $select.open}"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.activate()"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled" aria-label="{{ $select.baseTitle }}"></div><div class="ui-select-choices"></div></div>')
}]);;
/*
 AngularJS v1.3.15
 (c) 2010-2014 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(N,f,W){'use strict';f.module("ngAnimate",["ng"]).directive("ngAnimateChildren",function(){return function(X,C,g){g=g.ngAnimateChildren;f.isString(g)&&0===g.length?C.data("$$ngAnimateChildren",!0):X.$watch(g,function(f){C.data("$$ngAnimateChildren",!!f)})}}).factory("$$animateReflow",["$$rAF","$document",function(f,C){return function(g){return f(function(){g()})}}]).config(["$provide","$animateProvider",function(X,C){function g(f){for(var n=0;n<f.length;n++){var g=f[n];if(1==g.nodeType)return g}}
function ba(f,n){return g(f)==g(n)}var t=f.noop,n=f.forEach,da=C.$$selectors,aa=f.isArray,ea=f.isString,ga=f.isObject,r={running:!0},u;X.decorator("$animate",["$delegate","$$q","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document","$templateRequest","$$jqLite",function(O,N,M,Y,y,H,P,W,Z,Q){function R(a,c){var b=a.data("$$ngAnimateState")||{};c&&(b.running=!0,b.structural=!0,a.data("$$ngAnimateState",b));return b.disabled||b.running&&b.structural}function D(a){var c,b=N.defer();
b.promise.$$cancelFn=function(){c&&c()};P.$$postDigest(function(){c=a(function(){b.resolve()})});return b.promise}function I(a){if(ga(a))return a.tempClasses&&ea(a.tempClasses)&&(a.tempClasses=a.tempClasses.split(/\s+/)),a}function S(a,c,b){b=b||{};var d={};n(b,function(e,a){n(a.split(" "),function(a){d[a]=e})});var h=Object.create(null);n((a.attr("class")||"").split(/\s+/),function(e){h[e]=!0});var f=[],l=[];n(c&&c.classes||[],function(e,a){var b=h[a],c=d[a]||{};!1===e?(b||"addClass"==c.event)&&
l.push(a):!0===e&&(b&&"removeClass"!=c.event||f.push(a))});return 0<f.length+l.length&&[f.join(" "),l.join(" ")]}function T(a){if(a){var c=[],b={};a=a.substr(1).split(".");(Y.transitions||Y.animations)&&c.push(M.get(da[""]));for(var d=0;d<a.length;d++){var f=a[d],k=da[f];k&&!b[f]&&(c.push(M.get(k)),b[f]=!0)}return c}}function U(a,c,b,d){function h(e,a){var b=e[a],c=e["before"+a.charAt(0).toUpperCase()+a.substr(1)];if(b||c)return"leave"==a&&(c=b,b=null),u.push({event:a,fn:b}),J.push({event:a,fn:c}),
!0}function k(c,l,w){var E=[];n(c,function(a){a.fn&&E.push(a)});var m=0;n(E,function(c,f){var p=function(){a:{if(l){(l[f]||t)();if(++m<E.length)break a;l=null}w()}};switch(c.event){case "setClass":l.push(c.fn(a,e,A,p,d));break;case "animate":l.push(c.fn(a,b,d.from,d.to,p));break;case "addClass":l.push(c.fn(a,e||b,p,d));break;case "removeClass":l.push(c.fn(a,A||b,p,d));break;default:l.push(c.fn(a,p,d))}});l&&0===l.length&&w()}var l=a[0];if(l){d&&(d.to=d.to||{},d.from=d.from||{});var e,A;aa(b)&&(e=
b[0],A=b[1],e?A?b=e+" "+A:(b=e,c="addClass"):(b=A,c="removeClass"));var w="setClass"==c,E=w||"addClass"==c||"removeClass"==c||"animate"==c,p=a.attr("class")+" "+b;if(x(p)){var ca=t,m=[],J=[],g=t,s=[],u=[],p=(" "+p).replace(/\s+/g,".");n(T(p),function(a){!h(a,c)&&w&&(h(a,"addClass"),h(a,"removeClass"))});return{node:l,event:c,className:b,isClassBased:E,isSetClassOperation:w,applyStyles:function(){d&&a.css(f.extend(d.from||{},d.to||{}))},before:function(a){ca=a;k(J,m,function(){ca=t;a()})},after:function(a){g=
a;k(u,s,function(){g=t;a()})},cancel:function(){m&&(n(m,function(a){(a||t)(!0)}),ca(!0));s&&(n(s,function(a){(a||t)(!0)}),g(!0))}}}}}function G(a,c,b,d,h,k,l,e){function A(e){var l="$animate:"+e;J&&J[l]&&0<J[l].length&&H(function(){b.triggerHandler(l,{event:a,className:c})})}function w(){A("before")}function E(){A("after")}function p(){p.hasBeenRun||(p.hasBeenRun=!0,k())}function g(){if(!g.hasBeenRun){m&&m.applyStyles();g.hasBeenRun=!0;l&&l.tempClasses&&n(l.tempClasses,function(a){u.removeClass(b,
a)});var w=b.data("$$ngAnimateState");w&&(m&&m.isClassBased?B(b,c):(H(function(){var e=b.data("$$ngAnimateState")||{};fa==e.index&&B(b,c,a)}),b.data("$$ngAnimateState",w)));A("close");e()}}var m=U(b,a,c,l);if(!m)return p(),w(),E(),g(),t;a=m.event;c=m.className;var J=f.element._data(m.node),J=J&&J.events;d||(d=h?h.parent():b.parent());if(z(b,d))return p(),w(),E(),g(),t;d=b.data("$$ngAnimateState")||{};var L=d.active||{},s=d.totalActive||0,q=d.last;h=!1;if(0<s){s=[];if(m.isClassBased)"setClass"==q.event?
(s.push(q),B(b,c)):L[c]&&(v=L[c],v.event==a?h=!0:(s.push(v),B(b,c)));else if("leave"==a&&L["ng-leave"])h=!0;else{for(var v in L)s.push(L[v]);d={};B(b,!0)}0<s.length&&n(s,function(a){a.cancel()})}!m.isClassBased||m.isSetClassOperation||"animate"==a||h||(h="addClass"==a==b.hasClass(c));if(h)return p(),w(),E(),A("close"),e(),t;L=d.active||{};s=d.totalActive||0;if("leave"==a)b.one("$destroy",function(a){a=f.element(this);var e=a.data("$$ngAnimateState");e&&(e=e.active["ng-leave"])&&(e.cancel(),B(a,"ng-leave"))});
u.addClass(b,"ng-animate");l&&l.tempClasses&&n(l.tempClasses,function(a){u.addClass(b,a)});var fa=K++;s++;L[c]=m;b.data("$$ngAnimateState",{last:m,active:L,index:fa,totalActive:s});w();m.before(function(e){var l=b.data("$$ngAnimateState");e=e||!l||!l.active[c]||m.isClassBased&&l.active[c].event!=a;p();!0===e?g():(E(),m.after(g))});return m.cancel}function q(a){if(a=g(a))a=f.isFunction(a.getElementsByClassName)?a.getElementsByClassName("ng-animate"):a.querySelectorAll(".ng-animate"),n(a,function(a){a=
f.element(a);(a=a.data("$$ngAnimateState"))&&a.active&&n(a.active,function(a){a.cancel()})})}function B(a,c){if(ba(a,y))r.disabled||(r.running=!1,r.structural=!1);else if(c){var b=a.data("$$ngAnimateState")||{},d=!0===c;!d&&b.active&&b.active[c]&&(b.totalActive--,delete b.active[c]);if(d||!b.totalActive)u.removeClass(a,"ng-animate"),a.removeData("$$ngAnimateState")}}function z(a,c){if(r.disabled)return!0;if(ba(a,y))return r.running;var b,d,g;do{if(0===c.length)break;var k=ba(c,y),l=k?r:c.data("$$ngAnimateState")||
{};if(l.disabled)return!0;k&&(g=!0);!1!==b&&(k=c.data("$$ngAnimateChildren"),f.isDefined(k)&&(b=k));d=d||l.running||l.last&&!l.last.isClassBased}while(c=c.parent());return!g||!b&&d}u=Q;y.data("$$ngAnimateState",r);var $=P.$watch(function(){return Z.totalPendingRequests},function(a,c){0===a&&($(),P.$$postDigest(function(){P.$$postDigest(function(){r.running=!1})}))}),K=0,V=C.classNameFilter(),x=V?function(a){return V.test(a)}:function(){return!0};return{animate:function(a,c,b,d,h){d=d||"ng-inline-animate";
h=I(h)||{};h.from=b?c:null;h.to=b?b:c;return D(function(b){return G("animate",d,f.element(g(a)),null,null,t,h,b)})},enter:function(a,c,b,d){d=I(d);a=f.element(a);c=c&&f.element(c);b=b&&f.element(b);R(a,!0);O.enter(a,c,b);return D(function(h){return G("enter","ng-enter",f.element(g(a)),c,b,t,d,h)})},leave:function(a,c){c=I(c);a=f.element(a);q(a);R(a,!0);return D(function(b){return G("leave","ng-leave",f.element(g(a)),null,null,function(){O.leave(a)},c,b)})},move:function(a,c,b,d){d=I(d);a=f.element(a);
c=c&&f.element(c);b=b&&f.element(b);q(a);R(a,!0);O.move(a,c,b);return D(function(h){return G("move","ng-move",f.element(g(a)),c,b,t,d,h)})},addClass:function(a,c,b){return this.setClass(a,c,[],b)},removeClass:function(a,c,b){return this.setClass(a,[],c,b)},setClass:function(a,c,b,d){d=I(d);a=f.element(a);a=f.element(g(a));if(R(a))return O.$$setClassImmediately(a,c,b,d);var h,k=a.data("$$animateClasses"),l=!!k;k||(k={classes:{}});h=k.classes;c=aa(c)?c:c.split(" ");n(c,function(a){a&&a.length&&(h[a]=
!0)});b=aa(b)?b:b.split(" ");n(b,function(a){a&&a.length&&(h[a]=!1)});if(l)return d&&k.options&&(k.options=f.extend(k.options||{},d)),k.promise;a.data("$$animateClasses",k={classes:h,options:d});return k.promise=D(function(e){var l=a.parent(),b=g(a),c=b.parentNode;if(!c||c.$$NG_REMOVED||b.$$NG_REMOVED)e();else{b=a.data("$$animateClasses");a.removeData("$$animateClasses");var c=a.data("$$ngAnimateState")||{},d=S(a,b,c.active);return d?G("setClass",d,a,l,null,function(){d[0]&&O.$$addClassImmediately(a,
d[0]);d[1]&&O.$$removeClassImmediately(a,d[1])},b.options,e):e()}})},cancel:function(a){a.$$cancelFn()},enabled:function(a,c){switch(arguments.length){case 2:if(a)B(c);else{var b=c.data("$$ngAnimateState")||{};b.disabled=!0;c.data("$$ngAnimateState",b)}break;case 1:r.disabled=!a;break;default:a=!r.disabled}return!!a}}}]);C.register("",["$window","$sniffer","$timeout","$$animateReflow",function(r,C,M,Y){function y(){b||(b=Y(function(){c=[];b=null;x={}}))}function H(a,e){b&&b();c.push(e);b=Y(function(){n(c,
function(a){a()});c=[];b=null;x={}})}function P(a,e){var b=g(a);a=f.element(b);k.push(a);b=Date.now()+e;b<=h||(M.cancel(d),h=b,d=M(function(){X(k);k=[]},e,!1))}function X(a){n(a,function(a){(a=a.data("$$ngAnimateCSS3Data"))&&n(a.closeAnimationFns,function(a){a()})})}function Z(a,e){var b=e?x[e]:null;if(!b){var c=0,d=0,f=0,g=0;n(a,function(a){if(1==a.nodeType){a=r.getComputedStyle(a)||{};c=Math.max(Q(a[z+"Duration"]),c);d=Math.max(Q(a[z+"Delay"]),d);g=Math.max(Q(a[K+"Delay"]),g);var e=Q(a[K+"Duration"]);
0<e&&(e*=parseInt(a[K+"IterationCount"],10)||1);f=Math.max(e,f)}});b={total:0,transitionDelay:d,transitionDuration:c,animationDelay:g,animationDuration:f};e&&(x[e]=b)}return b}function Q(a){var e=0;a=ea(a)?a.split(/\s*,\s*/):[];n(a,function(a){e=Math.max(parseFloat(a)||0,e)});return e}function R(b,e,c,d){b=0<=["ng-enter","ng-leave","ng-move"].indexOf(c);var f,p=e.parent(),h=p.data("$$ngAnimateKey");h||(p.data("$$ngAnimateKey",++a),h=a);f=h+"-"+g(e).getAttribute("class");var p=f+" "+c,h=x[p]?++x[p].total:
0,m={};if(0<h){var n=c+"-stagger",m=f+" "+n;(f=!x[m])&&u.addClass(e,n);m=Z(e,m);f&&u.removeClass(e,n)}u.addClass(e,c);var n=e.data("$$ngAnimateCSS3Data")||{},k=Z(e,p);f=k.transitionDuration;k=k.animationDuration;if(b&&0===f&&0===k)return u.removeClass(e,c),!1;c=d||b&&0<f;b=0<k&&0<m.animationDelay&&0===m.animationDuration;e.data("$$ngAnimateCSS3Data",{stagger:m,cacheKey:p,running:n.running||0,itemIndex:h,blockTransition:c,closeAnimationFns:n.closeAnimationFns||[]});p=g(e);c&&(I(p,!0),d&&e.css(d));
b&&(p.style[K+"PlayState"]="paused");return!0}function D(a,e,b,c,d){function f(){e.off(D,h);u.removeClass(e,k);u.removeClass(e,t);z&&M.cancel(z);G(e,b);var a=g(e),c;for(c in s)a.style.removeProperty(s[c])}function h(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||b.timeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-H,0)>=C&&b>=x&&c()}var m=g(e);a=e.data("$$ngAnimateCSS3Data");if(-1!=m.getAttribute("class").indexOf(b)&&a){var k="",t="";n(b.split(" "),function(a,
b){var e=(0<b?" ":"")+a;k+=e+"-active";t+=e+"-pending"});var s=[],q=a.itemIndex,v=a.stagger,r=0;if(0<q){r=0;0<v.transitionDelay&&0===v.transitionDuration&&(r=v.transitionDelay*q);var y=0;0<v.animationDelay&&0===v.animationDuration&&(y=v.animationDelay*q,s.push(B+"animation-play-state"));r=Math.round(100*Math.max(r,y))/100}r||(u.addClass(e,k),a.blockTransition&&I(m,!1));var F=Z(e,a.cacheKey+" "+k),x=Math.max(F.transitionDuration,F.animationDuration);if(0===x)u.removeClass(e,k),G(e,b),c();else{!r&&
d&&0<Object.keys(d).length&&(F.transitionDuration||(e.css("transition",F.animationDuration+"s linear all"),s.push("transition")),e.css(d));var q=Math.max(F.transitionDelay,F.animationDelay),C=1E3*q;0<s.length&&(v=m.getAttribute("style")||"",";"!==v.charAt(v.length-1)&&(v+=";"),m.setAttribute("style",v+" "));var H=Date.now(),D=V+" "+$,q=1E3*(r+1.5*(q+x)),z;0<r&&(u.addClass(e,t),z=M(function(){z=null;0<F.transitionDuration&&I(m,!1);0<F.animationDuration&&(m.style[K+"PlayState"]="");u.addClass(e,k);
u.removeClass(e,t);d&&(0===F.transitionDuration&&e.css("transition",F.animationDuration+"s linear all"),e.css(d),s.push("transition"))},1E3*r,!1));e.on(D,h);a.closeAnimationFns.push(function(){f();c()});a.running++;P(e,q);return f}}else c()}function I(a,b){a.style[z+"Property"]=b?"none":""}function S(a,b,c,d){if(R(a,b,c,d))return function(a){a&&G(b,c)}}function T(a,b,c,d,f){if(b.data("$$ngAnimateCSS3Data"))return D(a,b,c,d,f);G(b,c);d()}function U(a,b,c,d,f){var g=S(a,b,c,f.from);if(g){var h=g;H(b,
function(){h=T(a,b,c,d,f.to)});return function(a){(h||t)(a)}}y();d()}function G(a,b){u.removeClass(a,b);var c=a.data("$$ngAnimateCSS3Data");c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData("$$ngAnimateCSS3Data"))}function q(a,b){var c="";a=aa(a)?a:a.split(/\s+/);n(a,function(a,d){a&&0<a.length&&(c+=(0<d?" ":"")+a+b)});return c}var B="",z,$,K,V;N.ontransitionend===W&&N.onwebkittransitionend!==W?(B="-webkit-",z="WebkitTransition",$="webkitTransitionEnd transitionend"):(z="transition",
$="transitionend");N.onanimationend===W&&N.onwebkitanimationend!==W?(B="-webkit-",K="WebkitAnimation",V="webkitAnimationEnd animationend"):(K="animation",V="animationend");var x={},a=0,c=[],b,d=null,h=0,k=[];return{animate:function(a,b,c,d,f,g){g=g||{};g.from=c;g.to=d;return U("animate",a,b,f,g)},enter:function(a,b,c){c=c||{};return U("enter",a,"ng-enter",b,c)},leave:function(a,b,c){c=c||{};return U("leave",a,"ng-leave",b,c)},move:function(a,b,c){c=c||{};return U("move",a,"ng-move",b,c)},beforeSetClass:function(a,
b,c,d,f){f=f||{};b=q(c,"-remove")+" "+q(b,"-add");if(f=S("setClass",a,b,f.from))return H(a,d),f;y();d()},beforeAddClass:function(a,b,c,d){d=d||{};if(b=S("addClass",a,q(b,"-add"),d.from))return H(a,c),b;y();c()},beforeRemoveClass:function(a,b,c,d){d=d||{};if(b=S("removeClass",a,q(b,"-remove"),d.from))return H(a,c),b;y();c()},setClass:function(a,b,c,d,f){f=f||{};c=q(c,"-remove");b=q(b,"-add");return T("setClass",a,c+" "+b,d,f.to)},addClass:function(a,b,c,d){d=d||{};return T("addClass",a,q(b,"-add"),
c,d.to)},removeClass:function(a,b,c,d){d=d||{};return T("removeClass",a,q(b,"-remove"),c,d.to)}}}])}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map
;
/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});{c[0].offsetWidth}c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(a,b,c,d){function e(){f();var b=+a.interval;!isNaN(b)&&b>0&&(h=c(g,b))}function f(){h&&(c.cancel(h),h=null)}function g(){var b=+a.interval;i&&!isNaN(b)&&b>0?a.next():a.pause()}var h,i,j=this,k=j.slides=a.slides=[],l=-1;j.currentSlide=null;var m=!1;j.select=a.select=function(c,f){function g(){if(!m){if(j.currentSlide&&angular.isString(f)&&!a.noTransition&&c.$element){c.$element.addClass(f);{c.$element[0].offsetWidth}angular.forEach(k,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(c,{direction:f,active:!0,entering:!0}),angular.extend(j.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=d(c.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(c,j.currentSlide)}else h(c,j.currentSlide);j.currentSlide=c,l=i,e()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var i=k.indexOf(c);void 0===f&&(f=i>l?"next":"prev"),c&&c!==j.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){m=!0}),j.indexOfSlide=function(a){return k.indexOf(a)},a.next=function(){var b=(l+1)%k.length;return a.$currentTransition?void 0:j.select(k[b],"next")},a.prev=function(){var b=0>l-1?k.length-1:l-1;return a.$currentTransition?void 0:j.select(k[b],"prev")},a.isActive=function(a){return j.currentSlide===a},a.$watch("interval",e),a.$on("$destroy",f),a.play=function(){i||(i=!0,e())},a.pause=function(){a.noPause||(i=!1,f())},j.addSlide=function(b,c){b.$element=c,k.push(b),1===k.length||b.active?(j.select(k[k.length-1]),1==k.length&&a.play()):b.active=!1},j.removeSlide=function(a){var b=k.indexOf(a);k.splice(b,1),k.length>0&&a.active?j.select(b>=k.length?k[b-1]:k[b]):l>b&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(e,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}this.parsers={};var e={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(b,e){if(!angular.isString(b)||!e)return b;e=a.DATETIME_FORMATS[e]||e,this.parsers[e]||(this.parsers[e]=c(e));var f=this.parsers[e],g=f.regex,h=f.map,i=b.match(g);if(i&&i.length){for(var j,k={year:1900,month:0,date:1,hours:0},l=1,m=i.length;m>l;l++){var n=h[l-1];n.apply&&n.apply.call(k,i[l])}return d(k.year,k.month,k.date)&&(j=new Date(k.year,k.month,k.date,k.hours)),j}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(b.initDate)?a.$parent.$eval(b.initDate):new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$modelValue){var a=new Date(j.$modelValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$modelValue?new Date(j.$modelValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$modelValue?new Date(j.$modelValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$modelValue?new Date(j.$modelValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=h(b.rows[0][0].date),p=b.rows.length;b.weekNumbers.push(o++)<p;);}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(a){if(angular.isDate(a)&&!isNaN(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=f.parse(a,n)||new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}var n,o=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,p=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]},j.$observe("datepickerPopup",function(a){n=a||g.datepickerPopup,k.$render()});var q=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");q.attr({"ng-model":"date","ng-change":"dateSelection()"});var r=angular.element(q.children()[0]);j.datepickerOptions&&angular.forEach(h.$parent.$eval(j.datepickerOptions),function(a,b){r.attr(l(b),a)}),h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),r.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&r.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),k.$parsers.unshift(m),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a),k.$setViewValue(h.date),k.$render(),o&&(h.isOpen=!1,i[0].focus())},i.bind("input change keyup",function(){h.$apply(function(){h.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,n):"";i.val(a),h.date=m(k.$modelValue)};var s=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},t=function(a){h.keydown(a)};i.bind("keydown",t),h.keydown=function(a){27===a.which?(a.preventDefault(),a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=p?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",s)):c.unbind("click",s)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(k.$modelValue)?(a=new Date(k.$modelValue),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var u=a(q)(h);q.remove(),p?c.find("body").append(u):i.after(u),h.$on("$destroy",function(){u.remove(),i.unbind("keydown",t),c.unbind("click",s)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(a){if(b){var c=b.getToggleElement();a&&c&&c[0].contains(a.target)||b.$apply(function(){b.isOpen=!1})}},d=function(a){27===a.which&&(b.focusToggleElement(),c())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(a,b,c,d,e,f){var g,h=this,i=a.$new(),j=d.openClass,k=angular.noop,l=b.onToggle?c(b.onToggle):angular.noop;this.init=function(d){h.$element=d,b.isOpen&&(g=c(b.isOpen),k=g.assign,a.$watch(g,function(a){i.isOpen=!!a}))},this.toggle=function(a){return i.isOpen=arguments.length?!!a:!i.isOpen},this.isOpen=function(){return i.isOpen},i.getToggleElement=function(){return h.toggleElement},i.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},i.$watch("isOpen",function(b,c){f[b?"addClass":"removeClass"](h.$element,j),b?(i.focusToggleElement(),e.open(i)):e.close(i),k(a,b),angular.isDefined(b)&&b!==c&&l(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){i.isOpen=!1}),a.$on("$destroy",function(){i.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b,c,d){b.backdropClass=d.backdropClass||"",b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,b(function(){c.animate=!0,d[0].querySelectorAll("[autofocus]").length||d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,function(){d.modalScope.$destroy(),b.toggleClass(m,n.length()>0),i()})}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){o.dismiss(b.key,"escape key press")})))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();if(h>=0&&!k){l=e.$new(!0),l.index=h;var i=angular.element("<div modal-backdrop></div>");i.attr("backdrop-class",b.backdropClass),k=d(i)(l),f.append(k)}var j=angular.element("<div modal-window></div>");j.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:n.length()-1,animate:"animate"}).html(b.content);var o=d(j)(b.scope);n.top().value.modalDomEl=o,f.append(o),f.addClass(m)},o.close=function(a,b){var c=n.get(a);c&&(c.value.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a);c&&(c.value.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i),b.controllerAs&&(d[b.controllerAs]=f)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(f,g){e=f,this.config=g,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=g.itemsPerPage},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b){a.page!==b&&b>0&&b<=a.totalPages&&(e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages},a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()
})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l){function m(a){var b=a||n.trigger||l,d=c[b]||b;return{show:b,hide:d}}var n=angular.extend({},b,d),o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" content="'+p+"content"+q+'" placement="'+p+"placement"+q+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var a=f(r);return function(b,c,d){function f(){D.isOpen?l():j()}function j(){(!C||b.$eval(d[k+"Enable"]))&&(s(),D.popupDelay?z||(z=g(o,D.popupDelay,!1),z.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return z=null,y&&(g.cancel(y),y=null),D.content?(q(),w.css({top:0,left:0,display:"block"}),D.$digest(),E(),D.isOpen=!0,D.$digest(),E):angular.noop}function p(){D.isOpen=!1,g.cancel(z),z=null,D.animation?y||(y=g(r,500)):r()}function q(){w&&r(),x=D.$new(),w=a(x,function(a){A?h.find("body").append(a):c.after(a)})}function r(){y=null,w&&(w.remove(),w=null),x&&(x.$destroy(),x=null)}function s(){t(),u()}function t(){var a=d[k+"Placement"];D.placement=angular.isDefined(a)?a:n.placement}function u(){var a=d[k+"PopupDelay"],b=parseInt(a,10);D.popupDelay=isNaN(b)?n.popupDelay:b}function v(){var a=d[k+"Trigger"];F(),B=m(a),B.show===B.hide?c.bind(B.show,f):(c.bind(B.show,j),c.bind(B.hide,l))}var w,x,y,z,A=angular.isDefined(n.appendToBody)?n.appendToBody:!1,B=m(void 0),C=angular.isDefined(d[k+"Enable"]),D=b.$new(!0),E=function(){var a=i.positionElements(c,w,D.placement,A);a.top+="px",a.left+="px",w.css(a)};D.isOpen=!1,d.$observe(e,function(a){D.content=a,!a&&D.isOpen&&p()}),d.$observe(k+"Title",function(a){D.title=a});var F=function(){c.unbind(B.show,j),c.unbind(B.hide,l)};v();var G=b.$eval(d[k+"Animation"]);D.animation=angular.isDefined(G)?!!G:n.animation;var H=b.$eval(d[k+"AppendToBody"]);A=angular.isDefined(H)?H:A,A&&b.$on("$locationChangeSuccess",function(){D.isOpen&&p()}),b.$on("$destroy",function(){g.cancel(y),g.cancel(z),F(),r(),D=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),a.minutes="m"===b?d:i(d),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render;var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$modelValue?new Date(o.$modelValue):null;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=i.$eval(k.typeaheadFocusFirst)!==!1,v=b(k.ngModel).assign,w=g.parse(k.typeahead),x=i.$new();i.$on("$destroy",function(){x.$destroy()});var y="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":y});var z=angular.element("<div typeahead-popup></div>");z.attr({id:y,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&z.attr("template-url",k.typeaheadTemplateUrl);var A=function(){x.matches=[],x.activeIdx=-1,j.attr("aria-expanded",!1)},B=function(a){return y+"-option-"+a};x.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",B(a))});var C=function(a){var b={$viewValue:a};q(i,!0),c.when(w.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c.length>0){x.activeIdx=u?0:-1,x.matches.length=0;for(var e=0;e<c.length;e++)b[w.itemName]=c[e],x.matches.push({id:B(e),label:w.viewMapper(x,b),model:c[e]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else A();d&&q(i,!1)},function(){A(),q(i,!1)})};A(),x.query=void 0;var D,E=function(a){D=d(function(){C(a)},o)},F=function(){D&&d.cancel(D)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(F(),E(a)):C(a):(q(i,!1),F(),A()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[w.itemName]=a,b=w.viewMapper(i,d),d[w.itemName]=void 0,c=w.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,e={};e[w.itemName]=c=x.matches[a].model,b=w.modelMapper(i,e),v(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:w.viewMapper(i,e)}),A(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(-1!=x.activeIdx||13!==a.which&&9!==a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),A(),x.$digest()))}),j.bind("blur",function(){m=!1});var G=function(a){j[0]!==a.target&&(A(),x.$digest())};e.bind("click",G),i.$on("$destroy",function(){e.unbind("click",G),t&&H.remove()});var H=a(z)(x);t?e.find("body").append(H):j.after(H)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}});
;
(function($, undefined) {
  $.extend({
    jsonRPC: {
      // RPC Version Number
      version: '2.0',

      // End point URL, sets default in requests if not
      // specified with the request call
      endPoint: null,

      // Default namespace for methods
      namespace: null,

      /*
       * Provides the RPC client with an optional default endpoint and namespace
       *
       * @param {object} The params object which can contain
       *   endPoint {string} The default endpoint for RPC requests
       *   namespace {string} The default namespace for RPC requests
       *   cache {boolean} If set to false, it will force requested
       *       pages not to be cached by the browser. Setting cache
       *       to false also appends a query string parameter,
       *       "_=[TIMESTAMP]", to the URL. (Default: true)
       */
      setup: function(params) {
        this._validateConfigParams(params);
        this.endPoint = params.endPoint;
        this.namespace = params.namespace;
        this.cache = params.cache !== undefined ? params.cache : true;
        return this;
      },

      /*
       * Convenience wrapper method to allow you to temporarily set a config parameter
       * (endPoint or namespace) and ensure it gets set back to what it was before
       *
       * @param {object} The params object which can contains
       *   endPoint {string} The default endpoint for RPC requests
       *   namespace {string} The default namespace for RPC requests
       * @param {function} callback The function to call with the new params in place
       */
      withOptions: function(params, callback) {
        this._validateConfigParams(params);
        // No point in running if there isn't a callback received to run
        if(callback === undefined) throw("No callback specified");

        origParams = {endPoint: this.endPoint, namespace: this.namespace};
        this.setup(params);
        callback.call(this);
        this.setup(origParams);
      },

      /*
       * Performas a single RPC request
       *
       * @param {string} method The name of the rpc method to be called
       * @param {object} options A collection of object which can contains
       *  params {array} the params array to send along with the request
       *  success {function} a function that will be executed if the request succeeds
       *  error {function} a function that will be executed if the request fails
       *  url {string} the url to send the request to
       *  id {string} the provenance id for this request (defaults to 1)
       *  cache {boolean} If set to false, it will force requested
       *       pages not to be cached by the browser. Setting cache
       *       to false also appends a query string parameter,
       *       "_=[TIMESTAMP]", to the URL. (Default: cache value
       *       set with the setup method)
       * @return {undefined}
       */
      request: function(method, options) {
        if(options === undefined) {
          options = { id: 1 };
        }
        if (options.id === undefined) {
          options.id = 1;
        }
        if (options.cache === undefined) {
          options.cache = this.cache;
        }

        // Validate method arguments
        this._validateRequestMethod(method);
        this._validateRequestParams(options.params);
        this._validateRequestCallbacks(options.success, options.error);

        // Perform the actual request
        this._doRequest(JSON.stringify(this._requestDataObj(method, options.params, options.id)), options);

        return true;
      },

      /*
       * Submits multiple requests
       * Takes an array of objects that contain a method and params
       *
       * @params {array} requests an array of request object which can contain
       *  method {string} the name of the method
       *  param {object} the params object to be sent with the request
       *  id {string} the provenance id for the request (defaults to an incrementer starting at 1)
       * @param {object} options A collection of object which can contains
       *  success {function} a function that will be executed if the request succeeds
       *  error {function} a function that will be executed if the request fails
       *  url {string} the url to send the request to
       * @return {undefined}
       */
      batchRequest: function(requests, options) {
        if(options === undefined) {
          options = {};
        }

        // Ensure our requests come in as an array
        if(!$.isArray(requests) || requests.length === 0) throw("Invalid requests supplied for jsonRPC batchRequest. Must be an array object that contain at least a method attribute");

        // Make sure each of our request objects are valid
        var _that = this;
        $.each(requests, function(i, req) {
          _that._validateRequestMethod(req.method);
          _that._validateRequestParams(req.params);
          if (req.id === undefined) {
            req.id = i + 1;
          }
        });
        this._validateRequestCallbacks(options.success, options.error);

        var data = [],
            request;

        // Prepare our request object
        for(var i = 0; i<requests.length; i++) {
          request = requests[i];
          data.push(this._requestDataObj(request.method, request.params, request.id));
        }

        this._doRequest(JSON.stringify(data), options);
      },

      // Validate a params hash
      _validateConfigParams: function(params) {
        if(params === undefined) {
          throw("No params specified");
        }
        else {
          if(params.endPoint && typeof(params.endPoint) !== 'string'){
            throw("endPoint must be a string");
          }
          if(params.namespace && typeof(params.namespace) !== 'string'){
            throw("namespace must be a string");
          }
        }
      },

      // Request method must be a string
      _validateRequestMethod: function(method) {
        if(typeof(method) !== 'string') throw("Invalid method supplied for jsonRPC request")
        return true;
      },

      // Validate request params.  Must be a) empty, b) an object (e.g. {}), or c) an array
      _validateRequestParams: function(params) {
        if(!(params === null ||
             params === undefined ||
             typeof(params) === 'object' ||
             $.isArray(params))) {
          throw("Invalid params supplied for jsonRPC request. It must be empty, an object or an array.");
        }
        return true;
      },

      _validateRequestCallbacks: function(success, error) {
        // Make sure callbacks are either empty or a function
        if(success !== undefined &&
           typeof(success) !== 'function') throw("Invalid success callback supplied for jsonRPC request");
        if(error !== undefined &&
         typeof(error) !== 'function') throw("Invalid error callback supplied for jsonRPC request");
        return true;
      },

      // Internal method used for generic ajax requests
      _doRequest: function(data, options) {
        var _that = this;
        
        $.ajax({
          type: 'POST',
          async: false !== options.async,
          crossDomain: true,
          dataType: 'json',
          contentType: 'application/json',
          url: this._requestUrl((options.endPoint || options.url), options.cache),
          data: data,
          cache: options.cache,
          processData: false,
          error: function(json) {
            _that._requestError.call(_that, json, options.error);
          },
          success: function(json) {
            _that._requestSuccess.call(_that, json, options.success, options.error);
          }
        }); 
      },

      // Determines the appropriate request URL to call for a request
      _requestUrl: function(url, cache) {
        url = url || this.endPoint;
        if (!cache) {
            if (url.indexOf("?") < 0) {
              url += '?tm=' + new Date().getTime();
            }
            else {
              url += "&tm=" + new Date().getTime();
            }
        }
        return url;
      },

      // Creates an RPC suitable request object
      _requestDataObj: function(method, params, id) {
        var dataObj = {
          jsonrpc: this.version,
          method: this.namespace ? this.namespace +'.'+ method : method,
          id: id
        }
        if(params !== undefined) {
          dataObj.params = params;
        }
        return dataObj;
      },

      // Handles calling of error callback function
      _requestError: function(json, error) {
        if (error !== undefined && typeof(error) === 'function') {
          if(typeof(json.responseText) === 'string') {
            try {
              error(eval ( '(' + json.responseText + ')' ));
            }
            catch(e) {
              error(this._response());
            }
          }
          else {
            error(this._response());
          }
        }
      },

      // Handles calling of RPC success, calls error callback
      // if the response contains an error
      // TODO: Handle error checking for batch requests
      _requestSuccess: function(json, success, error) {
        var response = this._response(json);

        // If we've encountered an error in the response, trigger the error callback if it exists
        if(response.error && typeof(error) === 'function') {
          error(response);
          return;
        }

        // Otherwise, successful request, run the success request if it exists
        if(typeof(success) === 'function') {
          success(response);
        }
      },

      // Returns a generic RPC 2.0 compatible response object
      _response: function(json) {
        if (json === undefined) {
          return {
            error: 'JSONRPC: server returned empty string',
            version: '2.0'
          };
        }
        else {
          try {
            if(typeof(json) === 'string') {
              json = eval ( '(' + json + ')' );
            }

            if (($.isArray(json) && json.length > 0 && json[0].jsonrpc !== '2.0') ||
                (!$.isArray(json) && json.jsonrpc !== '2.0')) {
              throw 'Version error';
            }

            return json;
          }
          catch (e) {
            return {
              error: 'JSONRPC error: ' + e,
              version: '2.0'
            }
          }
        }
      }

    }
  });
})(jQuery);
;
angular.module('gettext').run(['gettextCatalog', function (gettextCatalog) {
/* jshint -W100 */
    gettextCatalog.setStrings('en', {"Overview":"Overview","Phone":"Phone","System":"System","Internet":"Internet","WiFi":"WiFi","Settings":"Settings","Status":"Status","Theme":"Theme","Network":"Network","wifi.general.info":"Your EasyBox supports the industry-wide WiFi standards, enabling easy wireless connection of your devices.","wifi.macfilter.info":"To make your wireless network more secure, you can specify which devices are allowed to connect. The devices are identified by their MAC address. You can manage up to 32 devices.","wifi.schedule.info":"Schedule the times when your WiFi should be turned on or off automatically. Note: If WiFi is turned off, both Main and Guest WiFi are disabled","wifi.general.setup.info":"Configure your wireless interfaces.","wifi.wps.info":"Using WPS it is possible to easily connect wireless devices with EasyBox on an encrypted channel. Below, you can choose and configure different connection methods.","application.name":"juci","encryption.none":"Off","language.en":"English","language.se":"Svenska","wifi.enc.none":"Off","wifi.enc.wep":"WEP","wifi.enc.psk":"WPA","wifi.enc.psk2":"WPA2","wifi.enc.mixed-psk":"WPA + WPA2","11b":"802.11b","11g":"802.11g","11bg":"802.11b/g","11n":"802.11b/n","11a":"802.11n/ac","DSL Status":"DSL Status","Phone Numbers":"Phone Numbers","auto":"Auto","ddns.config.info":"DDNS allows you to access your EasyBox from the Internet using a domain name instead of IP address. You will need an account on a DDNS service provider.","dns.config.info":"The DNS configuration is done automatically when you connect to the network. Alternatively you can manually configure your own DNS settings.","dsl.status.info":"This status page shows technical parameters of your DSL connection.","error.port.range.startgreaterthanend":"Error, start port is greater than end port.","from":"From","internet.exposed_host.info":"If you have a local network device that cannot run an Internet application properly behind the firewall, you can allow unrestricted Internet access to the network device (Exposed Host).","ip.address.label":"IP address","off":"Off","on":"On","phone.call_log.info":" ","phone.lines.info":"Configure phone lines.","phone.number_blocking.info":"Stay in control of your bills and block outgoing calls to unwanted numbers.","phone.numbers.info":"Control your phone accounts.","phone.schedule.info":"Define schedules when your phones should or should not ring.","phone.speed_dialing.info":"This feature activates speed dialing to connect you faster to your preferred contacts.","settings.config.info":"Save your settings, restore previously saved settings, and reset your EasyBox to its factory state.\n\nYour EasyBox can save your configuration to a computer. We recommend to always save your last changed settings to a computer.","settings.dropbear.info":"Configure SSH access to the router.","settings.energy.info":"Reduce power consumption by switching off unused functionality.","settings.network.info":"This page allows to configure IP addresses used in your home network. In case DHCP is used, EasyBox automatically assignes an IP address to devices connected to the network. Using static DHCP it is possible to always assign the same IP address to specific devices.","settings.password.info":"Set a new Easybox password to restrict management access to the router.","settings.upgrade.info":"The Easybox automatically install the latest firmware release available. If necessary, it is possible to update the Easybox firmware manually. Your current settings will not be affected by software upgrading procedure.","settings.upgrade.manual.info":"It is possible to update the firmware from a saved update file. The latest available version can be found on www.dsl-easybox.de.","settings.upgrade.online.info":"Click \"Check for Update\" to start an online software upgrade. If a newer firmware is found, it will be automatically installed on your EasyBox (Internet connection required).","settings.upgrade.usb.info":"It is possible to update the firmware from a file saved on a USB storage attached to the USB port of your EasyBox. Click \"Install Update\" to start the automatic firmware upgrade. Please note that there should be only one firmware file on the storage and that one shall be located under the main directory (no search under subfolders).","status.diagnostics.auto.info":"This diagnosis should take up to 2 minutes and cannot be cancelled once it has been started.","status.diagnostics.info":"This section shows a list of tools which can be used to check the status of your network connection.","status.diagnostics.ping.info":"Please enter a valid hostname or IP address to execute the Ping test.","status.diagnostics.trace.info":"Please choose the connection type and location where you would like to save the tracing. The tracing will then begin automatically in a separate popup window.","status.eventlog.info":"Select the categories for which you would like to view the event log.","status.nat.connections.info":"This page shows the active connection for each device.","status.nat.info":"This page shows the active connection for each device.","status.restart.info":"This page allows to restart your Internet connection and reboot your Easybox. Please note that for the entire process all phone, internet and TV services will be temporarily unavailable. ","status.status.info":"This page provides an overview of main parameters of your Easybox. This can help you to optimize your Easybox or identify potential problems.","status.tv.info":"This page allows to verify the connection status of your Vodafone TV Services.","status.voice.info":"Here you find an overview of your active phone numbers. For any change you would like to make to the current section, please visit Phone menu.","status.voice_lines.info":"Status of your voice lines.","to":"To","wifi-iface.closed":"Broadcast SSID","wifi-iface.device":"Frequency","wifi-iface.encryption":"Protection Mode","wifi-iface.key":"WiFi Password","wifi-iface.ssid":"WiFi Name (SSID)","wifi.settings.info":"Below you can change parameters for the two WiFi frequencies 2.4 GHz and 5 GHz.","wifi.wps.in.progress":"Your EasyBox is now attempting to pair with other devices.","wifi.wps.otherpin.info":"Enter the WPS-PIN provided by the other device here.","wifi.wps.pbc.info":"To pair your device, press \"Pair\". Afterwards, press the corresponding button on the device you wish to connect. Your EasyBox will be open for pairing for 2 minutes after you pressed Pair.","wifi.wps.pin.info":"Enter the WPS-PIN below on the device you wish to pair.","wps.status.fail":"No devices have connected to your EasyBox. If you still want to pair a device, click the Pair button again.","wps.status.msgdone":"Pairing done","wps.status.processing":"Your EasyBox is now attempting to pair with other devices.","wps.status.success":"Your EasyBox has successfully paired with another device.","wps.status.timeout":"WPS pairing timeout.","wps.status.unknown":"WPS Unknown","internet.title":"Internet","internet.firewall.title":"Firewall","internet.port_mapping.title":"Port Mapping","internet.exposed_host.title":"Exposed Host","internet.dns.title":"DNS & DDNS","overview.title":"Overview","settings.title":"Settings","settings.password.title":"EasyBox Password","settings.upgrade.title":"Firmware Update","settings.energy.title":"Energy Settings","settings.configuration.title":"Configuration","settings.network.title":"Network","status.title":"Status","status.status.title":"Status","status.status.dsl.title":"DSL Status","status.diagnostics.title":"Diagnostic Utility","status.events.title":"Event Log","status.restart.title":"Restart","status.about.title":"About","status.nat.title":"NAT Mapping Table","status.status.voice.title":"Voice Status","status.status.tv.title":"Vodafone TV","wifi.title":"WiFi","wifi.general.title":"General","wifi.schedule.title":"Schedule","wifi.wps.title":"WPS","wifi.mac_filter.title":"MAC Filter","wifi.settings.title":"Settings","wifi-iface.network":"WiFi Network","wifi-iface.disabled":"Disabled","interface.macmode.allow":"Allow","interface.macmode.deny":"Deny"});
    gettextCatalog.setStrings('se', {"Overview":"Översikt","Phone":"Telefoni","System":"System","Internet":"Internet","WiFi":"WiFi","Settings":"Inställningar","Status":"Status","Theme":"Utseende","Network":"Nätverk","Setup":"Inställningar","General":"Inställningar","Schedule":"Schemaläggning","WPS":"WPS","MAC Filter":"MAC Filter","wifi.general.info":"Generell information ","wifi.macfilter.info":"Med hjälp av MAC filter kan du begränsa åtkomst till nätverket på hårdvarunivå. ","Enable WiFi On/Off button on EasyBox":"On/Off knappen på din EasyBox","Wifi Network":"Wifi Nätverk","wifi.schedule.info":"Med schemaläggninga kan du enkelt schemalägga när din wifi är tillgänglig. ","wifi.general.setup.info":"Konfigurera din trådlösa gränssnitt.","WPS Function":"WPS Funktion","wifi.wps.info":"Med hjälp av WPS kan du enkelt autentisera med ditt wifi nätverk. ","MAC Filtering":"MAC-filtrering ","Access for listed devices":"Åtkomst för listade enheter","Currently added devices":"Tilllagda enheter","Add currently connected hosts to the list":"Lägg till anslutna enheter","Wifi Mode":"WiFi typ","Bandwidth":"Bandbredd","Channel":"Kanal","MAC filter":"MAC Filter","Apply":"Verkställ","Cancel":"Avbryt","Firewall":"Brandvägg","DSN":"DSN","DSL":"DSL","Voice":"Telefoni","Vodafone TV":"Vodafone TV","Diagnostics":"Diagnostik","Events":"Händelser","Restart":"Starta om","About":"Om","NAT":"NAT","Call Log":"Samtalslogg","Number Blocking":"Nummerblockering","Ringing Schedule":"Telefonischema","Numbers":"Nummer","Speed Dialing":"Snabbuppringning","EasyBox Password":"EasyBox Lösenord","Firmware Upgrade":"Uppgradering","Energy Settings":"Energi-inställningar","Configuration":"Konfiguration","Advanced":"Avancerat","application.name":"LuCI-Express","encryption.none":"Ingen","language.en":"English","language.se":"Svenska","Active Connections":"Aktiva uppkopplingar","Active Stations":"Aktiva klienter","Actual Data Rate":"Nuvarande hastighet","Add clients to MAC filtering list":"Lägg till klienter till filter-listan","Add domain name":"Lägg till domännamn","Add existing host":"Lägg till befintlig enhet","Address Pool End IP":"Slut-IP","Address Pool Start IP":"Start-IP","All Weekend":"Helg","Attempting to Pair":"Ihopkopplar","Automated Diagnostics":"Automatiserad diagnostik","Backup file password":"Lösenord för backupfil","Backup file password (if encrypted)":"Lösenord för backupfil (för krypterad fil)","Banner File":"Banner-fil","Basic":"Bas","Basic Mode":"Basic Mode","Bit Rate":"Bithastighet","Buffered":"Buffrad","CRC Errors":"CRC fel","Cell Counter":"Cell räknare","Cell Statistics":"Samtals-statistik","Change Password":"Ändra lösenord","Choose the local IP address that should be exposed to Internet. Additionally you should configure this IP address as static DHCP address for your device (see Settings/Network).":"Välj vilken lokal IP-adress som ska exponeras mot Internet. Du bör konfigurera den enheten med statisk DHCP-adress (inställningen finns i Inställningar/Nätverk). ","Clear":"Rensa","Click here to restart your device":"Klicka här för att starta om din gateway.","Client IP":"Klient-IP","Close":"Stäng","Comments":"Kommentarer","Connections":"Anslutningar","Current Firmware Version":"Nuvarande mjukvaruversion","DDNS (Dynamic DNS)":"DDNS (Dynamisk DNS)","DHCP Leases":"DHCP Leasar","DNS Server":"DNS-server","DNS Servers":"DNS-servrar","DSL Mode":"DSL Mode","DSL Status":"DSL Status","DSL Status Information":"DSL Status","DSS Key File":"DNS nyckelfil","Date":"Datum","Day":"Dag","Days":"Dagar","Device Name":"Enhetsnamn","Diagnose":"Diagnostisera","Diagnostic Utility":"Diagnostikverktyg","Disabled":"Inaktiverad","Display Characters":"Visa tecken","Domain":"Domän","Domain name":"Domännamn","Dropbear":"Dropbeat","Duration":"Varaktighet","During this time ringing is":"Denna tid är telefonsamtal","During this time the WiFi is":"Under denna tid är WiFi","Dynamic DNS":"Dynamisk DNS","Enable WPS button on router":"Aktivera WPS-knapp på router","Enable WPS on":"Aktivera WPS på","Enabled":"Aktiv","End port":"Slutport","Enter your PIN here":"Skriv din PIN här","Enter your device PIN":"Ange PIN för din gateway","Error Counter":"Fel","Every Day":"Varje dag","Every Workday":"Varje arbetsdag","Expert Mode":"Expert","Exposed Host":"Öppet klient","Exposed Host Function":"Aktivera öppen klient","FEC Corrections":"FEC rättelser","Factory Settings":"Fabriksinställningar","Firmware Version":"Firmware version","Friday":"fredag","Gateway":"Gateway","Gateway Password":"Gateway lösenord","Gateway Ports":"Gatewayportar","General WiFi Settings":"Generella Inställningar","Generate":"Generera","Generate New PIN":"Generera ny PIN","Generated PIN":"Genererad PIN-kod","Group IP":"Grupp-IP","Host":"Namn","Host to ping":"Adress att pinga","Host to trace":"Adress för traceroute","Hostname":"Datornamn","IP Subnet Mask":"Nätmask för subnät","IPTV":"IPTV","IPv4-Address":"IPv4-Adress","Idle Timeout":"Timeout inaktivitet","Incoming Calls":"Inkommande samtal","Individual Days":"Enskilda dagar","Install Upgrade":"Installera uppgradering","Interface":"Interface","Kernel Version":"Kärnans version","LAN Port":"Lan-port","Lease Time":"Leasetid","Leasetime remaining":"Återstående lease-tid","Load":"Ladda upp","Loading":"Laddar","Local IP":"Lokalt IP","Local Time":"Lokal tid","Local port":"Lokal port","Log":"Logg","Log out":"Logga ut","Loop Attenuation":"Loop attenuation","MAC address":"MAC-Adress","MAC-Address":"MAC-Adress","Manual Firmware Upgrade":"Manuell uppgradering","Memory":"Minne","Message":"Meddelande","Missing uci config boardpanel.":"Saknar uci config-panel","Model":"Modell","Monday":"måndag","NAT Connection Table":"Uppkopplingstabell för NAT","Name":"Namn","Network Settings":"Nätverksinställningar","No active leases":"Inga aktiva leasar","No active stations":"Inga aktiva klienter","No upgrade has been found!":"Ingen uppdatering hittades!","Noise":"Brus","Not connected":"Ej uppkopplad","Online Update":"Online-uppgradering","Operating Data":"Operationsdata","Outgoing Calls":"Utgående Samtal","Pair":"Ihopkoppa","Pair (within 2 minutes)":"Ihopkoppla (inom 2 minuter)","Password":"Lösenord","Password Authentication":"Lösenordsautentisering","Passwords do not match!":"Lösenorden stämmer inte överens!","Phone Extension":"Telefontillägg","Phone Lines":"Telefonlinjer","Pick configuration backup to upload":"Välj konfigurationsbackup för uppladdning","Pick firmware file to upload":"Välj firmware för uppladdning","Pick phone":"Välj telefon","Ping":"Ping","Ping Test":"Ping Test","Ping results":"Pingresultat","Please add a comment describing this configuration":"Kommentar som beskriver konfigurationen","Please enter correct username and password!":"Knappa in rätt användarnamn och lösenord! ","Please sign in":"Logga in","Port":"Port","Port (1-65535)":"Port (1-65535)","Port Mapping":"Portmappning","Port mapping allows remote computers to connect to a specific device within your private network.":"Portmappning tillåter andra datorer på internet att koppla upp sig till datorer på ditt lokala nätverk","Power-LED":"Power-LED","Power-LED Brightness":"Power-LED Ljusstyrka","Pressing WiFi on/off button on your router for long time activates pairing":"Håll in på/av-knappen för WiFi för att aktivera ihopkoppling","Primary DNS":"Primär DNS","Private port":"Privat port","Protocol":"Protokol","Provider":"Leverantör","Public IP Address":"Publikt IP","Public Port":"Publikt port","Public port":"Publik port","Public port range":"Publik portintervall","RSA Key File":"RSA nyckelfil","RX Rate":"RX","Re-type password":"Skriv lösenord igen","Remove all entries from speed dial list":"Ta bort alla nummer från snabbuppringningslistan","Reset":"Reset","Reset restores the factory default settings of your gateway":"Reset återställer fabriksinställningarna på din gateway","Restart takes about 3 minutes. When restart is completed the page will reload automatically.":"Omstart tar cirka 3 minuter. När omstarted är klar så laddas sidan om automatiskt.","Restore settings from a configuration saved on a computer":"Återställ konfigurationsinställnignar från fil på din dator","Root Login":"Inloggning som root","Root Password Auth":"Root-lösenordsautentisering","Root Usage (/)":"Root disk (/)","SNR Margin":"SNR tolerans","Saturday":"lördag","Save":"Spara","Save Configuration to Computer":"Ladda ner inställningar","Save settings to computer with password protection":"Spara konfigurationen till fil","Schedule Function":"Schemaläggningsfunktion","Secondary DNS":"Sekundär DNS","Setup Scheduling":"Ställ in schemaläggning","Shared":"Delad","Show calls for":"Visa samtal för","Sign in":"Logga in","Signal":"Signal","Source":"Källa","Start port":"Startport","Static DHCP":"Statisk DHCP","Static IP Address":"Statisk IP-adress","Status-LED":"Status-LED","Storage":"Utrymme","Sunday":"söndag","Swap":"Swap","System Status":"Systemstatus","TX Rate":"TX","Temporary Usage (/tmp)":"Temporärt utrymme (/tmp)","Thursday":"torsdag","Time":"Tid","Time Frame":"Tidsram","Timeout":"Timeout","Today":"Idag","Toggle navigation":"Toggla navigation","Trace":"Trace","Trace results":"Resultat trace","Tracing Tool":"Spårningsverktyg","Tuesday":"tisdag","USB Firmware Upgrade":"USB Uppgradering","USB Port":"USB Port","Unable to retreive igmptable from device!":"Kan inte hämta IGMP-tabell från enheten!","Unknown":"Okänd","Upgrade process has started. The web gui will not be available until the upgrade process has completed!":"Uppgraderingen påbörjad. Webbgränssnittet otillgängligt tills dess att uppgraderingen är genomförd!","Uptime":"Upptid","Usage":"Användning","Username":"Användarnamn","Verbose logging":"Utförlig loggning","Verifying firmware image":"Verifierar firmwarefil","Vodafone TV Channels":"Vodafone TV-kanaler","Voice Lines":"Voiceportar","Voice Status":"Telefonstatus","WAN Port":"WAN-port","WPS Using Generated PIN":"WPS med gerererad PIN","WPS-PBC: Push Button on Device":"WPS-PBC: Tryck på knappen på din gateway","WPS-PIN: Another Device provides PIN":"WPS-PIN: En annan enhet tillhandahåller PIN","WPS-REG: Router provides PIN":"WPS-REG: Routern tillhandahåller PIN","Was unable to set password. Please make sure you have entered correct current password!":"Kunde inte ställa in lösenordet. Kontrollera att nuvarande lösenord är rätt!","Wednesday":"onsdag","You are logged in!":"Du är inloggad!","You can also block ranges of numbers.For example: \"0160#\" blocks all numbers starting with \"0160\".":"Du kan också blockera ett intervall. Till exempel: \"0160#\" blockerar alla nummer som börjar med \"0160\".","You have wifi-scheduling enabled. This means that your wifi will be automatically turned on and off based on your schedule settings":"WiFi-schemaläggning aktiverad. Det innebär att din wifi automatiskt sätts på och av beroende på schema","Your EasyBox provides extensive firewall functionality which protects against common attacks. Vodafone recommends not to turn off firewall.":"Din EasyBox ger omfattande brandväggsfunktionalitet som skyddar mot de vanligaste attackerna. Vodafone rekommenderar dig att inte inaktivera brandväggen.","Your Phone Lines":"Dina telefonlinjer","Your Phone Numbers":"Dina telefonnummer","Your account":"Ditt konto","Your number":"Ditt nummer","auto":"automatisk","error.port.range.end.invalid":"Felaktigt portintervall","error.port.range.end.required":"Slut på portintervall behövs","error.port.range.start.invalid":"Felaktig start på portintervall","error.port.range.start.required":"Start av portintervall krävs","error.port.range.startgreaterthanend":"Start av portintervall större än slut","from":"från","ip.address.label":"IP-adress","off":"av","on":"på","phone.number_blocking.info":"Behåll kontrollen över dina räkningar och blockera utgående samtal till oönskade nummer.","phone.schedule.info":"Definiera scheman när dina telefoner bör eller inte bör ringa.","settings.config.info":"Spara dina inställningar, återställa tidigare sparade inställningar och återställ EasyBox till fabrikstillstånd.Din EasyBox kan spara din konfiguration till en dator. Vi rekommenderar att alltid spara dina senaste ändrade inställningar till en dator.","settings.energy.info":"Minska energiförbrukningen genom att stänga av oanvända funktioner.","settings.password.info":"Ställ en ny Easybox lösenord för att begränsa hanteringsåtkomst till routern.","settings.upgrade.info":"Här kan du uppdatera programvaran på din EasyBox. Om det behövs, är det möjligt att uppdatera Easybox inbyggda programvaran manuellt. Dina nuvarande inställningar kommer inte att påverkas av programvara uppgradering förfarande.","settings.upgrade.manual.info":"Det är möjligt att uppdatera firmware från fil en sparad uppdatering. Den senaste versionen kan hittas på www.dsl-easybox.de.","settings.upgrade.online.info":"Klicka på \"Sök efter uppdatering\" för att starta en online-programvaruuppgradering. Om en ny firmware finns, kommer det att installeras automatiskt på din EasyBox (Internet-anslutning krävs).","settings.upgrade.usb.info":"Det är möjligt att uppdatera firmware från en fil som sparats på ett USB-minne ansluten till USB-porten på din EasyBox. Klicka på \"Install Update\" för att starta uppgraderingen av automatiska firmware. Observera att det bör finnas en enda firmware-fil att den bör vara placerad under huvudkatalogen (ingen sökning i undermappar).","status.diagnostics.auto.info":"Denna diagnos bör ta upp till 2 minuter och kan inte avbrytas när den väl har startats.","status.diagnostics.info":"I det här avsnittet visas en lista över verktyg som kan användas för att kontrollera status för din nätverksanslutning.","status.diagnostics.ping.info":"Ange ett giltigt värdnamn eller IP-adress för att utföra Ping-test.","status.diagnostics.trace.info":"Välj anslutningstypen och platsen där du vill spara spårning. Spårning kommer då att börja automatiskt i en separat popup-fönster.","to":"till","wifi-iface.closed":"Öppet nätverk","wifi-iface.device":"Frekvens","wifi-iface.encryption":"Säkerhet","wifi-iface.key":"Krypteringsnyckel","wifi-iface.ssid":"WiFi Namn (SSID)","wifi.settings.info":"Här kan du ställa in generella inställningar för wifi kort","internet.title":"Internet","internet.firewall.title":"Brandvägg","internet.port_mapping.title":"NAT Mappning","internet.exposed_host.title":"Exponerad klient","internet.dns.title":"DNS","overview.title":"Översikt","settings.title":"Inställningar","settings.password.title":"Lösenord","settings.upgrade.title":"Uppgradera","settings.energy.title":"Energiförbrukning","settings.configuration.title":"Konfiguration","settings.network.title":"Nätverk","status.title":"Status","status.status.title":"Status","status.status.dsl.title":"DSL","status.diagnostics.title":"Diagnostik","status.events.title":"Händelser","status.restart.title":"Starta om","status.about.title":"Om","status.nat.title":"NAT","status.status.voice.title":"Telefoni","status.status.tv.title":"TV","wifi.title":"WiFi","wifi.general.title":"Wifi Inställningar","wifi.schedule.title":"Wifi Schemaläggning","wifi.wps.title":"Wifi WPS","wifi.mac_filter.title":"Wifi MAC-filter","wifi.settings.title":"Wifi Inställningar","wifi-iface.wifi-iface.ssid":"SSID","wifi-iface.network":"Nätverk","wifi-iface.mode":"WiFi inställning","wifi-iface.cipher":"Kryptering","wifi-iface.up":"På","wifi-iface.macmode":"Filtreringstyp","wifi-iface.macfilter":"MAC Filter","interface.macmode.allow":"Tillåt","interface.macmode.deny":"Neka"});
/* jshint +W100 */
}]);;
/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.4",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.4",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.4",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.4",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.4",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.4",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){
var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.4",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a(document.body).height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);;
angular.module('uiSwitch', [])

.directive('switch', function(){
  return {
    restrict: 'AE'
  , replace: true
  , transclude: true
  , template: function(element, attrs) {
      var html = '';
      html += '<span';
      html +=   ' class="switch' + (attrs.class ? ' ' + attrs.class : '') + '"';
      html +=   (attrs.ngModel != undefined)? ' ng-click="' + attrs.ngModel + '=!' + attrs.ngModel + (attrs.ngChange ? '; ' + attrs.ngChange + '()"' : '"') : '';
      html +=   ' ng-class="{ checked: ' + (("inverted" in attrs)?"!":"") + attrs.ngModel + ' }"';
      html +=   '>';
      html +=   '<small></small>';
      html +=   '<input type="checkbox"';
      html +=     attrs.id ? ' id="' + attrs.id + '"' : '';
      html +=     attrs.name ? ' name="' + attrs.name + '"' : '';
      html +=     attrs.ngModel ? ' ng-model="' + attrs.ngModel + '"' : '';
      html +=     attrs.ngFalseValue ? ' ng-false-value="' + attrs.ngFalseValue + '"' : '';
      html +=     attrs.ngTrueValue ? ' ng-true-value="' + attrs.ngTrueValue + '"' : '';
      html +=     ' style="display:none" />';
      html +=     '<span class="switch-text">'; /*adding new container for switch text*/
      html +=     attrs.on ? '<span class="on">'+attrs.on+'</span>' : ''; /*switch text on value set by user in directive html markup*/
      html +=     attrs.off ? '<span class="off">'+attrs.off + '</span>' : ' ';  /*switch text off value set by user in directive html markup*/
      html += '</span>';
      return html;
    }
  }
});
;
/*angular-modal-service v0.6.6 - https://github.com/dwmkerr/angular-modal-service */
!function(){"use strict";var e=angular.module("angularModalService",[]);e.factory("ModalService",["$document","$compile","$controller","$http","$rootScope","$q","$templateCache",function(e,n,l,t,o,r,a){function c(){var e=this,c=function(e,n){var l=r.defer();if(e)l.resolve(e);else if(n){var o=a.get(n);void 0!==o?l.resolve(o):t({method:"GET",url:n,cache:!0}).then(function(e){a.put(n,e.data),l.resolve(e.data)},function(e){l.reject(e)})}else l.reject("No template or templateUrl has been specified.");return l.promise};e.showModal=function(e){var t=r.defer(),a=e.controller;return a?(e.controllerAs&&(a=a+" as "+e.controllerAs),c(e.template,e.templateUrl).then(function(c){var u=o.$new(),s=r.defer(),p={$scope:u,close:function(e,n){(void 0===n||null===n)&&(n=0),window.setTimeout(function(){s.resolve(e),u.$destroy(),m.remove(),p.close=null,t=null,s=null,$=null,p=null,m=null,u=null},n)}};if(e.inputs)for(var d in e.inputs)p[d]=e.inputs[d];var f=angular.element(c),v=n(f),m=v(u);p.$element=m;var h=l(a,p);e.appendElement?e.appendElement.append(m):i.append(m);var $={controller:h,scope:u,element:m,close:s.promise};t.resolve($)}).then(null,function(e){t.reject(e)}),t.promise):(t.reject("No controller has been specified."),t.promise)}}var i=e.find("body");return new c}])}();
//# sourceMappingURL=angular-modal-service.min.js.map;
/**
 * Checklist-model
 * AngularJS directive for list of checkboxes
 */

angular.module('checklist-model', [])
.directive('checklistModel', ['$parse', '$compile', function($parse, $compile) {
  // contains
  function contains(arr, item, comparator) {
    if (angular.isArray(arr)) {
      for (var i = arr.length; i--;) {
        if (comparator(arr[i], item)) {
          return true;
        }
      }
    }
    return false;
  }

  // add
  function add(arr, item, comparator) {
    arr = angular.isArray(arr) ? arr : [];
      if(!contains(arr, item, comparator)) {
          arr.push(item);
      }
    return arr;
  }  

  // remove
  function remove(arr, item, comparator) {
    if (angular.isArray(arr)) {
      for (var i = arr.length; i--;) {
        if (comparator(arr[i], item)) {
          arr.splice(i, 1);
          break;
        }
      }
    }
    return arr;
  }

  // http://stackoverflow.com/a/19228302/1458162
  function postLinkFn(scope, elem, attrs) {
    // compile with `ng-model` pointing to `checked`
    $compile(elem)(scope);

    // getter / setter for original model
    var getter = $parse(attrs.checklistModel);
    var setter = getter.assign;
    var checklistChange = $parse(attrs.checklistChange);

    // value added to list
    var value = $parse(attrs.checklistValue)(scope.$parent);


  var comparator = angular.equals;

  if (attrs.hasOwnProperty('checklistComparator')){
    comparator = $parse(attrs.checklistComparator)(scope.$parent);
  }

    // watch UI checked change
    scope.$watch('checked', function(newValue, oldValue) {
      if (newValue === oldValue) { 
        return;
      } 
      var current = getter(scope.$parent);
      if (newValue === true) {
        setter(scope.$parent, add(current, value, comparator));
      } else {
        setter(scope.$parent, remove(current, value, comparator));
      }

      if (checklistChange) {
        checklistChange(scope);
      }
    });
    
    // declare one function to be used for both $watch functions
    function setChecked(newArr, oldArr) {
        scope.checked = contains(newArr, value, comparator);
    }

    // watch original model change
    // use the faster $watchCollection method if it's available
    if (angular.isFunction(scope.$parent.$watchCollection)) {
        scope.$parent.$watchCollection(attrs.checklistModel, setChecked);
    } else {
        scope.$parent.$watch(attrs.checklistModel, setChecked, true);
    }
  }

  return {
    restrict: 'A',
    priority: 1000,
    terminal: true,
    scope: true,
    compile: function(tElement, tAttrs) {
      if (tElement[0].tagName !== 'INPUT' || tAttrs.type !== 'checkbox') {
        throw 'checklist-model should be applied to `input[type="checkbox"]`.';
      }

      if (!tAttrs.checklistValue) {
        throw 'You should provide `checklist-value`.';
      }

      // exclude recursion
      tElement.removeAttr('checklist-model');
      
      // local scope var storing individual checkbox model
      tElement.attr('ng-model', 'checked');

      return postLinkFn;
    }
  };
}]);
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

// Browser compatibility code

/*
if (!Date.prototype.toLocaleFormat) {
	(function() {
		Date.prototype.toLocaleFormat = function(formatString) {
			return this.format(formatString);
		};
	}());
}*/

if(!Object.assign){
	Object.assign = function (target, source) {
		function ToObject(val) {
			if (val == null) {
				throw new TypeError('Object.assign cannot be called with null or undefined');
			}

			return Object(val);
		}

		var from;
		var keys;
		var to = ToObject(target);

		for (var s = 1; s < arguments.length; s++) {
			from = arguments[s];
			keys = Object.keys(Object(from));

			for (var i = 0; i < keys.length; i++) {
				to[keys[i]] = from[keys[i]];
			}
		}

		return to;
	};
}

if (!Array.prototype.find) {
	Array.prototype.find = function(predicate) {
		if (this == null) {
			throw new TypeError('Array.prototype.find called on null or undefined');
		}
		if (typeof predicate !== 'function') {
			throw new TypeError('predicate must be a function');
		}
		var list = Object(this);
		var length = list.length >>> 0;
		var thisArg = arguments[1];
		var value;

		for (var i = 0; i < length; i++) {
			value = list[i];
			if (predicate.call(thisArg, value, i, list)) {
				return value;
			}
		}
		return undefined;
	};
}
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

(function(scope){
	var RPC_HOST = ""; //(($config.rpc.host)?$config.rpc.host:"")
	var RPC_DEFAULT_SESSION_ID = "00000000000000000000000000000000"; 
	var RPC_SESSION_ID = scope.localStorage.getItem("sid")||RPC_DEFAULT_SESSION_ID; 
	
	var gettext = function(text){ return text; }; 
	
	// TODO: figure out a way to automatically fill out all rpc calls
	var default_calls = [
		"session.access", 
		"session.login", 
		"local.features", 
		"local.set_rpc_host"
	]; 
	
	function rpc_request(type, namespace, method, data){
		var sid = ""; 
		var deferred = $.Deferred(); 
		// setup default rpcs
		$.jsonRPC.withOptions({
			namespace: "", 
			endPoint: RPC_HOST+"/ubus"
		}, function(){	 
			//var sid = "00000000000000000000000000000000"; 
			//if($rootScope.sid) sid = $rootScope.sid; 
			//data.ubus_rpc_session = sid;  
			this.request(type, {
				params: [ RPC_SESSION_ID, namespace, method, data],
				success: function(result){
					//console.log("SID: "+sid + " :: "+ JSON.stringify(result)); 
					if(type == "call" && result && result.result) {
						// TODO: modify all rpc UCI services so that they ALWAYS return at least 
						// an empty json object. Otherwise we have no way to differentiate success 
						// from failure of a request. This has to be done on the host side. 
						if(result.result[0] != 0){ // || result.result[1] == undefined) {
							function _errstr(error){
								switch(error){
									case 0: return gettext("Parse error"); 
									case 1: return gettext("Invalid request"); 
									case 2: return gettext("Invalid parameters"); 
									case 3: return gettext("Internal error"); 
									case 4: return gettext("Object not found"); 
									case 5: return gettext("Session not found"); 
									case 6: return gettext("Access denied"); 
									case 7: return gettext("Timed out"); 
									default: return gettext("RPC error #")+result.result[0]+": "+result.result[1]; 
								}
							}
							console.log("RPC succeeded ("+namespace+"."+method+"), but returned error: "+JSON.stringify(result)+": "+_errstr(result.result[0]));
							deferred.reject(_errstr(result.result[0])); 
						} else {
							deferred.resolve(result.result[1]);
						}
					} else if(type == "list" && result && result.result){
						if((typeof result.result) == "object")
							deferred.resolve(result.result); 
						else 
							deferred.reject(result.result[1]); // for etimeout [1, "ETIMEOUT"]
					} else {
						deferred.reject(); 
					}
				}, 
				error: function(result){
					console.error("RPC error ("+namespace+"."+method+"): "+JSON.stringify(result));
					if(result && result.error){
						deferred.reject(result.error);  
						//$rootScope.$broadcast("error", result.error.message); 
					}
				}
			})
		});
		return deferred.promise(); 
	}
	
	/*
	function RPCSession(){
		var saved_sid = scope.localStorage.getItem("sid");
		var default_sid = "00000000000000000000000000000000";  
		if(saved_sid){
			//$rpc.$sid(saved_sid); 
		} 
		
		this.sid = (saved_sid)?saved_sid:default_sid; 
		
		this.data = {}; 
		this.isLoggedIn = function(){
			return this._loggedIn; 
		}, 
		this.$init = function() {
			var self = this; 
			var deferred = $.Deferred(); 
			console.log("Checking session key with server: "+saved_sid); 
			$rpc.$authenticate().done(function(){
				self._loggedIn = true; 
				deferred.resolve(); 
			}).fail(function err(result){
				self.sid = default_sid; 
				scope.localStorage.setItem("sid", self.sid); 
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		};  
		this.login = function(obj){
			var self = this; 
			var deferred  = $.Deferred(); 
			// TODO: remove $session completely and use $rpc.$session instead!
			$rpc.$login({
				"username": obj.username, 
				"password": obj.password
			}).done(function(result){
				self.sid = result.ubus_rpc_session;
				self.data = result.data; 
				self._loggedIn = true; 
				scope.localStorage.setItem("sid", self.sid); 
				//if(result && result.acls && result.acls.ubus) setupUbusRPC(result.acls.ubus); 
				deferred.resolve(self.sid); 
			}).fail(function(result){
				deferred.reject(result); 
			}); 
			return deferred.promise(); 
		}; 
		this.logout = function(){
			var deferred = $.Deferred(); 
			var self = this; 
			$rpc.session.destroy().done(function(){
				self.data = {}; 
				self._loggedIn = false; 
				deferred.resolve(); 
			}).fail(function(){
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		}
	}*/
	
	var rpc = {
		$sid: function(sid){
			if(sid) RPC_SESSION_ID = sid; 
			else return RPC_SESSION_ID; 
		}, 
		$isLoggedIn: function(){
			return RPC_SESSION_ID !== RPC_DEFAULT_SESSION_ID; 
		}, 
		$authenticate: function(){
			var self = this; 
			var deferred  = $.Deferred(); 
					
			self.session.access({
				"keys": ""
			}).done(function(result){
        if(!("username" in (result.data||{}))) {
					console.log("Session: Not authenticated!");
					RPC_SESSION_ID = RPC_DEFAULT_SESSION_ID; // reset sid to 000..
					scope.localStorage.setItem("sid", RPC_SESSION_ID); 
					deferred.reject(); 
				} else {
					self.$session = result; 
					if(!("data" in self.$session)) self.$session.data = {}; 
					//console.log("Session: Loggedin! "); 
					deferred.resolve(result); 
				}  
			}).fail(function err(result){
				RPC_SESSION_ID = RPC_DEFAULT_SESSION_ID; 
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		}, 
		$login: function(opts){
			var self = this; 
			var deferred  = $.Deferred(); 
			
			self.session.login({
				"username": opts.username, 
				"password": opts.password
			}).done(function(result){
				RPC_SESSION_ID = result.ubus_rpc_session;
				self.$session = result; 
				scope.localStorage.setItem("sid", RPC_SESSION_ID); 
				//JUCI.localStorage.setItem("sid", self.sid); 
				//if(result && result.acls && result.acls.ubus) setupUbusRPC(result.acls.ubus); 
				deferred.resolve(self.sid); 
			}).fail(function(result){
				deferred.reject(result); 
			}); 
			return deferred.promise(); 
		},
		$logout: function(){
			var deferred = $.Deferred(); 
			var self = this; 
			self.session.destroy().done(function(){
				RPC_SESSION_ID = RPC_DEFAULT_SESSION_ID; // reset sid to 000..
				scope.localStorage.setItem("sid", RPC_SESSION_ID); 
				deferred.resolve(); 
			}).fail(function(){
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		},
		$register: function(call){
			//console.log("registering: "+call); 
			if(!call) return; 
			var self = this; 
			function _find(path, obj){
				if(!obj.hasOwnProperty(path[0])){
					obj[path[0]] = {}; 
				}
				if(path.length == 1) {
					var namespace = call.split("."); 
					namespace.pop(); namespace = namespace.join("."); 
					(function(namespace, method){
						// create the rpc method
						obj[path[0]] = function(data){
							if(!data) data = { }; 
							return rpc_request("call", namespace, method, data); 
						}
					})(namespace, path[0]); 
				} else {
					var child = path[0]; 
					path.shift(); 
					_find(path, obj[child]); 
				}
			}
			_find(call.split("."), self); 
		}, 
		$init: function(host){
			var self = this; 
			if(host) {
				if(host.host) RPC_HOST = host.host;
			} 
			console.log("Init UBUS"); 
			var deferred = $.Deferred(); 
			default_calls.map(function(x){ self.$register(x); }); 
			// request list of all methods and construct rpc object containing all of the methods in javascript. 
			rpc_request("list", "*", "", {}).done(function(result){
				//console.log("RESULT: "+JSON.stringify(result)); 
				// TODO: make this less obscure of a method :)
				function _processNode(obj, cur_path){
					var is_leaf = true; 
					var leafs = {}; 
					Object.keys(obj).map(function(x){
						if((typeof obj[x]) == "object") {
							leafs[x] = obj[x]; 
							is_leaf = false; 
						} else {
							
						}
					}); 
					if(is_leaf && cur_path){
						// add a new rpc call 
						//console.log("Leaf: "+namespace+", "+method); 
						self.$register(cur_path); 
					} else { 
						//console.log("Processing node: "+cur_path); 
						Object.keys(leafs).map(function(x){
							var path = ((cur_path)?(cur_path+"."):"")+x; 
							_processNode(leafs[x], path); 
						}); 
					}
				}
				_processNode(result, null); 
				deferred.resolve(); 
			}).fail(function(){
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		}
	}; 
	
	scope.UBUS = rpc; 
	/*if(exports.JUCI){
		var JUCI = exports.JUCI; 
		JUCI.ubus = rpc; 
		console.log(JSON.stringify(JUCI.app)); 
		// luci rpc module for communicating with the server
		if(JUCI.app) {
			JUCI.app.factory('$rpc', function($rootScope, $config, gettext){
				return window.rpc; 
			}); 
		}
	} else {
		console.log("RPC: Not registering as JUCI plugin!"); 
	}*/
	
})(typeof exports === 'undefined'? this : global); 

;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

(function(scope){
	//var JUCI = exports.JUCI; 
	var $rpc = scope.UBUS; 
	
	// just for the extractor
	var gettext = function(str) { return str; }; 
	
	function DefaultValidator(){
		this.validate = function(field){
			return null; // return null to signal that there was no error
		}
	}
	
	function TimespanValidator(){
		this.validate = function(field){
			var parts = field.value.split("-"); 
			if(parts.length != 2) return gettext("Please specify both start time and end time for schedule!"); 
			function split(value) { return value.split(":").map(function(x){ return Number(x); }); };
			var from = split(parts[0]);
			var to = split(parts[1]); 
			if(from[0] >= 0 && from[0] < 24 && to[0] >= 0 && to[0] < 24 && from[1] >= 0 && from[1] < 60 && to[1] >= 0 && to[1] < 60){
				if((from[0]*60+from[1]) < (to[0]*60+to[1])) {
					return null; 
				} else {
					return gettext("Schedule start time must be lower than schedule end time!"); 
				}
			} else {
				return gettext("Please enter valid time value for start and end time!"); 
			}
		}
	}
	
	function WeekDayListValidator(){
		this.validate = function(field){
			if(!field.schema.allow) return null; 
			var days_valid = field.value.filter(function(x){
				return field.schema.allow.indexOf(x) != -1; 
			}).length; 
			if(!days_valid) return gettext("Please pick days between mon-sun"); 
			return null; 
		}
	}

	function PortValidator(){
		var PORT_REGEX = /^\d{1,5}$/;

		this.validate = function(field){
			if(field.value == undefined || !field.value.split) return null; 
			var parts = field.value.split("-");
			if (parts.length > 1) {  // check if it is a port range or not
				for (var i = 0; i < parts.length; i++) {
					var outcome = this.validatePort(parts[i]);
					if (outcome != null) { return outcome; }
				}
			} else {
				return this.validatePort(parts)
			}
		};

		this.validatePort = function(port) {
			if (PORT_REGEX.test(port)) { // valid regex
				if (port <= 0 || port > 65535) {
					return gettext("Port value must be between 0 and 65536");
				} else {
					return null;
				}
			} else {
				return gettext("Port value is invalid");
			}
		}
	}
	
	var section_types = {
		"juci": {
			"settings": {
				"theme":					{ dvalue: "", type: String }, 
				"lang":						{ dvalue: "", type: String }, 
				"themes":					{ dvalue: [], type: Array }, 
				"plugins":				{ dvalue: [], type: Array }, 
				"languages":			{ dvalue: [], type: Array }
			}, 
			"test": { // used for unit testing!
				"str":						{ dvalue: "", type: String }, 
				"num":						{ dvalue: 0, type: Number },
				"bool":						{ dvalue: false, type: Boolean }
			}
		}, 
		"boardpanel": {
			"settings": {
				"usb_port": 		{ dvalue: true, type: Boolean }, 
				"status_led": 	{ dvalue: true, type: Boolean }, 
				"power_led": 		{ dvalue: true, type: Boolean }, 
				"power_led_br":	{ dvalue: 100, type: Number },
				"wifibutton": 	{ dvalue: true, type: Boolean },
				"wpsbutton": 		{ dvalue: true, type: Boolean },
				"wpsdevicepin": { dvalue: true, type: Boolean }
			},
			"services": {
				"internet":				{ dvalue: "", type: String },
				"voice":					{ dvalue: "", type: String },
				"iptv":						{ dvalue: "", type: String }
			}
		}, 
		"firewall": {
			"defaults": {
				"syn_flood":		{ dvalue: true, type: Boolean }, 
				"input":				{ dvalue: "ACCEPT", type: String }, 
				"output":				{ dvalue: "ACCEPT", type: String }, 
				"forward":			{ dvalue: "REJECT", type: String }, 
			}, 
			"zone": {
				"name":					{ dvalue: "", type: String }, 
				"input":				{ dvalue: "ACCEPT", type: String }, 
				"output":				{ dvalue: "ACCEPT", type: String }, 
				"forward":			{ dvalue: "REJECT", type: String }, 
				"network": 			{ dvalue: [], type: Array }, 
				"masq":					{ dvalue: true, type: Boolean }, 
				"mtu_fix": 			{ dvalue: true, type: Boolean }
			}, 
			"redirect": {
				"name":					{ dvalue: "", type: String }, 
				"src":					{ dvalue: "", type: String }, 
				"dest":					{ dvalue: "", type: String }, 
				"src_ip":				{ dvalue: "", type: String },
				"src_dport":		{ dvalue: 0, type: String, validator: PortValidator },
				"proto":				{ dvalue: "", type: String }, 
				"dest_ip":			{ dvalue: "", type: String }, 
				"dest_port":		{ dvalue: 0, type: String, validator: PortValidator }, 
			}, 
			"include": {
				"path": 				{ dvalue: "", type: String }, 
				"type": 				{ dvalue: "", type: String }, 
				"family": 			{ dvalue: "", type: String }, 
				"reload": 			{ dvalue: true, type: Boolean }
			}, 
			"dmz": {
				"enabled": 			{ dvalue: false, type: Boolean }, 
				"host": 				{ dvalue: "", type: String } // TODO: change to ip address
			}, 
			"rule": {
				"name":					{ dvalue: "", type: String }, 
				"src":					{ dvalue: "lan", type: String }, 
				"src_ip":				{ dvalue: "", type: String }, 
				"src_port":			{ dvalue: 0, type: Number }, 
				"proto":				{ dvalue: "tcp", type: String }, 
				"dest":					{ dvalue: "*", type: String }, 
				"dest_ip":			{ dvalue: "", type: String }, 
				"dest_port":		{ dvalue: 0, type: Number }, 
				"target":				{ dvalue: "REJECT", type: String }, 
				"family": 			{ dvalue: "ipv4", type: String }, 
				"icmp_type": 		{ dvalue: [], type: Array },
				"enabled": 			{ dvalue: true, type: Boolean },
				"hidden": 			{ dvalue: true, type: Boolean }, 
				"limit":				{ dvalue: "", type: String }
			}, 
			"settings": {
				"disabled":			{ dvalue: false, type: Boolean },
				"ping_wan":			{ dvalue: false, type: Boolean }
			}
		}, 
		"system": {
			"system": {
				"timezone":		{ dvalue: '', type: String },
				"zonename":		{ dvalue: '', type: String },
				"conloglevel":		{ dvalue: 0, type: Number },
				"cronloglevel":		{ dvalue: 0, type: Number },
				"hostname":		{ dvalue: '', type: String },
				"displayname":		{ dvalue: '', type: String },
				"log_size":		{ dvalue: 200, type: Number }
			},
			"upgrade": {
				"fw_check_url":		{ dvalue: "", type: String, required: false},
				"fw_path_url":		{ dvalue: "", type: String, required: false},
				"fw_find_ext":		{ dvalue: "", type: String, required: false},
				"fw_upload_path":	{ dvalue: "", type: String, required: false}
			}
		}
	};
	function UCI(){
		
	}
	(function(){
		function UCIField(value, schema){
			if(!schema) throw new Error("No schema specified for the field!"); 
			this.ovalue = value; 
			if(value != null && value instanceof Array) {
				this.ovalue = []; Object.assign(this.ovalue, value); 
			} 
			this.dirty = false; 
			this.uvalue = undefined; 
			this.schema = schema; 
			if(schema.validator) this.validator = new schema.validator(); 
			else this.validator = new DefaultValidator(); 
		}
		UCIField.prototype = {
			$reset: function(value){
				this.ovalue = this.uvalue = value; 
				if(value != null && value instanceof Array) {
					this.ovalue = []; Object.assign(this.ovalue, value); 
				}
				this.dirty = false; 
			}, 
			get value(){
				if(this.uvalue == undefined) return this.ovalue;
				else return this.uvalue; 
			},
			set value(val){
				if(!this.dirty && this.ovalue != val) this.dirty = true; 
				this.uvalue = val; 
			},
			get error(){
				return this.validator.validate(this); 
			},
			get valid(){
				return this.validator.validate(this) == null; 
			}
		}
		UCI.Field = UCIField; 
	})(); 
	(function(){
		function UCISection(config){
			this[".config"] = config; 
		}
		
		UCISection.prototype.$update = function(data){
			if(!(".type" in data)) throw new Error("Supplied object does not have required '.type' field!"); 
			// try either <config>-<type> or just <type>
			var sconfig = section_types[this[".config"][".name"]]; 
			if((typeof sconfig) == "undefined") throw new Error("Missing type definition for config "+this[".config"][".name"]+"!"); 
			var type = 	sconfig[data[".type"]]; 
			if(!type) {
				console.error("Section.$update: unrecognized section type "+this[".config"][".name"]+"-"+data[".type"]); 
				return; 
			}
			var self = this; 
			self[".original"] = data; 
			self[".name"] = data[".name"]; 
			self[".type"] = data[".type"]; 
			self[".section_type"] = type; 
			
			Object.keys(type).map(function(k){
				var field = self[k]; 
				if(!field) { field = self[k] = new UCI.Field("", type[k]); }
				var value = type[k].dvalue; 
				if(!(k in data)) { 
					//console.log("Field "+k+" missing in data!"); 
				} else {
					switch(type[k].type){
						case String: value = data[k]; break; 
						case Number: 
							var n = Number(data[k]); 
							if(isNaN(n)) n = type.dvalue;
							value = n; 
							break; 
						case Array: 
							if(data[k] instanceof String) value = [data[k]]; 
							else value = data[k];  
							break; 
						case Boolean: 
							if(data[k] === "true" || data[k] === "1") value = true; 
							else if(data[k] === "false" || data[k] === "0") value = false; 
							break; 
						default: 
							value = data[k]; 
					}
				}
				field.$reset(value); 
			}); 
		}
		
		UCISection.prototype.$sync = function(){
			var deferred = $.Deferred(); 
			var self = this; 

			$rpc.uci.state({
				config: self[".config"][".name"], 
				section: self[".name"]
			}).done(function(data){
				self.$update(data.values);
				deferred.resolve(); 
			}).fail(function(){
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		}
		
		/*
		UCISection.prototype.$save = function(){
			var deferred = $.Deferred(); 
			var self = this; 
			
			// try to validate the section using section wide validator
			if(self[".validator"] instanceof Function) self[".validator"](self); 
			
			$rpc.uci.set({
				config: self[".config"][".name"], 
				section: self[".name"], 
				values: self.$getChangedValues()
			}).done(function(data){
				deferred.resolve(); 
			}).fail(function(){
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		}*/
		
		UCISection.prototype.$delete = function(){
			var self = this; 
			if(self[".config"]) return self[".config"].$deleteSection(self); 
			var def = $.Deferred(); 
			setTimeout(function(){
				def.reject(); 
			}, 0); 
			return def.promise(); 
		}
		
		UCISection.prototype.$getErrors = function(){
			var errors = []; 
			var self = this; 
			var type = self[".section_type"]; 
			Object.keys(type).map(function(k){
				if(self[k] && self[k].error){
					errors.push(self[k].error); 
				}
			}); 
			return errors; 
		}
		
		UCISection.prototype.$getChangedValues = function(){
			var type = this[".section_type"]; 
			if(!type) return {}; 
			var self = this; 
			var changed = {}; 
			
			if(type[".validator"] instanceof Function) type[".validator"](self); 
			
			Object.keys(type).map(function(k){
				if(self[k] && self[k].dirty){ 
					//console.log("Adding dirty field: "+k); 
					changed[k] = self[k].value; 
				}
			}); 
			return changed; 
		}
		UCI.Section = UCISection; 
	})(); 
	(function(){
		function UCIConfig(uci, name){
			var self = this; 
			self.uci = uci; 
			self[".name"] = name; 
			self["@all"] = []; 
			if(!name in section_types) throw new Error("Missing type definition for config "+name); 
			
			// set up slots for all known types of objects so we can reference them in widgets
			Object.keys(section_types[name]||{}).map(function(type){
				self["@"+type] = []; 
			}); 
			//this["@deleted"] = []; 
		}
		
		function _insertSection(self, item){
			//console.log("Adding local section: "+self[".name"]+"."+item[".name"]); 
			var section = new UCI.Section(self); 
			section.$update(item); 
			var type = "@"+item[".type"]; 
			if(!(type in self)) self[type] = []; 
			self[type].push(section); 
			self["@all"].push(section); 
			self[item[".name"]] = section; 
			return section; 
		}
		function _updateSection(self, item){
			var section = self[item[".name"]]; 
			if(section && section.$update) section.$update(item); 
		}
		
		function _unlinkSection(self, section){
			// NOTE: can not use filter() because we must edit the list in place 
			// in order to play well with controls that reference the list! 
			console.log("Unlinking local section: "+self[".name"]+"."+section[".name"]+" of type "+section[".type"]); 
			var all = self["@all"]; 
			for(var i = 0; i < all.length; i++){
				if(all[i][".name"] === section[".name"]) {
					all.splice(i, 1); 
					break; 
				}; 
			}
			var jlist = self["@"+section[".type"]]||[]; 
			for(var j = 0; j < jlist.length; j++){
				if(jlist[j][".name"] === section[".name"]) {
					jlist.splice(j, 1); 
					break; 
				}
			}
			if(section[".name"]) delete self[section[".name"]]; 
		}
		
		UCIConfig.prototype.$sync = function(){
			var deferred = $.Deferred(); 
			var self = this; 
			
			var to_delete = {}; 
			Object.keys(self).map(function(x){
				if(self[x].constructor == UCI.Section) to_delete[x] = self[x]; 
			}); 
			//console.log("To delete: "+Object.keys(to_delete)); 
			$rpc.uci.revert({
				config: self[".name"]//, 
				//ubus_rpc_session: $rpc.$sid()
			}).always(function(){ // we have to use always because we always want to sync regardless if reverts work or not ( they will not if the config is readonly! )
				$rpc.uci.state({
					config: self[".name"]
				}).done(function(data){
					var vals = data.values;
					Object.keys(vals).filter(function(x){
						return vals[x][".type"] in section_types[self[".name"]]; 
					}).map(function(k){
						if(!(k in self)) _insertSection(self, vals[k]); 
						else _updateSection(self, vals[k]); 
						delete to_delete[k]; 
					}); 
					
					// now delete any section that no longer exists in our local cache
					async.eachSeries(Object.keys(to_delete), function(x, next){
						if(!to_delete[x]) { next(); return; }
						var section = to_delete[x]; 
						//console.log("Would delete section "+section[".name"]+" of type "+section[".type"]); 
						_unlinkSection(self, section); 
						next(); 
					}, function(){
						deferred.resolve();
					});  
				}).fail(function(){
					deferred.reject(); 
				}); 
			}); 
			return deferred.promise(); 
		}
		// set object values on objects that match search criteria 
		// if object does not exist, then create a new object 
		UCIConfig.prototype.set = function(search, values){
			var self = this; 
			self["@all"].map(function(item){
				var match = Object.keys(search).filter(function(x){ item[x] != search[x]; }).length == 0; 
				if(match){
					Object.keys(values).map(function(x){
						item[x].value = values[x]; 
					}); 
				}
			}); 
		}
		
		UCIConfig.prototype.$registerSectionType = function(name, descriptor, validator){
			var config = this[".name"]; 
			var conf_type = section_types[config]; 
			if(typeof conf_type === "undefined") conf_type = section_types[config] = {}; 
			conf_type[name] = descriptor; 
			this["@"+name] = []; 
			if(validator !== undefined && validator instanceof Function) conf_type[name][".validator"] = validator; 
			console.log("Registered new section type "+config+"."+name); 
		}
		
		UCIConfig.prototype.$deleteSection = function(section){
			var self = this; 
			var deferred = $.Deferred(); 
			
			//self[".need_commit"] = true; 
			$rpc.uci.delete({
				"config": self[".name"], 
				"section": section[".name"]
			}).done(function(){
				_unlinkSection(self, section); 
				console.log("Deleted section "+self[".name"]+"."+section[".name"]); 
				self[".need_commit"] = true; 
				deferred.resolve(); 
			}).fail(function(){
				console.error("Failed to delete section!"); 
				deferred.reject(); 
			}); 
			return deferred.promise(); 
		}
		
		// creates a new object that will have values set to values
		UCIConfig.prototype.create = function(item, offline){
			var self = this; 
			if(!(".type" in item)) throw new Error("Missing '.type' parameter!"); 
			var type = section_types[self[".name"]][item[".type"]]; 
			if(!type) throw Error("Trying to create section of unrecognized type ("+self[".name"]+"."+item[".type"]+")"); 
			
			// TODO: validate values!
			var values = {}; 
			Object.keys(type).map(function(k){ 
				if(k in item) values[k] = item[k]; 
				else {
					//if(type[k].required) throw Error("Missing required field "+k); 
					values[k] = type[k].dvalue; 
				}
			}); 
			var deferred = $.Deferred(); 
			
			if((".name" in item) && (item[".name"] in self)){ // section with specified name already exists
				setTimeout(function(){
					deferred.reject("Section with name "+item[".name"]+" already exists in config "+self[".name"]); 
				}, 0); 
				return deferred.promise(); 
			}
			
			console.log("Adding: "+item[".type"]+": "+JSON.stringify(values)); 
			$rpc.uci.add({
				"config": self[".name"], 
				"type": item[".type"],
				"name": item[".name"], 
				"values": values
			}).done(function(state){
				console.log("Added new section: "+state.section); 
				item[".name"] = state.section; 
				self[".need_commit"] = true; 
				var section = _insertSection(self, item); 
				//section[".new"] = true; 
				deferred.resolve(section); 
			}).fail(function(){
				deferred.reject(); 
			});
			return deferred.promise(); 
		}
		
		
		UCIConfig.prototype.$getWriteRequests = function(){
			var self = this; 
			var reqlist = []; 
			self["@all"].map(function(section){
				var changed = section.$getChangedValues(); 
				//console.log(JSON.stringify(changed) +": "+Object.keys(changed).length); 
				if(Object.keys(changed).length){
					reqlist.push({
						"config": self[".name"], 
						"section": section[".name"], 
						"values": changed
					}); 
				}
			}); 
			return reqlist; 
		}
		
		UCI.Config = UCIConfig; 
	})(); 
	
	UCI.prototype.$init = function(){
		var deferred = $.Deferred(); 
		console.log("Init UCI"); 
		var self = this; 
		if(!$rpc.uci) {
			setTimeout(function(){ deferred.reject(); }, 0); 
			return deferred.promise(); 
		}
		
		$rpc.uci.configs().done(function(response){
			var cfigs = response.configs; 
			if(!cfigs) { next("could not retrieve list of configs!"); return; }
			cfigs.map(function(k){
				if(!(k in section_types)) {
					console.log("Missing type definition for config "+k); 
					return; 
				}
				if(!(k in self)){
					//console.log("Adding new config "+k); 
					self[k] = new UCI.Config(self, k); 
				}
			}); 
			deferred.resolve(); 
		}).fail(function(){
			deferred.reject(); 
		}); 
		return deferred.promise(); 
	}
	
	UCI.prototype.$registerConfig = function(name){
		if(!(name in section_types)) section_types[name] = {}; 
		if(!(name in this)) this[name] = new UCI.Config(this, name); 
	}
	
	UCI.prototype.$eachConfig = function(cb){
		var self = this; 
		Object.keys(self).filter(function(x){ 
			return self[x].constructor == UCI.Config; 
		}).map(function(x){
			cb(self[x]); 
		});
	}
	 
	UCI.prototype.sync = function(configs){
		var deferred = $.Deferred(); 
		var self = this; 
		
		async.series([
			function(next){
				if(configs == undefined || configs.length == 0) { 
					// if no argument provided then we sync all configs
					configs = Object.keys(self).filter(function(x){ 
						return self[x].constructor == UCI.Config; 
					}); 
					//next(); return; 
				} else if(!(configs instanceof Array)) {
					configs = [configs]; 
				}
				async.eachSeries(configs, function(cf, next){
					if(!(cf in self)) { 
						//throw new Error("invalid config name "+cf); 
						// NOTE: this can not throw because we need to sync all configs that we can sync
						// TODO: decide on whether to always resolve if at least one config compiles
						// or to always reject if at least one config fails. 
						next(); 
						return; 
					}; 
					self[cf].$sync().done(function(){
						console.log("Synched config "+cf); 
						
						next(); 
					}).fail(function(){
						console.error("Could not sync config "+cf); 
						next(); // continue because we want to sync as many as we can!
						//next("Could not sync config "+cf); 
					}); 
				}, function(err){
					next(err); 
				}); 
			}
		], function(err){
			setTimeout(function(){ // in case async did not defer
				if(err) deferred.reject(err); 
				else deferred.resolve(); 
			}, 0); 
		}); 
		return deferred.promise(); 
	}
	
	UCI.prototype.$revert = function(){
		var revert_list = []; 
		var deferred = $.Deferred(); 
		var errors = []; 
		var self = this; 
		
		Object.keys(self).map(function(k){
			if(self[k].constructor == UCI.Config){
				if(self[k][".need_commit"]) revert_list.push(self[k][".name"]); 
			}
		}); 
		async.eachSeries(revert_list, function(item, next){
			$rpc.uci.revert({"config": item[".name"], "ubus_rpc_session": $rpc.$sid()}).done(function(){
				console.log("Reverted config "+item[".name"]); 
				next(); 
			}).fail(function(){
				errors.push("Failed to revert config "+item[".name"]); 
				next(); 
			}); 
		}, function(){
			if(errors.length) deferred.reject(errors); 
			else deferred.resolve(); 
		}); 
		return deferred.promise(); 
	}
	
	UCI.prototype.save = function(){
		var deferred = $.Deferred(); 
		var self = this; 
		var writes = []; 
		var add_requests = []; 
		var resync = {}; 
		
		async.series([
			function(next){ // commit configs that need committing first
				var commit_list = []; 
				Object.keys(self).map(function(k){
					if(self[k].constructor == UCI.Config){
						if(self[k][".need_commit"]) {
							commit_list.push(self[k][".name"]); 
							self[k][".need_commit"] = false; 
						}
					}
				}); 
				async.each(commit_list, function(config, next){
					console.log("Committing changes to "+config); 
					$rpc.uci.commit({config: config}).done(function(){
						next(); 
					}).fail(function(err){
						next("could not commit config: "+err); 
					});
				}, function(){
					next(); 
				});
			}, 
			function(next){ // send all changes to the server
				Object.keys(self).map(function(k){
					if(self[k].constructor == UCI.Config){
						var reqlist = self[k].$getWriteRequests(); 
						reqlist.map(function(x){ writes.push(x); });  
					}
				}); 
				console.log("Will do following write requests: "+JSON.stringify(writes)); 
				async.eachSeries(writes, function(cmd, next){
					$rpc.uci.set(cmd).done(function(){
						console.log("Wrote config "+cmd.config); 
						resync[cmd.config] = true; 
						next(); 
					}).fail(function(){
						console.error("Failed to write config "+cmd.config); 
						next(); 
					}); 
				}, function(){
					next(); 
				}); 
			}, 
			function(next){
				async.eachSeries(Object.keys(resync), function(config, next){
					console.log("Committing changes to "+config); 
					$rpc.uci.commit({config: config}).done(function(){
						self[config][".need_commit"] = false; 
						self[config].$sync().done(function(){
							next(); 
						}).fail(function(err){
							console.log("error synching config "+config+": "+err); 
							next("syncerror"); 
						}); 
					}).fail(function(err){
						next("could not commit config: "+err); 
					}); 
				}, function(err){
					console.log("Commit done!"); 
					// this is to always make sure that we do this outside of this code flow
					setTimeout(function(){
						if(err) deferred.reject(err); 
						else deferred.resolve(err); 
					},0); 
				}); 
			}
		]); 
		return deferred.promise(); 
	}
	
	scope.UCI = new UCI(); 
	scope.UCI.validators = {
		WeekDayListValidator: WeekDayListValidator, 
		TimespanValidator: TimespanValidator, 
		PortValidator: PortValidator
	}; 
	/*if(exports.JUCI){
		var JUCI = exports.JUCI; 
		JUCI.uci = exports.uci = new UCI(); 
		if(JUCI.app){
			JUCI.app.factory('$uci', function(){
				return $juci.uci; 
			}); 
		}
	}*/
})(typeof exports === 'undefined'? this : global); 
;
//var JUCI = {}, $juci = JUCI; 

(function(scope){
	var $uci = scope.UCI; 
	var $rpc = scope.UBUS; 
	
	function JUCIMain(){
		this.plugins = {}; 
	}
	
	JUCIMain.prototype.module = function(name, root, data){
		var self = this; 
		if(data){
			data.plugin_root = root; 
			self.plugins[name] = data; 
		}
		var plugin = self.plugins[name]; 
		var juci = self; 
		return {
			plugin_root: ((plugin||{}).plugin_root||"plugins/"+name+"/"), 
			directive: function(name, fn){
				return angular.module("luci").directive(name, fn);
			}, 
			controller: function(name, fn){
				return angular.module("luci").controller(name, fn); 
			}, 
			state: function(name, obj){
				if(obj.templateUrl && plugin.plugin_root) obj.templateUrl = plugin.plugin_root + "/" + obj.templateUrl; 
				if(obj.views) Object.keys(obj.views).map(function(k){
					var v = obj.views[k]; 
					if(v.templateUrl && plugin.plugin_root) v.templateUrl = plugin.plugin_root + "/" + v.templateUrl; 
				}); 
				$juci.$stateProvider.state(name, obj); 
				return this; 
			}
		}
	}; 
	
	JUCIMain.prototype.$init = function(){
		var scripts = []; 
		var deferred = $.Deferred(); 
		async.series([
			function(next){
				scope.UBUS.$init().done(function(){
					if(!scope.UBUS.router || !scope.UBUS.router.info){
						alert("Questd must have crashed or is not running. Restart it on the router!"); 
					}
				}).fail(function(){
					console.error("UBUS failed to initialize!"); 
				}).always(function(){ next(); }); 
			},  
			function(next){
				$uci.$init().fail(function(){
					console.error("UCI failed to initialize!"); 
				}).always(function(){ next(); }); 
			}, 
			function(next){
				$juci.config.$init().fail(function(){
					console.error("CONFIG failed to initialize!"); 
				}).always(function(){ next(); }); 
			}, 
			function(next){
				var count = 0; 
				if(JUCI_COMPILED && JUCI_PLUGINS) {
					function dirname(path) { var dir = path.split("/"); dir.pop(); return dir.join("/");}
					Object.keys(JUCI_PLUGINS).map(function(plugin){
						var dir = dirname(plugin);
						var name = dir.split("/").pop(); 
						console.log("Registering builtin plugin: "+name+": "+dir+" "+JUCI_PLUGINS[plugin]); 
						JUCI.module(name, dir, JUCI_PLUGINS[plugin]); 
						JUCI.plugins[name] = JUCI_PLUGINS[plugin]; 
					});
					next(); 
					return; 
				}
				async.each($juci.config.plugins, function(id, next){
					count++; 
					console.log(".."+id, 10+((80/$juci.config.plugins.length) * count)); 
					var plugin_root = "plugins/"+id; 
					$.getJSON(plugin_root + "/plugin.json")
					.done(function(data){
						console.log("found plugin "+id); 
						$juci.module(id, plugin_root, data); 
						//$juci.plugins[id] = data; 
						if(data && data.scripts){
							data.scripts.map(function(x){scripts.push(plugin_root + "/" + x); });
						} 
						// load page controllers
						if(data.pages) {
							Object.keys(data.pages).map(function(k){
								var page = data.pages[k]; 
								if(page.view){
									//scripts.push(plugin_root + "/" + page.view); 
									var url = k.replace(/\./g, "-").replace(/_/g, "-").replace(/\//g, "-"); 
									var name = url.replace(/\//g, "_").replace(/-/g, "_"); 
									//console.log("Registering state "+name+" at "+url); 
									scripts.push(plugin_root + "/" + page.view); 
								}
							}); 
						} 
						next(); 
					}).error(function(data){
						next(); 
					}); 
				}, function(){
					next(); 
				}); 
			}, 
			function(next){
				$rpc.$authenticate().done(function(){
					// here we get router info part of the config. It will allow us to 
					// pick the correct theme in the init script. TODO: perhaps do this somewhere else? 
					$rpc.router.info().done(function(info){
						//console.log("Router info: "+JSON.stringify(info.system)); 
						if(info && info.system) $juci.config.system = info.system; 
						next(); 
					}).fail(function(){
						console.error("Could not get system info. This gui depends on questd. You likely do not have it installed on your system!"); 
						next(); 
					});
				}).fail(function(){
					console.log("Failed to verify session."); 
					next(); 
				}); 
			},
			function(next){
				
				
				// TODO: this will be moved somewhere else. What we want to do is 
				// pick both a theme and plugins based on the router model. 
				//console.log("Detected hardware model: "+$juci.config.system.hardware); 
				var themes = {
					"CG300A": "inteno-red"
				}; 
				var $config = $juci.config; 
				
				$config.mode = localStorage.getItem("mode") || "basic"; 
				$config.theme = localStorage.getItem("theme") || themes[$config.system.hardware] || "inteno-red"; 
				
				$config.theme = "vodafone";
				
				if(!JUCI_COMPILED){
					$juci.theme.changeTheme($config.theme).done(function(){
						next(); 
					}).fail(function(){
						next(); 
					}); 
				} else {
					next(); 
				}
			}, 
			function(next){
				if(!JUCI_COMPILED){
					require(scripts, function(module){
						next(); 
					}); 
				} else {
					next(); 
				}
			}, 
			function(next){
				// get the menu navigation
				if($rpc.luci2){
					console.log("Getting menu.."); 
					$rpc.luci2.ui.menu().done(function(data){
						//console.log(JSON.stringify(data)); 
						Object.keys(data.menu).map(function(key){
							var menu = data.menu[key]; 
							var view = menu.view; 
							var path = key; 
							//console.log("MENU: "+path); 
							var obj = {
								path: path, 
								href: path.replace(/\//g, "-").replace(/_/g, "-"), 
								modes: data.menu[key].modes || [ ], 
								text: data.menu[key].title, 
								index: data.menu[key].index || 0, 
							}; 
							$juci.navigation.register(obj); 
						}); 
						//console.log("NAV: "+JSON.stringify($navigation.tree())); 
						//$rootScope.$apply(); 
						next(); 
					}).fail(function(){
						next();
					}); 
				} else {
					console.error("Menu call is not present!"); 
					next(); 
				}
			}
		], function(){
			deferred.resolve(); 
		}); 
		return deferred.promise(); 
	}
	
	scope.JUCI = scope.$juci = new JUCIMain(); 
	if(typeof angular !== "undefined"){
		var app = scope.JUCI.app = angular.module("luci", [
			"ui.bootstrap",
			"ui.router", 
			'ui.select',
			'angularModalService', 
			"uiSwitch",
			"ngAnimate", 
			"gettext", 
			"checklist-model"
		]); 
		app.factory('$rpc', function(){
			return scope.UBUS; 
		});
		app.factory('$uci', function(){
			return scope.UCI; 
		}); 		
		/*app.factory('$session', function() {
			return scope.UBUS.$session; 
		});*/
		app.factory('$localStorage', function() {
			return scope.localStorage; 
		});
	}
})(typeof exports === 'undefined'? this : exports); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

// TODO: make this automatic
if(!window.JUCI_COMPILED) window.JUCI_COMPILED = 0; 
//if(!global.JUCI_PLUGINS) global.JUCI_COMPILED = 0; 

$.jsonRPC.setup({
  endPoint: '/ubus',
  namespace: 'luci'
});

window.$ = $; 

require.config({
    baseUrl: '/',
    urlArgs: 'v=1.0'
});



JUCI.app.config(function ($stateProvider, $locationProvider, $compileProvider, $urlRouterProvider, $controllerProvider, $templateCacheProvider, $provide) {
	console.log("CONF"); 
	//$locationProvider.otherwise({ redirectTo: "/" });
	$locationProvider.hashPrefix('!');
	$locationProvider.html5Mode(false); 
	
	$juci.controller = $controllerProvider.register; 
	$juci.directive = $compileProvider.directive; 
	$juci.state = $stateProvider.state; 
	$juci.decorator = function(name, func){
		return $provide.decorator(name, func); 
	}
	$juci.$config = angular.module("luci").config; 
	$juci.$stateProvider = $stateProvider; 

	$juci.$urlRouterProvider = $urlRouterProvider; 
	$juci.redirect = function(page){
		var DEVMODE = (JUCI_COMPILED)?"":"devgui.html"; 
		window.location.href = DEVMODE+"#!/"+page; 
	}
	
	$stateProvider.state("404", {
		url: "/404", 
		views: {
			"content": {
				templateUrl: "/html/404.html"
			}
		},
		onEnter: function(){
			if(!$juci._initialized){
				$juci.redirect("/init/404"); 
			}
		}
	}); 
	// application init state. All initialization is done here. 
	$stateProvider.state("init", {
		url: "/init/:redirect", 
		views: {
			"content": {
				templateUrl: "html/init.html"
			}
		}, 
		onEnter: function($state, $stateParams, $config, $rpc, $navigation, $location, $rootScope, $http){
			if($juci._initialized) {
				$juci.redirect($stateParams.redirect || "overview"); 
				return;
			} else {
				
			}
		},
	}); 
	$urlRouterProvider.otherwise("404"); 
})
.run(function($templateCache){
	var _get = $templateCache.get; 
	var _put = $templateCache.put; 
	$templateCache.get = function(name){
		name = name.replace(/\/\//g, "/").replace(/^\//, ""); 
		//console.log("Get template '"+name+"'"); 
		return _get.call($templateCache, name); 
	}
	$templateCache.put = function(name, value){
		name = name.replace(/\/\//g, "/").replace(/^\//, ""); 
		//console.log("Put template '"+name+"'"); 
		return _put.call($templateCache, name, value); 
	}
})
.run(function($rootScope, $state, gettextCatalog, $tr, gettext, $rpc, $config, $location, $navigation, $templateCache){
	console.log("RUN"); 
	
	if(JUCI_COMPILED && JUCI_TEMPLATES !== undefined){
		Object.keys(JUCI_TEMPLATES).map(function(x){
			$templateCache.put(x, JUCI_TEMPLATES[x]); 
		}); 
	}
	
	// TODO: maybe use some other way to gather errors than root scope? 
	$rootScope.errors = []; 
	$rootScope.$on("error", function(ev, data){
		$rootScope.errors.push({message: data}); 
		//console.log("ERROR: "+ev.name+": "+JSON.stringify(Object.keys(ev.currentScope))); 
	}); 
	// set current language
	gettextCatalog.currentLanguage = "en"; 
	gettextCatalog.debug = true;
	
	var path = $location.path().replace(/\//g, "").replace(/\./g, "_");  
	
	// Generate states for all loaded pages
	Object.keys($juci.plugins).map(function(pname){
		var plugin = $juci.plugins[pname]; 
		Object.keys(plugin.pages||{}).map(function(k){
			var page = plugin.pages[k]; 
			if(page.view){
				//scripts.push(plugin_root + "/" + page.view); 
				var url = k.replace(/\./g, "-").replace(/_/g, "-").replace(/\//g, "-"); 
				var name = url.replace(/\//g, "_").replace(/-/g, "_"); 
				//console.log("Registering state "+name+" at "+url); 
				var plugin_root = "/plugins/"+pname; 
				$juci.$stateProvider.state(name, {
					url: "/"+url, 
					views: {
						"content": {
							templateUrl: plugin_root + "/" + page.view + ".html", 
						}
					},
					// Perfect! This loads our controllers on demand! :) 
					// Leave this code here because it serves as a valuable example
					// of how this can be done. 
					/*resolve: {
						deps : function ($q, $rootScope) {
							var deferred = $q.defer();
							require([plugin_root + "/" + page.view + ".js"], function (tt) {
								$rootScope.$apply(function () {
										deferred.resolve();
								});
								deferred.resolve()
							});
							return deferred.promise;
						}
					},*/
					onEnter: function($uci, $rootScope){
						$rootScope.errors.splice(0, $rootScope.errors.length); 
						
						// this will touch the session so that it does not expire
						$rpc.$authenticate().done(function(){
							$uci.$revert(); 
						}).fail(function(){
							$juci.redirect("login");
						});
						
						document.title = $tr(k.replace(/\//g, ".")+".title")+" - "+$tr(gettext("application.name")); 
					}, 
					onExit: function($interval){
						JUCI.interval.$clearAll(); 
					}
				}); 
			}
		}); 
	}); 
	if($rpc.$isLoggedIn()){
		$juci.redirect(path||"overview"); 
	} else {
		$juci.redirect("login"); 
	};  
})
// TODO: figure out how to avoid forward declarations of things we intend to override. 
.directive("luciFooter", function(){ return {} })
.directive("luciLayoutNaked", function(){ return {} })
.directive("luciLayoutSingleColumn", function(){ return {} })
.directive("luciLayoutWithSidebar", function(){ return {} })
.directive("luciNav", function(){ return {} })
.directive("luciNavbar", function(){ return {} })
.directive("luciTopBar", function(){ return {} })
.directive('ngOnload', [function(){
	return {
		scope: {
				callBack: '&ngOnload'
		},
		link: function(scope, element, attrs){
				element.on('load', function(){
						return scope.callBack();
				})
		}
}}]); 

// make autofocus directive work as expected
JUCI.app.directive('autofocus', ['$timeout', function($timeout) {
  return {
    restrict: 'A',
    link : function($scope, $element) {
      $timeout(function() {
        $element[0].focus();
      });
    }
  }
}]);

angular.element(document).ready(function() {
	JUCI.$init().done(function(){
		angular.bootstrap(document, ["luci"]);
	}).fail(function(){
		alert("JUCI failed to initialize! look in browser console for more details (this should not happen!)"); 
	}); 
});

;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

(function(scope){
	function supports_html5_storage() {
		try {
			return window && 'localStorage' in window && window['localStorage'] !== null;
		} catch (e) {
			return false;
		}
	}
	var fake_storage = {}; 
	function JUCILocalStorage(){
		this.getItem = function(item){ 
			if(supports_html5_storage()) return window.localStorage.getItem(item); 
			else return fake_storage[item]; 
		}; 
		this.setItem = function(item, value){
			if(supports_html5_storage()) return window.localStorage.setItem(item, value); 
			else fake_storage[item] = value; 
			return fake_storage[item]; 
		}
	}
	scope.localStorage = new JUCILocalStorage(); 
})(typeof exports === 'undefined'? this : global); 

;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

(function($juci){
	function JUCIConfig(){
		this.system = {}; 
	}
	JUCIConfig.prototype.$init = function(){
		var deferred = $.Deferred(); 
		var self = this; 
		console.log("Init CONFIG"); 
		
		self["wan_interface"] = "wan"; 
		self["voice_interface"] = "wan"; 
		self["iptv_interface"] = "wan"; 
		
		UCI.sync(["juci", "boardpanel"]).done(function(){
			if(UCI.juci && UCI.juci.settings){
				console.log("Using settings from config/juci on router"); 
				Object.keys(UCI.juci.settings).map(function(k){
					var i = UCI.juci.settings[k]; 
					if(i.value !== undefined) self[k] = i.value; 
				}); 
				if(UCI.boardpanel && UCI.boardpanel.settings){
					var net = UCI.boardpanel.network; 
					if(net.internet.value) self["wan_interface"] = net.internet.value; 
					if(net.voice.value) self["voice_interface"] = net.voice.value; 
					if(net.iptv.value) self["iptv_interface"] = net.iptv.value; 
				}
				deferred.resolve(); 
			} else {
				loadJSON(); 
			}
		}).fail(function(){
			loadJSON(); 
		}); 
		function loadJSON(){
			console.log("Using settings from config.json on router"); 
			$.get("/config.json", {
				format: "json"
			}).done(function(data){
				if(!data || data == undefined) throw new Error("Could not get config.json!"); 
				Object.keys(data).map(function(k) { self[k] = data[k]; }); 
				deferred.resolve(); 
			}).fail(function(){
				deferred.reject(); 
			}); 
		}
		
		return deferred.promise(); 
	}
	$juci.config = new JUCIConfig(); 
	
	JUCI.app.factory('$config', function(){
		return $juci.config; 
	}); 
})(JUCI); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

// provides a service for managing all pages
// pages register with this service, and menus can query it to get the navigation tree

(function($juci){
	function JUCINavigation(){
		var data = {
			children: {},
			children_list: []
		}; 
		var self = this; 
		this.tree = function(path){
			if(!path)
				return data; 
			return this.findLeaf(path); 
		};
		this.findLeaf = function(path){
			//console.log("FIND LEAF: "+path); 
			var parts = path.split("/"); 
			var obj = data; 
			// find the right leaf node
			while(parts.length){
				if(obj.children.hasOwnProperty(parts[0])){
					obj = obj.children[parts.shift()]; 
				} else {
					return null; 
				}
			} 
			return obj; 
		};
		this.insertLeaf = function(path, item){
			//console.log("INSERT LEAF: "+path); 
			var parts = item.path.split("/"); 
			var obj = data; 
			// find the right leaf node
			while(parts.length > 1){
				if(obj.children.hasOwnProperty(parts[0])){
					obj = obj.children[parts.shift()]; 
				} else {
					obj.children[parts[0]] = {
						children: {},
						children_list: []
					};
					obj = obj.children[parts.shift()]; 
				}
			} 
			if(!item.children) {
				item.children = {}; 
				item.children_list = []; 
			}
			if(!obj.children.hasOwnProperty(parts[0])){
				obj.children[parts[0]] = item; 
				obj.children_list.push(item); 
			} else {
				var o = obj.children[parts[0]]; 
				var children = o.children; 
				Object.assign(o, item);
				Object.assign(o.children, children); 
				item = o; 
			}
					obj.children_list = Object.keys(obj.children).map(function (key) {
							return obj.children[key]; });
			obj.children_list.sort(function(a, b){
				return a.index - b.index; 
			}); 
			return item; 
		};
		this.register = function(item){
			if(!item.path) return; 
			item = this.insertLeaf(item.path, item); 
			
			return data; 
		}; 
	}
	JUCI.navigation = new JUCINavigation(); 
	
	JUCI.app.factory('$navigation', function navigationProvider(){
		return JUCI.navigation; 
	}); 
})(JUCI); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app.factory('$status', function($rpc) {
	var updates = {
		"router.info": 4000,
		"network.interface.wan": 1000
	}; 
	var ret = {}; 
	window.status = ret; 
	function getdata(obj, path){
		for (var i=0, path=path.split('.'), len=path.length; i<len; i++){
				if(obj == undefined) return null; 
				obj = obj[path[i]];
		};
		return obj;
	}
	function putdata(obj, path, data){
		for (var i=0, path=path.split('.'), len=path.length; i<len; i++){
			if(!obj.hasOwnProperty(path[i])) {
				obj[path[i]] = {}; 
			} 
			obj = obj[path[i]];
			if(i == (len - 1)){
				Object.keys(data).map(function(k){
					obj[k] = data[k]; 
				}); 
			}
		};
	}
	Object.keys(updates).map(function(item){
		var call = getdata($rpc, item); 
		if(call){
			(function(interval){
				setInterval(function(){
					call().done(function(data){
						putdata(ret, item, data); 
					}); 
				}, interval);
			})( updates[item]);  
			
			call().done(function(data){
				putdata(ret, item, data); 
			}); 
		} 
	}); 
	
	return {
		ubus: ret, 
		get: function(path){
			return getdata(ret, path); 
		}
	}; 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 
// service for managing session data
JUCI.app.factory('$tr', function(gettextCatalog) {
	return function(str){
		return gettextCatalog.getString(str); 
	}
});

JUCI.app.factory('$languages', function($config, gettextCatalog, $localStorage) {
	gettextCatalog.currentLanguage = $localStorage.getItem("language") || "en"; 
	return {
		getLanguages: function(){
			return $config.languages.filter(function(lang){
				return lang in gettextCatalog.strings; 
			}).map(function(lang){
				return {
					title: "language."+lang, 
					short_code: lang
				}
			}); 
		}, 
		setLanguage: function(short_code){
			gettextCatalog.currentLanguage = short_code; 
			$localStorage.setItem("language", short_code); 
		}
	}
});
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

(function($juci){
	function JUCIThemeManager(){
		this.currentTheme = null; 
		this.themes = {}; 
		this.loadTheme = function(theme_id){
			console.log("Loading theme "+theme_id); 
			var deferred = $.Deferred(); 
			var self = this; 
			var themes = this.themes; 
			if(!(theme_id in themes)) {
				var theme_root = "themes/"+theme_id; 
				$.getJSON(theme_root+"/theme.json").done(function(data){
					if(!data) return; 
					
					// create new module
					//$juci.module(theme_id, theme_root, data); 
					
					themes[theme_id] = data; 
					if(data.scripts){
						async.eachSeries(data.scripts, function(script, next){
							console.log("Loading "+theme_root + "/"+script); 
							if(!JUCI_COMPILED){
								require([theme_root + "/"+script], function(module){
									next(); 
								}); 
							} else {
								next(); 
							}
						}, function(){
							deferred.resolve(data); 
						}); 
					} else {
						deferred.resolve(data); 
					}
				}).fail(function(){
					console.log("Could not retreive theme config for theme: "+theme_id); 
					self.changeTheme("default"); 
				}); 
			} else {
				deferred.resolve(themes[theme_id]); 
			}
			return deferred.promise(); 
		}; 
		this.changeTheme = function(theme_id){
			var deferred = $.Deferred(); 
			this.loadTheme(theme_id).done(function(theme){
				$juci.config.theme = theme_id; 
				localStorage.setItem("theme", theme_id); 
				var theme_root = "themes/"+theme_id; 
				$("head link[data-theme-css]").remove(); 
				if(theme.styles){
					theme.styles.map(function(x){
						console.log("Adding "+theme_root+'/' + x); 
						var style = $('<link href="'+theme_root+'/' + x + '" rel="stylesheet" data-theme-css/>');
						style.appendTo('head'); 
					}); 
				}
				deferred.resolve(); 
			}).fail(function(){
				deferred.reject(); 
				// error
			}); 
			return deferred.promise(); 
		};  
		this.getCurrentTheme = function(){
			return localStorage.getItem("theme"); 
		}, 
		this.getAvailableThemes = function(){
			return this.themes; 
		}
	}; 
	JUCI.theme = new JUCIThemeManager(); 
	JUCI.app.factory('$theme', function($rootScope, $config, $localStorage, $http){
		return JUCI.theme; 
	}); 
})(JUCI); 
;
(function(){
	var _timeouts = {}; 
	JUCI.interval = {
		once: function(t, fn){
			var i = setTimeout(function _onTimeout(){
				fn(function next(ret, err){
					clearTimeout(i); 
					delete _timeouts[name]; 
				}); 
			}, t); 
			_timeouts[name] = i; 
		}, 
		repeat: function(name, t, fn){
			function _onTimeout(){
				fn(function next(ret, err){
					if(!ret) {
						if(!_timeouts[name] || !_timeouts[name].cleared)
							_timeouts[name] = setTimeout(_onTimeout, t); 
					}
				}); 
			}
			//_timeouts[name] = setTimeout(_onTimeout, t); 
			_onTimeout(); 
		}, 
		$clearAll: function(){
			Object.keys(_timeouts).map(function(t){ 
				clearTimeout(_timeouts[t]); 
				_timeouts[t].cleared = true; 
			});
		} 
	}; 
})(); 
;
// bootstrap example page
;
$juci.module("core")
.controller("LoginPageCtrl", function($scope){
	console.log("LOGIN PAGE: "+$juci.module("core").plugin_root);  
}); 
;
$juci.module("core")
.controller("OverviewPageCtrl", function($scope, $rpc, $uci, $config, gettext, $tr){
	$scope.themeUrl = ""; 
	$scope.config = $config; 
	
	$scope.wireless = {
		clients: []
	}; 
	$scope.network = {
		clients: []
	}; 
	$scope.dsl = {
		
	}; 
	
	$scope.onWPSToggle = function(){
		$uci.wireless.status.wps.value = !$uci.wireless.status.wps.value; 
		$scope.wifiWPSStatus = (($uci.wireless.status.wps.value)?gettext("on"):gettext("off")); 
		$uci.save().done(function(){
			refresh(); 
		}); 
	}
	$scope.onPhoneToggle = function(){
		$uci.wireless.status.wps.value = !$uci.wireless.status.wps.value; 
		$scope.wifiWPSStatus = (($uci.wireless.status.wps.value)?gettext("on"):gettext("off")); 
		$uci.save().done(function(){
			refresh(); 
		}); 
	}
	$scope.onPhoneToggle = function(){
		$uci.voice_client.RINGING_STATUS.enabled.value = !$uci.voice_client.RINGING_STATUS.enabled.value; 
		$scope.phoneSchedStatus = (($uci.voice_client.RINGING_STATUS.enabled.value)?gettext("on"):gettext("off")); 
		$uci.save().done(function(){
			refresh(); 
		}); 
	}
	
	function refresh() {
		//var sections = result.values; 
		//var cfgs = Object.keys(sections).filter(function(x) { return x.indexOf("cfg") == 0; }); 
		//$scope.wireless.wps = cfgs.filter(function(x) { return cfgs["wps_pbc"] == 1; }).length != 0; 
		
		$scope.defaultHostName = $tr(gettext("Unknown")); 
		$scope.sipAccounts = []; 
		$scope.wifiSchedStatus = gettext("off"); 
		$scope.wifiWPSStatus = gettext("off"); 
		$scope.phoneSchedStatus = gettext("off"); 
		async.series([
			function(next){
				$uci.sync(["wireless", "boardpanel", "voice_client"]).done(function(){
					$scope.wifi = $uci.wireless; 
					$scope.boardpanel = $uci.boardpanel; 
					$scope.voice_client = $uci.voice_client; 
					if($uci.wireless && $uci.wireless.status) {
						$scope.wifiSchedStatus = (($uci.wireless.status.schedule.value)?gettext("on"):gettext("off")); 
						$scope.wifiWPSStatus = (($uci.wireless.status.wps.value)?gettext("on"):gettext("off")); 
						$scope.phoneSchedStatus = (($uci.voice_client.RINGING_STATUS.enabled.value)?gettext("on"):gettext("off")); 
					}
					if($uci.voice_client && $uci.voice_client["@sip_service_provider"]){
						$scope.sipAccounts = $uci.voice_client["@sip_service_provider"]; 
					}
				}).always(function(){ next(); }); 
			}, 
			function(next){
				$rpc.router.clients().done(function(clients){
					//alert(JSON.stringify(Object.keys(clients).map(function(x) { return clients[x]; }))); 
					var all = Object.keys(clients).map(function(x) { return clients[x]; }); 
					$scope.wireless.clients = all.filter(function(x){
						return x.connected && x.wireless == true; 
					}); 
					$scope.network.clients = all.filter(function(x){
						return x.connected && x.wireless == false; 
					}); 
					next(); 
				}).fail(function(){
					next();
				});; 
			},
			function(next){
				var ifname = $config.wan_interface; // TODO: replace this with dynamic string after merge
				$rpc.network.interface.dump().done(function(interfaces){
					var conn = ""; 
					if(interfaces && interfaces.interface){
						interfaces.interface.map(function(i){
							if(i.interface == ifname){
								var dev = i.l3_device||i.device||""; 
								if(dev.indexOf("atm") == 0) conn = "ADSL"; 
								else if(dev.indexOf("ptm") == 0) conn = "VDSL"; 
								else if(dev.indexOf("eth") == 0) conn = "FTTH"; 
								else if(dev.indexOf("wwan") == 0) conn = "LTE"; 
								else if(dev.indexOf("wl") == 0) conn = "Wi-Fi"; 
								else conn = "N/A"; 
							}
						}); 
					} 
					$scope.wan_type = conn; 
				}).always(function(){ next(); }); 
			}, 
			function(next){
				/*$rpc.asterisk.status().done(function(data){
					if(data && data.sip){
						var accounts = []; 
						Object.keys(data.sip).map(function(k){
							if(data.sip[k].ip) accounts.push(data.sip[k]); 
						}); 
						$scope.sipAccounts = accounts; 
					}
				}).always(function(){ next(); }); */
				// just fall through 
				next(); 
			}, 
			function(next){
				$rpc.router.dslstats().done(function(dslstats){
					var stats = dslstats.dslstats;
					if(stats && stats.bearers && stats.bearers.length > 0){ 
						$scope.dsl.max_rate_up = Math.round(stats.bearers[0].max_rate_up / 1000); 
						$scope.dsl.max_rate_down = Math.round(stats.bearers[0].max_rate_down / 1000); 
					}
				}).always(function(){ next(); }); 
			}
		], function(){
			$scope.$apply(); 
		}); 
	} refresh(); 
}); 
;
$juci.module("core")
.directive('modal', function ($parse) {
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		templateUrl: plugin_root + "/widgets/core.modal.html", 
		restrict: 'E',
		transclude: true,
		replace:true,
		scope: {
			acceptLabel: "@",
			dismissLabel: "@",
			ngShow: "=",
			onAccept: "&", 
			onDismiss: "&", 
			title: "@",
			hideCloseBtn : "@",
			formIncluded : "@"
		}, 
		controller: "ModalController", 
		link: function postLink(scope, element, attrs) {
			scope.element = element;
			scope.$watch("ngShow", function(value){
				if(value == true)
					$(element).modal('show');
				else
					$(element).modal('hide');
			});
		}
	};
})
.controller('ModalController', function($scope) {
	
});
;
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.directive("luciBrightness", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		// accepted parameters for this tag
		scope: { 
			model: "=ngModel", 
			min: "@", 
			max: "@", 
			ngChange: "&"
		}, 
		templateUrl: plugin_root+"/widgets/luci.brightness.html", 
		replace: true, 
		controller: "luciBrightness",
	}; 
})
.controller("luciBrightness", function($scope){
	$scope.bars = []; 
	
	//if($scope.model == undefined) $scope.model = new Number(0); 
	if($scope.min == undefined) $scope.min = 0; 
	if($scope.max == undefined) $scope.max = 100; 
	var min = $scope.min; var max = $scope.max; 
	var total = (max - min); 
	var step = total / 5; 
	var base_color = "ff";  
	var last_value = $scope.model; 
	
	function update(){
		var bars = []; 
		if($scope.model < min) $scope.model = min; 
		if($scope.model > max) $scope.model = max; 
		for(var i = step; i <= total; i += step){
			var bar = {color: "f00", value: i}; 
			if(i <= $scope.model) 
				bar.color = base_color+("0000"+Math.round(65535 - 65535*((i) / total)).toString(16)).slice(-4); 
			else 
				bar.color = "eee"; 
			//console.log("value: "+$scope.model+" "+bar.color); 
			bars.push(bar); 
		}
		setTimeout(function(){
			if($scope.model !== last_value && $scope.ngChange) {
				last_value = $scope.model;
				$scope.ngChange();  
			}
		}, 0); 
		$scope.bars = bars; 
	} update(); 
	
	$scope.$watch("model", function(value){
		update(); 
	}); 
	
	$scope.onDecrease = function(){
		$scope.model -= step; 
		update(); 
	}
	
	$scope.onIncrease = function(){
		$scope.model += step; 
		update(); 
	}
	$scope.onBarClick = function(bar){
		$scope.model = bar.value; 
		update(); 
		console.log("Changed value to "+bar.value); 
	}
}); 
;
$juci.module("core")
.directive("luciConfig", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		template: '<div ng-transclude></div>', 
		replace: true, 
		transclude: true
	};  
})
.directive("luciConfigSection", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		template: '<div><div class="luci-config-section" ng-transclude></div><hr style="width: 100%; border-bottom: 1px solid #ccc; clear: both;"/></div>', 
		replace: true, 
		transclude: true
	 };  
})
.directive("luciConfigInfo", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		template: '<p class="luci-config-info" ng-transclude></p>', 
		replace: true, 
		transclude: true
	 };  
})
.directive("luciConfigHeading", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		template: '<h2 ng-transclude></h2>', 
		replace: true, 
		transclude: true
	 };  
})
.directive("luciConfigLines", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		template: '<div class="table" ><div ng-transclude></div></div>', 
		replace: true, 
		transclude: true
	 };  
})
.directive("luciConfigLine", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		template: '<div><div class="row" style="margin-top: 20px; ">'+
			'<div class="{{labelClass}}">'+
				'<label style="{{labelStyle}}">{{title}}</label>'+
				'<p style="font-size: 12px">{{help}}</p>'+
			'</div>'+
			'<div class="col-xs-6">'+
				'<div class="{{pullClass}}" ng-transclude></div>'+
			'</div></div></div>', 
		replace: true, 
		scope: {
			title: "@", 
			help: "@"
		}, 
		transclude: true, 
		link: function (scope, element, attrs) {
			if(!("noPull" in attrs)) scope.pullClass = "pull-right";
            if(!("indent" in attrs)) {
                scope.labelClass = "col-xs-6";
                scope.labelStyle = "font-size:1.2em";
            } else {
                scope.labelClass = "col-xs-5 col-xs-offset-1";
                scope.labelStyle = "font-size:1em;transform:translateY(30%);";
            }
        }
	 };  
})
.directive("luciConfigApply", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		template: '<div><div class="btn-toolbar pull-right" >'+
			'<button class="btn btn-lg btn-primary" ng-click="onApply()" ng-disabled="busy"><i class="fa fa-spinner" ng-show="busy"/>{{ "Apply"| translate }}</button><button class="btn btn-lg btn-default" ng-click="onCancel()">{{ "Cancel" | translate }}</button>'+
			'</div><div style="clear: both;"></div></div>', 
		replace: true, 
		scope: {
			onPreApply: "&"
		}, 
		controller: "luciConfigApplyController"
	 }; 
}).controller("luciConfigApplyController", function($scope, $uci){
	$scope.onApply = function(){
		if($scope.onPreApply) $scope.onPreApply(); 
		$scope.busy = 1; 
		try {
			$uci.save().done(function(){
				console.log("Saved uci configuration!"); 
			}).fail(function(){
				console.error("Could not save uci configuration!"); 
			}).always(function(){
				$scope.busy = 0; 
				setTimeout(function(){$scope.$apply();}, 0); 
			}); 
		} catch(e){
			$scope.busy = 0; 
			setTimeout(function(){$scope.$apply();}, 0); 
			$scope.$emit("error", e.message); 
			console.error("Error while applying config: "+e.message); 
		}
	}
	$scope.onCancel = function(){
		// simple way to reset
		window.location.reload(); 
	}
}); 

;
;
JUCI.app
.directive("luciErrors", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		// accepted parameters for this tag
		scope: {
			ngModel: "="
		}, 
		templateUrl: plugin_root+"/widgets/luci.errors.html", 
		replace: true, 
		controller: "luciErrors"
	}; 
})
.controller("luciErrors", function($scope, $rootScope, $localStorage){
	if($scope.ngModel) $scope.errors = $scope.ngModel; 
	else $scope.errors = $rootScope.errors; 
}); 
;
;
JUCI.app
.directive("luciExpandable", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		templateUrl: plugin_root + "/widgets/luci.expandable.html", 
		replace: true, 
		scope: {
			title: "@", 
			status: "="
		}, 
		transclude: true, 
		link: function (scope, element, attrs) {
			
		}
	};  
})
;
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.directive("luciFooter", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	
	return {
		templateUrl: plugin_root+"/widgets/luci.footer.html", 
		controller: "luciFooter"
	}; 
})
.controller("luciFooter", function($scope, $rpc, $languages, gettextCatalog, gettext, $tr, $config){
	// TODO: move this into a higher level controller maybe? 
	$scope.languages = $languages.getLanguages(); 
	$scope.isActiveLanguage = function(lang){
		return gettextCatalog.currentLanguage == lang.short_code; 
	}
	$scope.setLanguage = function(lang){
		$languages.setLanguage(lang.short_code); 
	}; 
	$scope.wanip = $tr(gettext("Not connected")); 
	
	$scope.$init = function(){
		var deferred = $.Deferred(); 
		async.series([
			function(next){
				$rpc.network.interface.dump().done(function(result){
					if(result && result.interface) {
						result.interface.map(function(i){
							if(i.interface == $config.wan_interface && i["ipv4-address"] && i["ipv4-address"].length){
								$scope.wanip = i["ipv4-address"][0].address; 
							}
						}); 
					}
				}).always(function(){ next(); }); 
			},
			function(next){
				$rpc.router.info().done(function(result){
					if(result.system) $scope.firmware = result.system.firmware; 
				}).always(function(){ next(); }); 
			}
		], function(){
			$scope.$apply(); 
			deferred.resolve(); 
		}); 
		return deferred.promise(); 
	}
	$scope.$init(); 
}); 
;
JUCI.app
.directive("luciInputIpAddress", function () {
	var plugin_root = $juci.module("core").plugin_root;
	return {
		templateUrl: plugin_root + "/widgets/luci.input.ipaddress.html",
		restrict: 'E',
		scope: {
				label: "=",
				ngModel: "="
		},
		require: "^ngModel",
		link: function (scope, element, attrs, ctrl) {
			
		}
	};
})
.controller("luciInputIpAddress", function($scope){
	$scope.data = [];

	if($scope.ngModel && $scope.ngModel.split){
		var parts = $scope.ngModel.split(".");
		$scope.data[0] = parts[0]||"";
		$scope.data[1] = parts[1]||"";
		$scope.data[2] = parts[2]||"";
		$scope.data[3] = parts[3]||"";
	}

	$scope.$watch("data", function() {
		var ipAddress = $scope.data.join('.');
		$scope.ngModel = ipAddress;
	}, true);
}); 
;
JUCI.app
	.directive("luciInputPort", function () {
		var plugin_root = $juci.module("core").plugin_root;
		return {
			templateUrl: plugin_root + "/widgets/luci.input.port.html",
			restrict: 'E',
			replace: true,
			scope: {
				model: "=ngModel", 
				portRange: "="
			},
			require: "ngModel", 
			controller: "luciInputPortController"
		};
	})
	.controller("luciInputPortController", function($scope, $log) {
		$scope.startPort = ""; 
		$scope.endPort = ""; 
		$scope.port = ""; 
		
		$scope.$watch("model", function(value){
			if($scope.portRange && value && value.split){
				var parts = value.split("-"); 
				$scope.startPort = parts[0]||""; 
				$scope.endPort = parts[1]||""; 
			} else {
				$scope.port = value; 
			}
		}); 
		(function(){
			function updateModel(value){
				//console.log("Update: "+value+": "+$scope.model); 
				if($scope.portRange) {
					$scope.model = $scope.startPort + "-" + $scope.endPort; 
					$scope.port = $scope.startPort; 
				} else {
					// filter out anything that is not a number
					var port = String($scope.port).replace(/[^0-9]*/g, "");
					$scope.model = $scope.port = port; 
					$scope.endPort = ""; 
					$scope.startPort = $scope.port; 
				}
			}
			$scope.$watch("startPort", updateModel); 
			$scope.$watch("endPort", updateModel); 
			$scope.$watch("port", updateModel); 
		})(); 
	});
;
/*$juci.module("core")
	.directive("luciInputPortRange", function () {
		var plugin_root = $juci.module("core").plugin_root;
		return {
			templateUrl: plugin_root + "/widgets/luci.input.port.range.html",
			restrict: 'E',
			replace: true,
			scope: {
				model: "=ngModel"
			},
			link: function() {
				
			}, 
			controller: "luciInputPortRange"
		};
	})
	.controller("luciInputPortRange", function($scope){
		$scope.startPort = ""; 
		$scope.endPort = ""; 
		
		$scope.$watch("model", function(value){
			if(value && value.split){
				var parts = value.split("-"); 
				$scope.startPort = parts[0]; 
				$scope.endPort = parts[1]; 
			}
		}); 
		(function(){
			function updateModel(){
				$scope.model = $scope.startPort + "-" + $scope.endPort; 
			}
			$scope.$watch("startPort", updateModel); 
			$scope.$watch("endPort", updateModel); 
		})(); 
	}); 
    
    .directive("validatePortRange", function () {
        var PORT_REGEX = /^\d{1,5}$/;
        return {
            scope: {
                validatePortRange: '='
            },
            require: 'ngModel',
            restrict: 'A',
            link: function (scope, el, attrs, ctrl) {
                ctrl.$validators.validatePortRange = function (modelValue, viewValue) {
                    if (ctrl.$isEmpty(modelValue)) { // consider empty models to be valid
                        ctrl.$setValidity('invalid', true);
                        return true;
                    }
                    if (PORT_REGEX.test(viewValue)) { // valid regex
                        if (viewValue <= 0 || viewValue > 65535) {
                            ctrl.$setValidity('invalid', false);
                            return false;
                        } else {
                            // Check port range
                            var startPort = '';
                            var endPort = '';
                            if (attrs.name === "startPort") {
                                startPort = viewValue;
                                endPort = getEndPortValueFromModel(modelValue);
                                if (endPort == 0 ) {
                                    ctrl.$setValidity('invalid', true);
                                    return true;
                                }
                            } else if (attrs.name === "endPort"){
                                startPort = getStartPortValueFromModel(modelValue);
                                endPort = viewValue;
                                if (startPort == 0 ) {
                                    ctrl.$setValidity('invalid', true);
                                    return true;
                                }
                            }
                            if (!startBeforeEnd(startPort, endPort)) {
                                ctrl.$setValidity('startgreaterthanend', false);
                                return false;
                            } else {

                                //attrs.ngModel = buildSingleFieldRangeForModel();
                                ctrl.$setValidity('invalid', true);
                                ctrl.$setValidity('startgreaterthanend', true);
                                return true;
                            }
                        }
                    } else {
                        ctrl.$setValidity('invalid', false);
                        return false;
                    }
                };
            }
        };

        function getStartPortValueFromModel(modelValue) {
            if (modelValue) {
                var range = modelValue.split('-');
                if (range.length > 0) {
                    return range[0];
                }
            }
            return 0;
        }

        function getEndPortValueFromModel(modelValue) {
            if (modelValue) {
                var range = modelValue.split('-');
                if (range.length > 1) {
                    return range[1];
                }
            }
            return 0;
        }

        function buildSingleFieldRangeForModel(startPort, endPort) {
            return startPort + "-" + endPort;
        }

        function startBeforeEnd(startPort, endPort) {
            if (startPort < endPort) {
                return true;
            }
            return false
        }
    });*/

;
$juci.module("core")
.directive("luciInputRadio", function () {
	var plugin_root = $juci.module("core").plugin_root;
	return {
		templateUrl: plugin_root + "/widgets/luci.input.radio.html",
		restrict: 'E',
		replace: true,
		scope: {
			label: "@",
			value: "=",
			ngModel: "="
		}
	};
});
;
$juci.app.directive("luciInputTimespan", function () {
	var plugin_root = $juci.module("core").plugin_root;
	return {
		templateUrl: plugin_root + "/widgets/luci.input.timespan.html",
		restrict: 'E',
		replace: true,
		scope: {
			model: "=ngModel"
		}, 
		controller: "luciInputTimespan"
	};
}).controller("luciInputTimespan", function($scope){
	$scope.data = {
		from: "", to: ""
	}; 
	$scope.$watch("model", function(model){
		if(model && model.value && model.value.split){
			var value = model.value; 
			var parts = value.split("-"); 
			$scope.data.from = parts[0]||""; 
			$scope.data.to = parts[1]||""; 
		} else {
			$scope.data.to = $scope.data.from = ""; 
		}
	}); 
	
	(function(){
		function updateTime(value){
			if($scope.model){
				if($scope.data.from && $scope.data.to) $scope.model.value = ($scope.data.from||"") + "-"+($scope.data.to||""); 
				else $scope.model.value = ""; 
			}
		}
		$scope.$watch("data.from", updateTime); 
		$scope.$watch("data.to", updateTime); 
	})(); 
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
$juci.module("core")
.directive("luciLayoutNaked", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/luci.layout.naked.html", 
		transclude: true,
		controller: "luciLayoutNakedController",
		controllerAs: "ctrl"
	}; 
})
.controller("luciLayoutNakedController", function($scope){
	
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
$juci.module("core")
.directive("luciLayoutSingleColumn", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		// accepted parameters for this tag
		scope: {
		}, 
		templateUrl: plugin_root+"/widgets/luci.layout.single_column.html", 
		transclude: true,
		controller: "luciLayoutSingleColumnController",
		controllerAs: "ctrl"
	}; 
})
.controller("luciLayoutSingleColumnController", function($scope){
	
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
$juci.module("core")
.directive("luciLayoutWithSidebar", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	
	return {
		// accepted parameters for this tag
		scope: {
		}, 
		templateUrl: plugin_root+"/widgets/luci.layout.with_sidebar.html", 
		transclude: true,
		controller: "luciLayoutWithSidebarController",
		controllerAs: "ctrl"
	}; 
})
.controller("luciLayoutWithSidebarController", function($scope){
	
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
JUCI.app
.directive("luciLogin", function(){
		var plugin_root = $juci.module("core").plugin_root; 
		return {
			// accepted parameters for this tag
			scope: {
			}, 
			templateUrl: plugin_root+"/widgets/luci.login.html", 
			replace: true, 
			controller: "LoginControl",
			controllerAs: "ctrl"
		}; 
	})
	.controller("LoginControl", function($scope, $state, 
		$window, $rpc, $localStorage, gettext){
		$scope.form = { 
			"username": "", 
			"password": "", 
			"remember": 0, 
			"host": "" 
		}; 
		$scope.errors = []; 
		$scope.showHost = 0; 
		if($rpc.local){
			$rpc.local.features().done(function(features){
				if(features.list) features.list.map(function(x){
					if(x.indexOf("rpcforward") == 0) {
						$scope.showHost = 1; 
						$scope.form.host = $localStorage.getItem("rpc_host")||""; 
					}
				}); 
				$scope.$apply(); 
			}); 
		}
		$scope.doLogin = function(){
			var deferred = $.Deferred(); 
			$scope.errors = []; 
			async.series([
				function(next){
					if($scope.form.host.length > 0){
						$rpc.local.set_rpc_host({"rpc_host": $scope.form.host})
						.done(function(){
							$localStorage.setItem("rpc_host", $scope.form.host); 
						})
						.always(function(){next();}); 
					} else {
						next(); 
					}
				}, 
				function(next){
					$rpc.$login({
						"username": $scope.form.username, 
						"password": $scope.form.password, 
						"remember": $scope.form.remember
					}).done(function success(res){
						//$state.go("home", {}, {reload: true});
						$window.location.href="/"; 
						deferred.resolve(); 
					}).fail(function fail(res){
						$scope.errors.push(res); 
						$scope.errors.push(gettext("Please enter correct username and password!"));
						$scope.$apply(); 
						deferred.reject(); 
					}); 
				}
			]); 
			return deferred.promise(); 
		}
		$scope.doLogout = function(){
			var deferred = $.Deferred(); 
			$rpc.$logout().done(function(){
				console.log("Logged out!"); 
				//$state.go("home", {}, {reload: true});
				JUCI.redirect("overview"); //$window.location.href="/"; 
				deferred.resolve(); 
			}).fail(function(){
				console.error("Error logging out!");
				deferred.reject(); 
			});  
			return deferred.promise(); 
		}
		
	}); 
		
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
$juci.module("core")
.directive("luciNav", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		// accepted parameters for this tag
		scope: {
		}, 
		templateUrl: plugin_root+"/widgets/luci.nav.html", 
		replace: true, 
		controller: "NavCtrl",
		controllerAs: "ctrl"
	}; 
})
.controller("NavCtrl", function($scope, $navigation, $location, $state, $rootScope, $config){
	$scope.showSubMenuItems = false;

	$scope.hasChildren = function(menu){
		return Object.keys(menu.children) > 0;
	};
	$scope.isItemActive = function (item) {
		if ('/' + item.href === $location.path()) {
			if(item.children_list && item.children_list.length > 0) {
				$scope.showSubMenuItems = true;
			} else {
				$scope.showSubMenuItems = false;
			}
				return true;
		} else if ($location.path().indexOf('/' + item.href) === 0) {
			$scope.showSubMenuItems = true;
		} else {
			$scope.showSubMenuItems = false;
		}
		return false;
	};

	$scope.isSubItemActive = function (item) {
		return '/' + item.href === $location.path();
	};

	$scope.itemVisible = function(item){
		if(!item.modes.length) return true; 
		else if(item.modes && item.modes.indexOf($config.mode) == -1) {
			return false; 
		} 
		else return true; 
	};

	function activate(){
		var path = $location.path().replace(/^\/+|\/+$/g, '');
		var subtree = path.split("-")[0];
		$scope.tree = $navigation.tree(subtree);
	}
	activate();
	
});
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 

$juci.module("core")
.directive("luciNavbar", function($location, $rootScope){
	var plugin_root = $juci.module("core").plugin_root; 
	function activate(){
		var path = $location.path().replace(/^\/+|\/+$/g, ''); 
		var subtree = path.split("-")[0]; 
		
		setTimeout(function(){
			$("ul.nav li a").parent().removeClass("open"); 
			$("ul.nav li a[href='#!"+subtree+"']").addClass("open"); 
			$("ul.nav li a[href='#!"+subtree+"']").parent().addClass("open"); 
		}, 0); 
	}; activate(); 
	$rootScope.$on('$stateChangeSuccess', function(event, toState, toParams, fromState, fromParams){
		activate(); 
	});
	return {
		restrict: 'E', 
		templateUrl: plugin_root+"/widgets/luci.navbar.html", 
		replace: true
	}; 
})
.controller("NavigationCtrl", function($scope, $location, $navigation, $rootScope, $config, $rpc){
	$scope.tree = $navigation.tree(); 
	$scope.hasChildren = function(menu){
		return menu.children_list > 0; 
	}
	$scope.isActive = function (viewLocation) { 
		return viewLocation === $location.path();
	};
	/*
	$(function(){
		var themes = $config.themes; 
		$config.theme = localStorage.getItem("theme") || "default"; 
		//var bootstrap = $('<link href="'+themes[$config.theme]+'/css/bootstrap.min.css" rel="stylesheet" />');
		var theme = $('<link href="'+themes[$config.theme]+'/css/theme.css" rel="stylesheet" />');
		//bootstrap.appendTo('head');
		theme.appendTo('head'); 
		$('.theme-link').click(function(){
			var themename = $(this).attr('data-theme');
			var themeurl = themes[themename];
			$config.theme = themename;
			localStorage.setItem("theme", themename);
			//bootstrap.attr('href',themeurl+"/css/bootstrap.min.css");
			theme.attr('href',themeurl+"/css/theme.css");
		});
	});*/
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.directive("luciProgress", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		// accepted parameters for this tag
		scope: {
			value: "=", 
			total: "=", 
			units: "="
		}, 
		templateUrl: plugin_root+"/widgets/luci.progress.html", 
		replace: true, 
		controller: "LuciProgressControl",
		link: function(scope, element, attributes){
			// make sure we interpret the units as string
			scope.units = attributes.units; 
		}
	}; 
})
.controller("LuciProgressControl", function($scope, $navigation){
	function update(){
		if($scope.value && Number($scope.value) != 0)
			$scope.width = Math.round((Number($scope.value||0) / Number($scope.total||0)) * 100); 
		else
			$scope.width = 0; 
	}
	$scope.$watch("value", update);
	$scope.$watch("total", update); 
}); 
;
$juci.module("core")
.directive('luciSelect', function ($compile) {
	return {
	restrict: 'E',
	scope: {
		selectedItem: '=ngModel', 
		items: '=ngItems',
		onChange: '&onChange',
		placeholder: '@placeholder',
		prefix: "@", 
		size: '=size'
	},
	require: ["ngModel"], 
	link: function (scope, element, attrs, ngModel) {
		var html = '';
	
		switch (attrs.type) {
			case "dropdown":
				html += '<div class="dropdown dropdown-toggle" data-toggle="dropdown" ><a class="dropdown-toggle" role="button" data-toggle="dropdown"  href="javascript:;">{{((selectedItem||{}).label || placeholder) | translate}}<b class="caret"></b></a>';
				break;
			default:
				html += '<div class="btn-group" style="white-space: nowrap;"><button class="btn btn-default button-label {{size_class}}" style="display: inline-block; float:none; ">{{selectedText | translate}}</button><button class="btn btn-default dropdown-toggle" style="display: inline-block; float:none;" data-toggle="dropdown"><span class="caret"></span></button>';
				break;
		}
		html += '<ul class="dropdown-menu"><li ng-repeat="item in itemList"><a tabindex="-1" data-ng-click="selectVal(item)" href="">{{item.label}}</a></li></ul></div>';
		element.append($compile(html)(scope));
		
		if(scope.size) 
			scope.size_class = "btn-"+scope.size; 
			
		scope.$watch("size", function(){
			scope.size_class = "btn-"+scope.size; 
		}); 
		scope.selectedText = scope.placeholder; 
		
		scope.$watch("items", function(value){
			if(value){
				scope.itemList = value.map(function(x){
					//console.log(JSON.stringify(x)+" "+JSON.stringify(scope.selectedItem));
					if(typeof x == "object" && "value" in x){
						/*if(scope.selectedItem != undefined && scope.selectedItem.value == x.value)
							scope.selectedText = scope.selectedItem.label || scope.placeholder;
						else if(scope.selectedItem == x.value){
							scope.selectedText = x.label || scope.placeholder; 
						}*/
						//console.log(JSON.stringify(x)+" "+JSON.stringify(scope.selectedItem));
						return { label: x.label, value: x.value }; 
					} else {
						/*if(scope.selectedItem == x){
							scope.selectedText = scope.selectedItem || scope.placeholder; 
						}*/
						return { label: x, value: x }; 
					}
				}); 
			}
		}); 
		scope.$watch("selectedItem", function(value){
			//console.log("Selected item: "+JSON.stringify(value));
			if(value != undefined && (typeof value) == "object") {
				if("value" in value) scope.selectedText = value.label; 
				else scope.selectedText = scope.placeholder; 
			}
			else if(value != undefined && scope.itemList != undefined) { 
				scope.itemList.map(function(x){
					if(x.value == value) scope.selectedText = x.label;
				}); 
			} 
			//else scope.selectedText = value || scope.placeholder; 
		}); 
		
		scope.selectVal = function (item) {
			if(!item) return; 
			switch (attrs.type) {
				case "dropdown":
					$('a.dropdown-toggle', element).html('<b class="caret"></b> ' + item.label);
					break;
				default:
					$('button.button-label', element).html(item.label);
					break;
			}
			//console.log("DROPDOWN: "+JSON.stringify(scope.selectedItem)+", "+item.value);
			var value = item; 
			if("value" in item) 
				value = item.value; 
			if(value instanceof Array) { // make it work for lists without changing reference
				if(!(scope.selectedItem instanceof Array)) scope.selectedItem = []; 
				scope.selectedItem.splice(0, scope.selectedItem.length); 
				value.map(function(x){ scope.selectedItem.push(x); }); 
			} else if(value instanceof Object){ // make it work for objects without changing reference
				Object.assign(scope.selectedItem, value);
			} else {
				scope.selectedItem = value; // make it work for primitive types
			}
			//ngModel.$setViewValue(scope.selectedItem); 
			attrs.$set("ngModel", value); 
			setTimeout(function(){ // defer the call till after $digest is finished
				scope.onChange();
			}, 0); 
		};
		//scope.selectVal(scope.selectedItem);
	}
	};
});
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
$juci.module("core")
	.directive('dynamic', function ($compile, $interpolate) {
		return {
			restrict: 'A',
			replace: true,
			link: function (scope, element, attrs) {
				scope.$watch(attrs.dynamic, function(html) {
					element.html(html);
					$compile(element.contents())(scope);
				});
			}
		};
	})
	.directive("luciTable", function($compile){
		var plugin_root = $juci.module("core").plugin_root; 
		return {
			// accepted parameters for this tag
			scope: {
				data: "=", 
				columns: "=", 
				title: "@", 
				noequalize: "="
			}, 
			templateUrl: plugin_root+"/widgets/luci.table.html", 
			replace: true, 
			controller: "TableControl",
			controllerAs: "ctrl",
			/*link: function(scope, element, attributes){
				 $compile('<luci-progress value="50" total="100"></luci-progress>')(scope, function(cloned, scope){ 
					 element.html(cloned); 
					}); 
				}*/
		 };  
	})
	.controller("TableControl", function($scope){
		if(!$scope.data)
			$scope.data = {}; 
		// assign columns from passed argument if present
		if($scope.columns && $scope.columns.length){
			if(!$scope.data.hasOwnProperty("columns"))
				$scope.data.columns = []; 
			Object.assign($scope.data.columns, $scope.columns); 
		}
		// make all columns the same size
		$scope.cell_class = ""; 
		$scope.first_cell_class = ""; 
		var ncols = 0; 
		if($scope.data.rows && $scope.data.rows[0]){
			ncols = $scope.data.rows[0].length; 
		} else if($scope.data.columns){
			ncols = $scope.data.columns.length; 
		} else {
			ncols = 0; 
		}
		if(ncols){
			// try to extend first column if the division is not whole number 
			if(ncols < 12){
				var w = Math.round(12 / ncols); 
				$scope.cell_class = "col-xs-"+w;
				if(((12 / ncols) - w) != 0){ 
					$scope.first_cell_class="col-xs-"+(12 - w * (ncols - 1)); 
				} else {
					$scope.first_cell_class= $scope.cell_class; 
				}
			}
		} 
		$scope.cellClass = function(idx){
			if(idx == 0) return $scope.first_cell_class; 
			return $scope.cell_class; 
		}
	}); 
;
$juci.module("core")
.directive("luciTopBar", function($compile){
	var plugin_root = $juci.module("core").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/luci.top_bar.html", 
		controller: "luciTopBarController", 
		replace: true
	 };  
})
.controller("luciTopBarController", function($scope, $config, $uci, $rpc, $window, $localStorage, $state, gettext){
	$uci.sync("system").done(function(){
		var system = $uci.system["@system"]; 
		if(system && system.length && system[0].displayname.value){
			$scope.model = system[0].displayname.value; 
		} else {
			$scope.model = ($config.system.name || "") + " " + ($config.system.hardware || ""); 
		}
		
		$scope.$apply(); 
	}); 
	$scope.guiModes = [
		{label: gettext("Basic Mode"), value: "basic"},
		{label: gettext("Expert Mode"), value: "expert"},
		{label: gettext("Log out"), value: "logout"}
	]; 
	Object.keys($scope.guiModes).map(function(k){
		var m = $scope.guiModes[k];
        if (!$config.mode) {
            $config.mode = "basic"; // by default
        }
		if(m.value == $config.mode) $scope.selectedModeValue = m;
	});  
	$scope.onChangeMode = function(){
		var selected = $scope.selectedModeValue;
        console.log("selected value", selected);
        if(selected == "logout") {
            console.log("logging out");
            $rpc.$logout().always(function(){
				$window.location.href="/";
			});
		} else {
			$localStorage.setItem("mode", selected);
			$config.mode = selected;
			$state.reload();
		}
	};
}); 
;
$juci.module("core")
.directive("juciThemePicker", function(){
	var plugin_root = $juci.module("core").plugin_root; 
	
	return {
		templateUrl: plugin_root+"/widgets/theme_picker.html", 
		replace: true
	 };  
})
.controller("JuciThemePickerController", function($scope, $theme, $config){
	$scope.themes = $config.themes.map(function(x){
		var item = {
			value: x, 
			label: x
		}; 
		if(x == $theme.getCurrentTheme()) $scope.selectedTheme = item; 
		return item; 
	}); 
	if(!$scope.selectedTheme) $scope.selectedTheme = $scope.themes[0]; 
	$scope.onChangeTheme = function(){
		//alert($scope.selectedTheme.id); 
		$theme.changeTheme($scope.selectedTheme.value).done(function(){
			window.location.reload(); 
		});
	}
}); 
;
JUCI.app
.config(function($stateProvider) {
	var plugin_root = $juci.module("internet").plugin_root; 
	$stateProvider.state("internet", {
		url: "/internet", 
		onEnter: function(){
			$juci.redirect("internet-firewall"); 
		}
	}); 
});

UCI.$registerConfig("network"); 
UCI.network.$registerSectionType("interface", {
	"is_lan":					{ dvalue: false, type: Boolean }, 
	"ifname":					{ dvalue: '', type: String }, 
	"proto":					{ dvalue: 'dhcp', type: String }, 
	"ipaddr":					{ dvalue: '', type: String }, 
	"netmask":				{ dvalue: '', type: String }, 
	"type":						{ dvalue: '', type: String }, 
	"ip6assign":			{ dvalue: 60, type: Number }, 
	"bridge_instance": { dvalue: false, type: Boolean }, 
	"vendorid":				{ dvalue: '', type: String }, 
	"hostname":				{ dvalue: '', type: String }, 
	"ipv6":						{ dvalue: false, type: Boolean },
	"peerdns": 				{ dvalue: false, type: String }, 
	"dns": 						{ dvalue: [], type: Array }
}); 

UCI.$registerConfig("dhcp"); 
UCI.dhcp.$registerSectionType("dnsmasq", {
	"domainneeded":		{ dvalue: true, type: Boolean },
	"boguspriv":		{ dvalue: true, type: Boolean },
	"localise_queries":	{ dvalue: true, type: Boolean },
	"rebind_protection":	{ dvalue: false, type: Boolean },
	"local":		{ dvalue: "/lan/", type: String, required: true},
	"domain":		{ dvalue: "lan", type: String, required: true},
	"expandhosts":		{ dvalue: true, type: Boolean },
	"authoritative":	{ dvalue: true, type: Boolean },
	"readethers":		{ dvalue: true, type: Boolean },
	"leasefile":		{ dvalue: "/tmp/dhcp.leases", type: String, required: true},
	"resolvfile":		{ dvalue: "/tmp/resolv.conf.auto", type: String, required: true}
});
UCI.dhcp.$registerSectionType("dhcp", {
	"interface":		{ dvalue: "lan", type: String, required: true},
	"start":		{ dvalue: 100, type: Number },
	"limit":		{ dvalue: 150, type: Number },
	"leasetime":		{ dvalue: "12h", type: String, required: true},
	"ignore":		{ dvalue: false, type: Boolean }
});
UCI.dhcp.$registerSectionType("domain", {
	"name":		{ dvalue: "", type: String, required: true},
	"ip":		{ dvalue: "", type: String, required: true}  // TODO: change to ip address
});
UCI.dhcp.$registerSectionType("host", {
	"name":		{ dvalue: "", type: String, required: false},
	"mac":		{ dvalue: "", type: String, required: true},
	"ip":		{ dvalue: "", type: String, required: true}  // TODO: change to ip address
}); 

UCI.$registerConfig("ddns");
UCI.ddns.$registerSectionType("service", {
    "enabled":              { dvalue: 0, type: Number },
    "interface":            { dvalue: "", type: String },
    "use_syslog":           { dvalue: 0, type: Number },
    "service_name":         { dvalue: "", type: String },
    "domain":               { dvalue: "", type: String },
    "username":             { dvalue: "", type: String },
    "password":             { dvalue: "", type: String }
});
			
;
JUCI.app
.controller("InternetDNSPageCtrl", function ($scope, $uci, $log, $config) {
	// hardcoded dns providers that we currently support (TODO: make dynamic list)
	$scope.allServices = [
		{ label: "noip.com", value: "noip.com" }
	]; 
	$uci.sync(["network","ddns"]).done(function () {
		if ($uci.network) {
			var wan = $uci.network[$config.wan_interface];
			while(wan.dns.value.length < 2) wan.dns.value.push("");
			$scope.dnsServers = wan.dns.value.map(function(x){ return { value: x }; }); 
			$scope.onDNSBlur = function(){
				wan.dns.value = $scope.dnsServers.map(function(x) { return x.value; }); 
			}; 
			$scope.wan = wan; 
			$scope.$apply(); 
		} else {
			// TODO: this should be a dynamic name (wan will not always be called wan in the future)
			$scope.$emit("Could not find WAN network on this device"); 
		}
		if ($uci.ddns && $uci.ddns["@service"]) {
			/*$scope.allServices = $uci.ddns["@service"].map(function(x){
				return { label: x.service_name.value, value: x.service_name.value };
			}); */ 
			$scope.ddns = $uci.ddns["@service"][0];
			$scope.$apply(); 
		} else {
			$uci.ddns.create({".type": "service"}).done(function(section){
				$scope.ddns = section; 
				$scope.$apply(); 
			}); 
		}
	}); 
	
	$scope.onApply = function(){
		$uci.save(); 
	} 
});
;
$juci.module("internet")
.controller("InternetExHostPageCtrl", function($scope, $rpc, $config, $uci, $tr){
	$scope.config = $config; 
	$scope.wan = {}; 
	
	async.series([
		function(next){
			$uci.sync("firewall").done(function(){
				
			}).always(function(){ next(); }); 
		}, 
		function(next){ 
			if($uci.firewall.dmz == undefined){
				$uci.firewall.create({".type": "dmz", ".name": "dmz"}).done(function(dmz){
					next(); 
				}).fail(function(){
					throw new Error("Could not create required dmz section in config firewall!"); 
				}); 
			} else {
				next(); 
			}
		}, 
		function(next){
			$rpc.network.interface.status({
				"interface": $config.wan_interface
			}).done(function(wan){
				if("ipv4-address" in wan)
					$scope.wan.ip = wan["ipv4-address"][0].address; 
			}).always(function(){ next(); }); 
		}
	], function(){
		$scope.firewall = $uci.firewall; 
		$scope.available = "dmz" in $uci.firewall; 
		$scope.$apply(); 
	}); 
}); 
;
$juci.module("internet")
.controller("InternetFirewallPageCtrl", function($scope, $uci, $config){
	$scope.firewallSwitchState = 0; 
	$uci.sync("firewall").done(function(){
		$scope.firewall = $uci.firewall; 
		$scope.firewallSwitchState = $uci.firewall["@zone"].filter(function(zone){ 
			return zone.name.value == "wan" && zone.input.value == "REJECT" && zone.forward.value == "REJECT"; 
		}).length > 0; 
		$scope.$apply(); 
	}); 
	
	$scope.onFirewallToggle = function(){
		if($scope.firewallSwitchState) {
			$uci.firewall["@zone"].map(function(zone){
				if(zone.name.value == "wan"){
					zone.input.value = "REJECT"; 
					zone.forward.value = "REJECT"; 
				}
			}); 
		} else {
			$uci.firewall["@zone"].map(function(zone){
				if(zone.name.value == "wan"){
					zone.input.value = "ACCEPT"; 
					zone.forward.value = "ACCEPT"; 
				}
			}); 
		}
	}
	
	// just to update the rules based on switch value
	$scope.onFirewallToggle(); 
}); 
;
$juci.app
.controller("InternetPortMappingPageCtrl", function($scope, $uci, ModalService, $rpc){
	function reload(){
		$uci.sync("firewall").done(function(){
			$scope.redirects = $uci.firewall["@redirect"];
			$scope.$apply(); 
		}); 
	} reload(); 
	
	$scope.onAddRule = function(){
		$uci.firewall.create({
			".type": "redirect", 
			"src": "wan", 
			"dest": "lan", 
			"target": "DNAT"
		}).done(function(section){
			$scope.rule = section; 
			$scope.rule[".new"] = true; 
			$scope.rule[".edit"] = true; 
			$scope.showModal = 1;
			$scope.$apply(); 
		}); 
	};
	
	$scope.onEditRule = function(rule){
		$scope.rule = rule; 
		rule[".edit"] = true; 
	};
	
	$scope.onDeleteRule = function(rule){
		rule.$delete().done(function(){
			$uci.save(); 
			$scope.$apply(); 
		}); 
	};
	
	$scope.onAcceptEdit = function(rule){
		$uci.save().done(function(){
			rule[".edit"] = false; 
			$scope.$apply(); 
		}); 
	};
	
	$scope.onCancelEdit = function(rule){
		rule[".edit"] = false; 
		if(rule[".new"]){
			rule.$delete().done(function(){
				$scope.$apply(); 
			}); 
		} else {
			rule.$sync().done(function(){
				$scope.$apply(); 
			}); 
		}
	}
}); 
;
JUCI.app
.controller("SettingsNetworkCtrl", function($scope, $uci){
	$uci.sync("network").done(function(){
		$scope.network = $uci.network; 
		$scope.interfaces = $uci.network['@interface'].filter(function(i){ return i.type.value != "" && i.is_lan.value == true}); 
	}); 
}); 
;
JUCI.app
.controller("StatusNATPageCtrl", function($scope, $rpc, $tr, gettext){
	$scope.conntrack = { count: 0, limit: 0 }; 
	
	$rpc.router.clients().done(function(table){
		var clients = []; 
		Object.keys(table).map(function(x){
			var cl = table[x]; 
			if(cl.connected) clients.push(cl); 
		}); 
		$scope.clients = clients; 
		$scope.conntrack.count = clients.reduce(function(prev, cur){ return prev + (cur.active_cons||0); }, 0); 
		$scope.$apply(); 
	}); 
	
	$rpc.luci2.network.conntrack_count().done(function(res){
		$scope.conntrack.limit = res.limit; 
		$scope.$apply(); 
	});
	
	$rpc.luci2.network.conntrack_table().done(function(table){
		if(table && table.entries){
			$scope.connections = table.entries.sort(function(a, b){ return (a.src+a.dest) < (b.src+b.dest); }).map(function(x){
				switch(x.protocol){
					case 6: x.protocol = "TCP"; break; 
					case 2: x.protocol = "UNIX"; break; 
					case 17: x.protocol = "UDP"; break; 
				}
				return x; 
			}); 
			$scope.$apply(); 
		}
	}); 
}); 
;
$juci.app.directive("uciFirewallNatRuleEdit", function($compile, $parse){
	var plugin_root = $juci.module("internet").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/uci.firewall.nat.rule.edit.html", 
		scope: {
			rule: "=ngModel"
		}, 
		controller: "uciFirewallNatRuleEdit", 
		replace: true, 
		require: "^ngModel"
	 };  
}).controller("uciFirewallNatRuleEdit", function($scope, $uci, $rpc, $log){
	$scope.portIsRange = 0;
	$scope.$watch("rule", function(rule){
		if(rule && rule.src_dport && rule.dest_port && rule.src_dport.value && rule.dest_port.value){
			$scope.portIsRange = (rule.src_dport.value.indexOf("-") != -1) || (rule.dest_port.value.indexOf("-") != -1); 
		}
	}); 
	$scope.protocolChoices = [
		{ label: "UDP", value: "udp"}, 
		{ label: "TCP", value: "tcp"}, 
		{ label: "TCP + UDP", value: "tcpudp" }
	]; 
	$scope.patterns = {
		ipaddress: /^(?!0)(?!.*\.$)((1?\d?\d|25[0-5]|2[0-4]\d)(\.|$)){4}$/,
		port: /^\d{1,5}$/
	};
	$scope.deviceChoices = [{label: "test", value: "id"}];
	$rpc.router.clients().done(function(clients){
		var choices = []; 
		Object.keys(clients).map(function(x) {
			var c = clients[x]; 
			if(c.connected){
				choices.push({
					label: (c.hostname && c.hostname.length)?c.hostname:c.ipaddr, 
					value: c.ipaddr
				}); 
			} 
		}); 
		$scope.deviceChoices = choices; 
		$scope.$apply(); 
	});
	$scope.onPortRangeClick = function(value){
		$scope.portIsRange = value;  
	}
}); 
;
JUCI.app
.directive("uciNetworkInterfaceEdit", function($compile, $parse){
	var plugin_root = $juci.module("internet").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/uci.network.interface.edit.html", 
		scope: {
			interface: "=ngModel"
		}, 
		controller: "uciNetworkInterfaceEdit", 
		replace: true, 
		require: "^ngModel"
	 };  
}).controller("uciNetworkInterfaceEdit", function($scope, $uci, $rpc, $log, gettext){
	$scope.expanded = true; 
	$scope.existingHost = { }; 
	
	$scope.$watch("interface", function(interface){
		$rpc.router.clients().done(function(clients){
			$uci.sync("dhcp").done(function(){
				if($uci.dhcp && interface[".name"] in $uci.dhcp){
					//alert($scope.interface[".name"]); 
					$scope.dhcp = $uci.dhcp[interface[".name"]]; 
					$scope.staticDHCP = $uci.dhcp["@host"]; 
					$scope.hosts = Object.keys(clients).map(function(k){
						return {
							label: clients[k].hostname, 
							value: clients[k]
						}; 
					}); 
					$scope.$apply(); 
				}
			}); 
		}); 
	}); 
	$scope.dhcpLeaseTimes = [
		{ label: "1 "+gettext("Hour"), value: "1h" }, 
		{ label: "6 "+gettext("Hours"), value: "6h" }, 
		{ label: "12 "+gettext("Hours"), value: "12h" }, 
		{ label: "24 "+gettext("Hours"), value: "24h" }, 
		{ label: gettext("Forever"), value: "24h" } // TODO: implement this on server side
	];  
	$scope.onAddStaticDHCP = function(){
		$uci.dhcp.create({".type": "host"}).done(function(section){
			console.log("Added static dhcp"); 
			$scope.$apply(); 
		}); 
	}
	$scope.onRemoveStaticDHCP = function(host){
		if(!host) return; 
		host.$delete().done(function(){
			$scope.$apply(); 
		}); 
	}
	$scope.onAddExistingHost = function(){
		var item = $scope.existingHost; 
		$uci.dhcp.create({
			".type": "host", 
			name: item.hostname, 
			mac: item.macaddr, 
			ip: item.ipaddr
		}).done(function(section){
			console.log("Added static dhcp: "+JSON.stringify(item)); 
			$scope.$apply(); 
		}); 
	}
}); 
;

UCI.$registerConfig("dropbear"); 
UCI.dropbear.$registerSectionType("settings", {
	"enable": 					{ dvalue: true, type: Boolean }, //Set to 0 to disable starting dropbear at system boot.
	"verbose": 					{ dvalue: false, type: Boolean }, //Set to 1 to enable verbose output by the start script.
	"BannerFile": 			{ dvalue: "", type: String} , //Name of a file to be printed before the user has authenticated successfully.
	"PasswordAuth": 		{ dvalue: true, type: Boolean }, //Set to 0 to disable authenticating with passwords.
	"Port": 						{ dvalue: 22, type: Number }, //Port number to listen on.
	"RootPasswordAuth": { dvalue: true, type: Boolean }, //Set to 0 to disable authenticating as root with passwords.
	"RootLogin": 				{ dvalue: true, type: Boolean }, //Set to 0 to disable SSH logins as root.
	"GatewayPorts": 		{ dvalue: false, type: Boolean }, //Set to 1 to allow remote hosts to connect to forwarded ports.
	"Interface": 				{ dvalue: "", type: String }, //Tells dropbear to listen only on the specified interface.1)
	"rsakeyfile": 			{ dvalue: "", type: String }, //Path to RSA file
	"dsskeyfile": 			{ dvalue: "", type: String }, //Path to DSS/DSA file
	"SSHKeepAlive": 		{ dvalue: 300, type: Number }, //Keep Alive
	"IdleTimeout": 			{ dvalue: 0, type: Number } //Idle Timeout 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 
JUCI.app
.controller("DropbearSettings", function($scope, $uci){ 
	$uci.sync("dropbear").done(function(){
		if($uci.dropbear && $uci.dropbear.settings){
			$scope.dropbear = $uci.dropbear.settings; 
			$scope.$apply(); 
		}
	}); 
	$scope.onSave = function(){
		$uci.save(); 
	} 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 
JUCI.app
.controller("PhoneCallLogPageCtrl", function($scope, $uci, gettext, $tr, $rpc){ 
	$scope.phoneFilter = ""; 
	$scope.phoneFilterSelected = {}; 
	$scope.phoneList = []; 
	$scope.call_log = []; 
	$rpc.asterisk.call_log.list().done(function(res){
		var unique_phones = {}; 
		$scope.call_log = res.call_log.map(function(log){
			var date = new Date(log.time.replace(/CEST/g, "")); 
			var now = new Date(); 
			if(now.getDate() == date.getDate() && now.getMonth() == date.getMonth() && date.getFullYear() == now.getFullYear())
				log.date = $tr(gettext("Today")); 
			else 
				log.date = date.getDate() + ":"+date.getMonth()+":"+date.getFullYear(); 
			log.time = date.getHours()+":"+("0"+date.getMinutes()).slice(-2); 
			if(log.direction == "Incoming") unique_phones[log.to] = true; 
			if(log.direction == "Outgoing") unique_phones[log.from] = true; 
			return log; 
		}); 
		$scope.phoneList = Object.keys(unique_phones).map(function(x){ return { label: x, id: x }; }); 
		$scope.phoneFilter = ""; 
		$scope.$apply(); 
	}); 
	$scope.onChangeFilter = function(){
		$scope.phoneFilter = $scope.phoneFilterSelected.id; 
	}
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 
JUCI.app
.controller("PhoneLines", function($scope, $uci){
	$uci.sync("voice_client").done(function(){
		$scope.phone_lines = $uci.voice_client["@brcm_line"]; 
		$scope.phone_numbers = $uci.voice_client["@sip_service_provider"]; 
		$scope.allSipAccounts = $scope.phone_numbers.map(function(x){
			return {
				label: x.name.value, 
				value: x[".name"]
			}
		}); 
		$scope.$apply(); 
	}); 
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
$juci.module("phone")
.controller("PhoneNumberBlockingPageCtrl", function($scope, $uci){
	function updateRuleLists(){
		$scope.outgoingRules = $uci.voice_client["@call_filter_rule_outgoing"].filter(function(x){
			return x.owner.value == "call_filter0"; 
		}); 
		$scope.incomingRules = $uci.voice_client["@call_filter_rule_incoming"].filter(function(x){
			return x.owner.value == "call_filter0"; 
		}); 
		setTimeout(function(){ $scope.$apply(); }, 0); 
	}
	
	$uci.sync("voice_client").done(function(){
		if(!$uci.voice_client.call_filter0){
			async.series([
				function(next){
					$uci.voice_client.create({".type": "call_filter", ".name": "call_filter0"}).always(function(){ next(); }); 
				}, 
				function(next){
					$uci.voice_client.create({".type": "call_filter_rule_incoming", ".name": "call_filter_rule_incoming0"}).always(function(){ next(); }); 
				},
				function(next){
					$uci.voice_client.create({".type": "call_filter_rule_outgoing", ".name": "call_filter_rule_outgoing0"}).always(function(){ next(); }); 
				},
				function(next){
					$uci.voice_client.create({".type": "call_filter_rule_outgoing", ".name": "call_filter_rule_outgoing1"}).always(function(){ next(); }); 
				},
				function(next){
					$uci.save().always(function(){ next(); }); 
				}
			]); 
		}
		$scope.filter = $uci.voice_client.call_filter0; 
		updateRuleLists(); 
	}); 
	
	$scope.onAddOutgoingRule = function(){
		$uci.voice_client.create({".type": "call_filter_rule_outgoing", "owner": "call_filter0"}).always(function(){ 
			updateRuleLists(); 
		}); 
	}
	$scope.onAddIncomingRule = function(){
		$uci.voice_client.create({".type": "call_filter_rule_incoming", "owner": "call_filter0"}).always(function(){ 
			updateRuleLists(); 
		}); 
	}
	$scope.onDeleteOutgoingRule = function(rule){
		rule.$delete().done(function(){
			updateRuleLists(); 
		}); 
	}
	$scope.onDeleteIncomingRule = function(rule){
		rule.$delete().done(function(){
			updateRuleLists(); 
		});
	}
	/*
	$scope.onSave = function(){
		$uci.save(); 
	}
	*/
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 
JUCI.app
.controller("PhoneNumbersPageCtrl", function($scope, $uci){
	$uci.sync("voice_client").done(function(){
		$scope.phone_numbers = $uci.voice_client["@sip_service_provider"]; 
		$scope.phone_lines = $uci.voice_client["@brcm_line"]; 
		$scope.allSipAccounts = $scope.phone_numbers.map(function(x){
			return {
				label: x.name.value, 
				value: x[".name"]
			}
		}); 
		$scope.$apply(); 
	}); 
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
$juci.module("phone")
.controller("PhoneRingingScheduleCtrl", function($scope, $uci, gettext){
	$scope.allSipAccountsMap = {}; 
	$scope.enabledDisabledItems = [
		{ label: gettext("Enabled"), value: true }, 
		{ label: gettext("Disabled"), value: false }
	]; 
	
	$uci.sync(["voice_client"]).done(function(){
		if(!$uci.voice_client.RINGING_STATUS){
			$uci.voice_client.create({".type": "ringing_status", ".name": "RINGING_STATUS"}).done(function(section){
				$scope.settings = $uci.voice_client.RINGING_STATUS; 
				$scope.$apply(); 
			}); 
		} else {
			$scope.settings = $uci.voice_client.RINGING_STATUS;
		} 
		$scope.schedules = $uci.voice_client["@ringing_schedule"]; 
		$scope.allSipAccountsMap = {}; 
		$scope.allSipAccounts = $uci.voice_client["@sip_service_provider"].map(function(x){
			var i = {
				label: x.name.value, 
				value: x[".name"]
			}; 
			$scope.allSipAccountsMap[x[".name"]] = x; 
			return i; 
		}); 
	}); 
	
	$scope.onAcceptSchedule = function(){
		//$uci.save().done(function(){
		var schedule = $scope.schedule; 
		var errors = schedule.$getErrors(); 
		
		if(errors && errors.length){
			$scope.errors = errors; 
		} else {
			$scope.errors = []; 
			$scope.showScheduleDialog = 0; 
		}
	}
	
	$scope.onDismissSchedule = function(schedule){
		if($scope.schedule[".new"]){
			$scope.schedule.$delete().done(function(){
				$scope.showScheduleDialog = 0; 
				$scope.$apply(); 
			}); 
		} else {
			$scope.showScheduleDialog = 0; 
		}
	}
	
	$scope.onAddSchedule = function(){
		$uci.voice_client.create({".type": "ringing_schedule"}).done(function(item){
			$scope.schedule = item; 
			$scope.schedule[".new"] = true; 
			$scope.showScheduleDialog = 1; 
			$scope.$apply(); 
			console.log("Added new schedule!"); 
		}).fail(function(err){
			console.log("Failed to create schedule!"); 
		}); ; 
	}
	
	$scope.onEditSchedule = function(sched){
		console.log("Editing: "+sched[".name"]); 
		$scope.schedule = sched; 
		$scope.showScheduleDialog = 1; 
	}
	$scope.onDeleteSchedule = function(sched){
		sched.$delete().always(function(){
			$scope.$apply(); 
		}); 
	}
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
JUCI.app
.controller("PhoneSpeedDialingCtrl", function($scope, $uci){
	$scope.speed_dials = []; 
	$scope.speed_dialing = true; 
	
	$scope.$watch("speed_dials", function(){
		var dials = {}; 
		$scope.speed_dials.map(function(x){ if(x.number != "") dials[x.tone] = x; }); 
		async.eachSeries(Object.keys(dials), function(k, next){
			if(!dials[k].exists){
				$uci.voice_client.create({".type": "speed_dial"}).done(function(section){
					section.tone.value = dials[k].tone; 
					section.number.value = dials[k].number; 
					dials[k].exists = true;  
				}).always(function(){
					next(); 
				}); 
			} else {
				next(); 
			}
		}, function(){
			Object.keys($scope.speed_dials).map(function(k){
				var dial = $scope.speed_dials[k]; 
				var section = $uci.voice_client["@speed_dial"].find(function(x){ return x.tone.value == dial.tone; }); 
				if(section){
					section.tone.value = dial.tone; 
					section.number.value = dial.number; 
				}
			}); 
		}); 
	}, true); 
	
	function resync(){
		$uci.sync("voice_client").done(function(){
			var dials = {}; 
			$uci.voice_client["@speed_dial"].map(function(x){
				dials[x.tone.value] = {
					tone: x.tone.value, 
					number: x.number.value, 
					exists: true
				};
			});  
			for(var c = 0; c < 10; c++){
				if(!(dials[c])) dials[c] = {
					tone: c, 
					number: ""
				}
			}
			$scope.speed_dials = Object.keys(dials).map(function(x){ return dials[x]; }); 
			$scope.$apply(); 
		}); 
	} resync(); 
	
	$scope.onClearAll = function(){
		var dials = $uci.voice_client["@speed_dial"].map(function(x){ return x; }); 
		async.eachSeries(dials, function(dial, next){
			dial.$delete().always(function(){ next(); }); 
		}, function(){
			console.log("Save!"); 
			$uci.save().done(function(){
				console.log("resync"); 
				resync(); 
			}); 
		}); 
	}
}); 
;
/*
 * juci - javascript universal client interface
 *
 * Project Author: Martin K. Schröder <mkschreder.uk@gmail.com>
 * 
 * Copyright (C) 2012-2013 Inteno Broadband Technology AB. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful, but
 * WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 * General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
 * 02110-1301 USA
 */
 
JUCI.app.config(function($stateProvider) {
	var plugin_root = $juci.module("phone").plugin_root; 
	$stateProvider.state("phone", {
		url: "/phone", 
		onEnter: function($state){
			$juci.redirect("phone-call-log"); 
		},
	}); 
}); 
	
// add the uci classes for voice client
UCI.$registerConfig("voice_client"); 
UCI.voice_client.$registerSectionType("brcm_line", {
	"extension": 			{ dvalue: '', type: String }, 
	"sip_account": 		{ dvalue: '', type: String }, 
	"noise":					{ dvalue: false, type: Boolean }, 
	"vad":						{ dvalue: false, type: Boolean }, 
	"txgain":					{ dvalue: false, type: Boolean }, 
	"rxgain":					{ dvalue: false, type: Boolean }, 
	"echo_cancel":		{ dvalue: true, type: Boolean }, 
	"callwaiting":		{ dvalue: false, type: Boolean }, 
	"clir":						{ dvalue: false, type: Boolean }, 
	"name":						{ dvalue: '', type: String }, 
	"instance":				{ dvalue: '', type: String }
}); 
UCI.voice_client.$registerSectionType("sip_service_provider",  {
	"name":							{ dvalue: "", type: String },
	"codec0":						{ dvalue: "alaw", type: String },  
	"codec1":						{ dvalue: "ulaw", type: String },       
	"codec2":						{ dvalue: "g729", type: String },   
	"codec3":						{ dvalue: "g726", type: String },
	"autoframing":			{ dvalue: false, type: Boolean },
	"cfim_on":					{ dvalue: "*21*", type: String },  
	"cfim_off":					{ dvalue: "#21#", type: String },
	"cfbs_on":					{ dvalue: "*61*", type: String }, 
	"cfbs_off":					{ dvalue: "#61#", type: String }, 
	"call_return":			{ dvalue: "*69", type: String },         
	"redial":						{ dvalue: "*66", type: String },   
	"is_fax":						{ dvalue: false, type: Boolean },      
	"transport":				{ dvalue: "udp", type: String },
	"priority_ulaw":		{ dvalue: 0, type: Number },
	"priority_alaw":		{ dvalue: 0, type: Number }, 
	"priority_g729":		{ dvalue: 0, type: Number },  
	"priority_g723":		{ dvalue: 0, type: Number },
	"priority_g726":		{ dvalue: 0, type: Number },   
	"enabled":					{ dvalue: true, type: Boolean },
	"target":						{ dvalue: "direct", type: String },       
	"call_lines":				{ dvalue: [], type: Array },
	"mailbox":					{ dvalue: "", type: String },     
	"call_filter":			{ dvalue: "", type: String },     
	"domain":						{ dvalue: "", type: String },      
	"user":							{ dvalue: "", type: String }, 
	"authuser":					{ dvalue: "", type: String }, 
	"displayname":			{ dvalue: "", type: String }, 
	"ptime_ulaw":				{ dvalue: 20, type: Number }, 
	"ptime_g726":				{ dvalue: 20, type: Number },     
	"ptime_g729":				{ dvalue: 20, type: Number }, 
	"ptime_alaw":				{ dvalue: 20, type: Number }, 
	"host":							{ dvalue: "", type: String },  
	"outboundproxy":		{ dvalue: "", type: String }
}); 
UCI.voice_client.$registerSectionType("call_filter", { 
	"name":							{ dvalue: "", type: String }, 
	"block_outgoing":		{ dvalue: true, type: Boolean }, 
	"block_incoming":		{ dvalue: true, type: Boolean }, 
	"block_foreign": 		{ dvalue: true, type: Boolean }, // outgoing foreign
	"block_special_rate": { dvalue: false, type: Boolean } // outgoing special rate
}); 
UCI.voice_client.$registerSectionType("call_filter_rule_outgoing", {
	"owner": 						{ dvalue: "", type: String }, 
	"enabled": 					{ dvalue: true, type: Boolean },
	"extension": 				{ dvalue: "", type: String }
}); 
UCI.voice_client.$registerSectionType("call_filter_rule_incoming", {
	"owner": 						{ dvalue: "", type: String }, 
	"enabled": 					{ dvalue: true, type: Boolean },
	"extension": 				{ dvalue: "", type: String }
}); 

UCI.voice_client.$registerSectionType("dialplan", {
	"custom_outgoing_enabled":	{ dvalue: false, type: Boolean },
	"custom_incoming_enabled":	{ dvalue: false, type: Boolean },
	"custom_hangup_enabled":	{ dvalue: false, type: Boolean },
	"all_ports_extension":		{ dvalue: "#123456", type: String},
	"test_audio_extension":		{ dvalue: "#123457", type: String},
	"test_echo_extension":		{ dvalue: "#123458", type: String},
	"record_message_extension":	{ dvalue: "#999999", type: String}
});
UCI.voice_client.$registerSectionType("sip_advanced", {
	"rtpstart":	{ dvalue: 10000, type: Number },
	"rtpend":	{ dvalue: 20000, type: Number },
	"dtmfmode":	{ dvalue: "rfc2833", type: String},
	"remotehold":	{ dvalue: "yes", type: String},
	"contact_line_suffix":		{ dvalue: 1, type: Number },
	"registertimeoutbackoff":	{ dvalue: 512, type: Number },
	"registerattemptsbackoff":	{ dvalue: 0, type: Number },
	"register403timeout":	{ dvalue: 0, type: Number },
	"register503timeout":	{ dvalue: 0, type: Number },
	"registertimeoutguardsecs":	{ dvalue: 15, type: Number },
	"registertimeoutguardlimit":	{ dvalue: 30, type: Number },
	"registertimeoutguardpct":	{ dvalue: "0.2", type: String},
	"defaultexpiry":	{ dvalue: 300, type: Number },
	"tls_version":	{ dvalue: "tlsv1", type: String},
	"tls_cipher":	{ dvalue: "'DES-CBC3-SHA", type: String},
	"dnsmgr":	{ dvalue: "no", type: String},
	"dnsmgr_refresh_interval":	{ dvalue: 300, type: Number },
	"srvlookup":	{ dvalue: "yes", type: String}
});
UCI.voice_client.$registerSectionType("brcm_advanced", {
	"country":	{ dvalue: "SWE", type: String},
	"jbenable":	{ dvalue: "yes", type: String},
	"jbforce":	{ dvalue: "no", type: String},
	"jbmaxsize":	{ dvalue: 500, type: Number },
	"jbimpl":	{ dvalue: "adaptive", type: String},
	"genericplc":	{ dvalue: "yes", type: String},
	"dialoutmsec":	{ dvalue: 4000, type: Number },
	"cw_enable":	{ dvalue: "yes", type: String}
});
UCI.voice_client.$registerSectionType("features", {
	"cbbs_enabled":		{ dvalue: true, type: Boolean },
	"callforward_enabled":	{ dvalue: true, type: Boolean },
	"redial_enabled":	{ dvalue: true, type: Boolean },
	"callreturn_enabled":	{ dvalue: true, type: Boolean },
	"advanced_register_settings":	{ dvalue: true, type: Boolean },
}); 
UCI.voice_client.$registerSectionType("log", {
	"console":		{ dvalue: "notice,warning,error", type: String },
	"messages":		{ dvalue: "error", type: String },
	"syslog_facility":	{ dvalue: "local0", type: String }
}); 
UCI.voice_client.$registerSectionType("speed_dial", {
	"tone":		{ dvalue: 1, type: Number },
	"number":	{ dvalue: "", type: String }
}); 

UCI.voice_client.$registerSectionType("ringing_status", {
	"enabled": { dvalue: false, type: Boolean }, 
	"status": { dvalue: 0, type: Number }
}); 

UCI.voice_client.$registerSectionType("ringing_schedule", {
	"days":		{ dvalue: [], type: Array, allow: ["mon", "tue", "wed", "thu", "fri", "sat", "sun"], validator: UCI.validators.WeekDayListValidator},
	"time":		{ dvalue: "", type: String, validator: UCI.validators.TimespanValidator}, 
	"sip_service_provider": { dvalue: "", type: String }
}); 
;
JUCI.app.directive("uciVoiceClientCallFilterEdit", function(){
	var plugin_root = JUCI.module("phone").plugin_root; 
	return {
		restrict: "E", 
		templateUrl: plugin_root+"/widgets/uci.voice_client.call_filter.html", 
		controller: "uciVoiceClientCallFilterEdit"
	}
})
.controller("uciVoiceClientCallFilterEdit", function($scope, $uci){
	
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("SettingsConfigurationCtrl", function($scope, $rpc, gettext){
	$scope.sessionID = $rpc.$sid(); 
	$scope.resetPossible = 0; 
	$rpc.luci2.system.reset_test().done(function(result){
		if(result && result.supported) {
			$scope.resetPossible = 1; 
			$scope.$apply();
		} 
	}); 
	$scope.onReset = function(){
		if(confirm(gettext("This will reset your configuration to factory defaults. Do you want to continue?"))){
			$rpc.luci2.system.reset_start().done(function(result){
				console.log("Performing reset: "+JSON.stringify(result)); 
			}); 
		}
	}
	$scope.onSaveConfig = function(){
		$scope.showModal = 1; 
		
	}
	$scope.onRestoreConfig = function(){
		$scope.showUploadModal = 1; 
	}
	$scope.onCancelRestore = function(){
		$scope.showUploadModal = 0; 
	}
	$scope.restore = {}; 
	/*setInterval(function checkUpload(){
		var iframe = $("#postiframe").load(function(){; 
		var json = iframe.contents().text();
		try {
			if(json.length && JSON.parse(json)) {
				$scope.onUploadComplete(JSON.parse(json)); 
			} 
		} catch(e){}
		iframe.each(function(e){$(e).contents().html("<html>");}); ; 
	}, 500); */
	$scope.onUploadConfig = function(){
		$("#postiframe").bind("load", function(){
			var json = $(this).contents().text(); 
			try {
				var obj = JSON.parse(json); 
				$scope.onUploadComplete(JSON.parse(json));
			} catch(e){}
			$(this).unbind("load"); 
		}); 
		$("form[name='restoreForm']").submit();
	}
	$scope.onUploadComplete = function(result){
		console.log("Uploaded: "+JSON.stringify(result)+": "+$scope.restore.password); 
		$rpc.luci2.system.backup_restore({
			password: $scope.restore.password
		}).done(function(result){
			if(result.code){
				alert(result.stderr); 
			} else {
				$scope.showUploadModal = 0; 
				$scope.$apply(); 
			}
		}).fail(function(err){
			console.error("Filed: "+JSON.stringify(err)); 
		}); 
	}
	$scope.onAcceptModal = function(){
		$("form[name='backupForm']").submit();
		$scope.showModal = 0; 
	}
	$scope.onDismissModal = function(){
		$scope.showModal = 0; 
	}
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("SettingsEnergyCtrl", function($scope, $uci){
	$uci.sync(["boardpanel"]).done(function(){
		if($uci.boardpanel)
			$scope.boardpanel = $uci.boardpanel; 
		$scope.$apply();
	}); 
	$scope.onSave = function(){
		$uci.save(); 
	}
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("SettingsPasswordCtrl", function($scope, $rpc, $tr, gettext){
	$scope.showPassword = 0; 
	$scope.showModal = 0; 
	$scope.username = $rpc.$session.data.username; 
	$scope.modal = {
		old_password: "", 
		password: "", 
		password2: ""
	}; 
	$scope.passwordStrength = 1; 
	
	
	function measureStrength(p) {
		var strongRegex = new RegExp("^(?=.{8,})(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*\\W).*$", "g");
		var mediumRegex = new RegExp("^(?=.{7,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[0-9]))).*$", "g");
		var enoughRegex = new RegExp("(?=.{4,}).*", "g");
		 
		if(strongRegex.test(p)) return 3; 
		if(mediumRegex.test(p)) return 2; 
		if(enoughRegex.test(p)) return 1; 
		return 0; 
	}
	
	$scope.$watch("modal", function(){
		$scope.passwordStrength = measureStrength($scope.modal.password); 
	}, true); 
	$scope.onChangePasswordClick = function(){
		$scope.modal = {}; 
		$scope.showModal = 1; 
	}
	$scope.onAcceptModal = function(){
		$scope.error = ""; 
		if($scope.modal.password != $scope.modal.password2) alert($tr(gettext("Passwords do not match!"))); 
		else {
			// TODO: change to correct username
			$rpc.luci2.system.password_set({user: $rpc.$session.data.username, password: $scope.modal.password, curpass: $scope.modal.old_password}).done(function(data){
				$scope.showModal = 0; 
				$scope.$apply(); 
				$rpc.$logout().done(function(){
					window.location.reload(); 
				}); 
			}).fail(function(response){
				$scope.error = gettext("Was unable to set password. Please make sure you have entered correct current password!"); 
				$scope.$apply(); 
			}); 
		}
	}
	$scope.onDismissModal = function(){
		$scope.showModal = 0; 
	}
}); 

;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("SettingsUCIController", function($scope, $rpc){
	var configs = {}; 
	$scope.loading = 0; 
	function filterHiddenValues(values){
		var ret = {}; 
		Object.keys(values).map(function(v){
			if(v.indexOf(".") != 0) ret[v] = values[v]; 
		}); 
		return ret; 
	}
	$scope.onChangeSection = function(item){
		$scope.selectedConfig = item; 
		$scope.error = ""; 
		$scope.loading = 1; 
		$scope.subsections = {}; 
		$rpc.uci.state({
			config: item.id
		}).done(function(data){
			$scope.subsections = data.values; 
			Object.keys($scope.subsections).map(function(k){
				$scope.subsections[k] = filterHiddenValues($scope.subsections[k]); 
			}); 
			$scope.loading = 0; 
			$scope.$apply(); 
		}).fail(function(err){
			$scope.error = "Could not retreive data!"; 
			$scope.loading = 0; 
			$scope.$apply(); 
		});  
	}
	$scope.onSaveSection = function(id){
		if(!$scope.selectedConfig) return; 
		$scope.error = ""; 
		$rpc.uci.set({
			"config": $scope.selectedConfig.id, 
			"section": id, 
			"values": $scope.subsections[id]
		}).done(function(resp){
			$rpc.uci.commit({
				config: $scope.selectedConfig.id
			}).done(function(resp){
				$scope.onResetSection(id); 
			}); 
		}); 
	}
	$scope.onResetSection = function(id){
		$scope.error = ""; 
		if(!$scope.selectedConfig) return; 
		$rpc.uci.state({
			config: $scope.selectedConfig.id, 
			section: id
		}).done(function(result){
			Object.assign($scope.subsections[id], filterHiddenValues(result.values)); 
			$scope.$apply(); 
		}); 
	}
	async.series([
		function(next){ $rpc.uci.configs().done(function(list){configs = list.configs; next(); }); }, 
	], function(){
		$scope.error = ""; 
		$scope.sections = configs.map(function(x){return {label: x, id: x};}); 
		$scope.$apply(); 
	})
	/*$rpc.uci.state({
		config: "wireless"
	}).done(function(data){
		Object.keys(data.values).map(function(k){
			
		}); 
	}); */
}); 
;
;(jQuery && jQuery.fn.upload) || (function( $) {
		// abort if xhr progress is not supported
	if( !($.support.ajaxProgress = ("onprogress" in $.ajaxSettings.xhr()))) {
		return;
	}

	var _ajax = $.ajax;
	$.ajax = function ajax( url, options) {
			// If url is an object, simulate pre-1.5 signature
		if ( typeof( url) === "object" ) {
			options = url;
			url = options.url;
		}

			// Force options to be an object
		options = options || {};

		var deferred = $.Deferred();
		var _xhr = options.xhr || $.ajaxSettings.xhr;
		var jqXHR;
		options.xhr = function() {
				// Reference to the extended options object
			var options = this;
			var xhr = _xhr.call( $.ajaxSettings);
			if( xhr) {
				var progressListener = function( /*true | false*/upload) {
					return function( event) {
						/*
						 * trigger the global event.
						 * function handler( jqEvent, progressEvent, upload, jqXHR) {}
						 */
						options.global && $.event.trigger( "ajaxProgress", [ event, upload, jqXHR]);

							/*
							 * trigger the local event.
							 * function handler(jqXHR, progressEvent, upload)
							 */
						$.isFunction( options.progress) && options.progress( jqXHR, event, upload);

						deferred.notifyWith( jqXHR, [event, upload]);
					};
				};

				xhr.upload.addEventListener( "progress", progressListener( true), false);
				xhr.addEventListener( "progress", progressListener( false), false);
			}
			return xhr;
		};

		jqXHR = _ajax.call( this, url, options);

			// delegate all jqXHR promise methods to our deferred
		for( var method in deferred.promise()) {
			jqXHR[ method]( deferred[ method]);
		}
		jqXHR.progress = deferred.progress;

			// overwrite the jqXHR promise methods with our promise and return the patched jqXHR
		return jqXHR;
	};

		/**
		 * jQuery.upload( url [, data] [, success(data, textStatus, jqXHR)] [, dataType] )
		 *
		 * @param url
		 *         A string containing the URL to which the request is sent.
		 * @param data
		 *         A map or string that is sent to the server with the request.
		 * @param success(data, textStatus, jqXHR)
		 *         A callback function that is executed if the request succeeds.
		 * @param dataType
		 *         The type of data expected from the server. Default: Intelligent Guess (xml, json, script, text, html).
		 *
		 * This is a shorthand Ajax function, which is equivalent to:
		 * .ajax({
		 *		processData	: false,
		 *		contentType	: false,
		 *		type		: 'POST',
		 *		url			: url,
		 *		data		: data,
		 *		success		: callback,
		 *		dataType	: type
		 *	});
		 *
		 * @return jqXHR
		 */
	$.upload = function( url, data, callback, type) {
			// shift arguments if data argument was omitted
		if ( jQuery.isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		return $.ajax({
			/*
			 * processData and contentType must be false to prevent jQuery
			 * setting its own defaults ... which would result in nonsense
			 */
			processData	: false,
			contentType	: false,
			type		: 'POST',
			url			: url,
			data		: data,
			success		: callback,
			dataType	: type
		});
	};
})( jQuery);

JUCI.app
.controller("SettingsUpgradeCtrl", function($scope, $config, $uci, $rpc, gettext){
	$scope.sessionID = $rpc.$sid();
	$scope.uploadFilename = "/tmp/firmware.bin";
	$scope.usbFileName = "()"; 
	$scope.usbUpgradeAvailable = false;  
	
	$scope.config = $config; 
	
	function upgradeStart(path){
		$scope.showUpgradeStatus = 1; 
		$scope.error = null; 
		$scope.message = gettext("Verifying firmware image")+"...";					
		$scope.progress = 'progress'; 
		setTimeout(function(){ $scope.$apply(); }, 0); 
		
		console.log("Trying to upgrade from "+path); 

		$rpc.luci2.system.upgrade_start({"path": path}).done(function(result){
			// this will actually never succeed because server will be killed
			console.error("upgrade_start returned success, which means that it actually probably failed but did not return an error"); 
			$scope.error = (result.stdout||"") + (result.stderr||""); 
			$scope.$apply(); 
		}).fail(function(response){
			$scope.message = gettext("Upgrade process has started. The web gui will not be available until the upgrade process has completed!");
			$scope.$apply(); 
			
			JUCI.interval.repeat("upgrade", 1000, function(done){
				$rpc.session.access().done(function(){
					// it will not succeed anymore because box is rebooting
				}).fail(function(result){
					if(result.code && result.code == -32002) { // access denied error. We will get it when it boots up again. 
						window.location.reload(); 
					}
				}).always(function(){
					done(); 
				}); 
			}); 
		});
	}
	
	/*$uci.sync("system").done(function(){
		if($uci.system.upgrade && $uci.system.upgrade.fw_upload_path.value){
			$scope.uploadFilename = $uci.system.upgrade.fw_upload_path.value; 
			console.log("Using upload path from config: "+$scope.uploadFilename); 
		}
	});*/ 
	
	$scope.onCheckOnline = function(){
		$scope.onlineUpgradeAvailable = false;
		$scope.onlineCheckInProgress = 1; 
		$rpc.luci2.system.upgrade_check({type: "online"}).done(function(response){
			if(response.stdout) {
				$scope.onlineUpgrade = response.stdout.replace("\n", ""); 
				$scope.onlineUpgradeAvailable = true;
			} else {
				$scope.onlineUpgrade = gettext("No upgrade has been found!"); 
			}
			if(response.stderr) $scope.$emit("error", "Online upgrade check failed: "+response.stderr); 
			$scope.onlineCheckInProgress = 0; 
			$scope.$apply(); 
		}); 
	} 
	$scope.onUpgradeOnline = function(){
		upgradeStart($scope.onlineUpgrade); 
	}
	
	$scope.onCheckUSB = function(){
		$scope.usbUpgradeAvailable = false;
		$scope.usbCheckInProgress = 1; 
		$rpc.luci2.system.upgrade_check({type: "usb"}).done(function(response){
			if(response.stdout) {
				$scope.usbUpgrade = response.stdout.replace("\n", ""); 
				$scope.usbUpgradeAvailable = true;
			} else {
				$scope.usbUpgrade = gettext("No upgrade has been found!"); 
			}
			if(response.stderr) $scope.$emit("error", "USB upgrade check failed: "+response.stderr); 
			$scope.usbCheckInProgress = 0; 
			$scope.$apply(); 
		});
	}
	$scope.onUpgradeUSB = function(){
		upgradeStart($scope.usbUpgrade); 
	}
	
	$scope.onCheckUSB(); 
	$scope.onCheckOnline(); 
	
	$scope.onUploadComplete = function(result){
		console.log("Upload completed: "+JSON.stringify(result)); 
	}
	$scope.onUploadUpgrade = function(){
		$scope.showUpgradeStatus = 1; 
		$scope.message = "Uploading..."; 
		$scope.progress = 'uploading'; 
		$("#postiframe").bind("load", function(){
			var json = $(this).contents().text(); 
			var obj = {}; 
			try {
				obj = JSON.parse(json); 
			} catch(e){
				$scope.error = "The server returned an error ("+JSON.stringify(json)+")";
				$scope.message = "Upload completed!"
				$scope.$apply();
				//return;   
			}
			
			upgradeStart($scope.uploadFilename); 
			
			$(this).unbind("load"); 
		}); 
		$("form[name='uploadForm']").submit();
	}
	$scope.onDismissModal = function(){
		$scope.showUpgradeStatus = 0; 
	}
}); 
;
angular.module("luci").config(function($stateProvider) {
	$stateProvider.state("settings", {
		url: "/settings", 
		onEnter: function($state){
			$juci.redirect("settings-password"); 
		},
	});
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusAbout", function($scope){
	
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusDiagnostics", function($scope, $rpc){
	$scope.data = {}; 
	$rpc.router.networks().done(function(result){
		if(result){
			$scope.data.allInterfaces = Object.keys(result).map(function(x){return {label: x, value: x};}); 
			$scope.$apply(); 
		}
	}); 
	$scope.onTraceTest = function(){
		$rpc.luci2.network.traceroute({ data: $scope.data.traceHost }).done(function(result){
			if(result.stderr) $scope.data.traceError = result.stderr; 
			$scope.data.traceResults = result.stdout; 
			$scope.$apply(); 
		}).fail(function(error){
			$scope.data.traceResults = ""; 
			$scope.data.traceError = JSON.stringify(error); 
			$scope.$apply(); 
		}); 
	}
	$scope.onPingTest = function(){
		$scope.data.pingResults = "..."; 
		$scope.data.error = "";
		$rpc.luci2.network.ping({ data: $scope.data.pingHost }).done(function(result){
			if(result.stderr) $scope.data.pingError = result.stderr; 
			$scope.data.pingResults = result.stdout; 
			$scope.$apply(); 
		}).fail(function(error){
			$scope.data.pingResults = ""; 
			$scope.data.pingError = JSON.stringify(error); 
			$scope.$apply(); 
		}); 
	}
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusEventsPageCtrl", function($scope, $rpc){
	var allLogTypes = ["error", "warning", "info"]; 
	$scope.selectedShowType = allLogTypes; 
	$scope.selectedLogTypes = ["system", "network", "other"]; 
	
	var groups = {
		"system": ["dropbear", "peripheral_manager"], 
		"network": ["netifd", "brcmnetlink", "dnsmasq-dhcp", "dnsmasq"], 
	}; 
	
	JUCI.interval.repeat("syslog", 1000, function(done){
		$rpc.luci2.system.syslog().done(function(result){
			if(result && result.log){
				$scope.logs = result.log.split("\n").map(function(line){
					var fields = line.match(/(\w* \w* \w* \d{2}:\d{2}:\d{2} \d{4}) ([^\s]*) ([^\s:]*): (.*)/); 
					if(fields){
						// remove first one because it is the whole line
						fields.shift(); 
						fields[0] = new Date(fields[0]); 
					}
					return fields; 
				})
				.filter(function(x){ 
					// Epic ugliness
					// TODO: fix up the log parsing code
					if(x == null || x[2] == "kernel" || x[2] == "syslog") return false; 
					x[2] = x[2].replace(/\[.*\]/gi, ""); 
					var visible = false; 
					var error = false, warning = false, info = false; 
					if(x[1].indexOf("error") >= 0) error = true; 
					if(x[1].indexOf("warn") >= 0) warning = true; 
					if(x[1].indexOf("notice") >= 0) info = true; 
					if(error && $scope.selectedShowType.indexOf("error") == -1) return false; 
					if(warning && $scope.selectedShowType.indexOf("warning") == -1) return false; 
					if(info && $scope.selectedShowType.indexOf("info") == -1) return false; 
					if(!error && !warning && !info && $scope.selectedLogTypes.indexOf("other") >= 0) visible = true; 
					$scope.selectedLogTypes.map(function(t){
						if(groups[t] && groups[t].indexOf(x[2]) >= 0) visible = true; 
					}); 
					return visible; 
				}) // filter out all invalid matches 
				.reverse() // sort by date in descending order
				.map(function(x){ // convert date back to string and shorten it's format
					var d = x[0]; 
					x[0] = d.getFullYear()+"-"+("00"+(d.getMonth()+1)).slice(-2)+"-"+d.getDate()+" "+d.getHours()+":"+d.getMinutes()+":"+d.getSeconds();
					//x[0] = x[0].toLocaleFormat("%d-%b-%Y %H:%M:%S"); 
					return x; 
				}); 
				$scope.$apply(); 
				done(); 
			}
		}); 
	}); 
	$scope.allLogTypes = [
		{ label: "System", value: "system" }, 
		//{ label: "WAN", value: "wan" }, 
		{ label: "Network", value: "network" }, 
		{ label: "Other", value: "other" }, 
		//{ label: "LAN", value: "lan" }, 
		//{ label: "Voice", value: "voice" }, 
		//{ label: "Data", value: "data" }, 
		//{ label: "IPTV", value: "iptv" }, 
		//{ label: "USB", value: "usb" }, 
		//{ label: "Firewall", value: "firewall" }
	]; 
	$scope.allEventTypes = [
		{ label: "Only Errors & Warnings", value: ["error", "warning"] }, 
		{ label: "All Events", value: ["error", "warning", "info"] }
	];
	$scope.lineClass = function(line){
		if(line[1].indexOf("error") >= 0) return "label-danger"; 
		if(line[1].indexOf("warn") >= 0) return "label-warning";  
		if(line[1].indexOf("notice") >= 0) return "label-info"; 
		return ""; 
	}
	
	function onChange(){
		console.log(JSON.stringify($scope.selectedLogTypes) + $scope.selectedShowType); 
	}
	$scope.onTypeChanged = function(){
		onChange(); 
	}
	$scope.$watchCollection("selectedLogTypes", function(){ onChange(); }); 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusRestartPageCtrl", function($scope, $rpc){
	$scope.onRestart = function(){
		$scope.showConfirmation = 1; 
		/*$rpc.luci2.system.reboot().done(function(){
			console.log("Restarting the system..."); 
		}); */
	}
	
	function waitUntilDown(){
		var deferred = $.Deferred(); 
		var rpc = false; 
		var interval = setInterval(function(){
			if(!rpc){
				rpc = true; 
				$rpc.session.access().done(function(){
					
				}).fail(function(){
					clearInterval(interval); 
					deferred.resolve(); 
				}).always(function(){
					rpc = false; 
				}); 
			}
		}, 1000); 
		return deferred.promise(); 
	}
	$scope.onConfirmRestart = function(){
		$scope.showRestartProgress = 1; 
		$scope.showConfirmation = 0; 
		$scope.progress = 0; 
		$rpc.luci2.system.reboot().done(function(){
			var rpc = true; 
			$scope.message = "Waiting for reboot..."; 
			$scope.$apply(); 
			var interval = setInterval(function(){
				$scope.progress++; 
				$scope.$apply(); 
				if(!rpc){
					rpc = true; 
					$rpc.session.access().done(function(){
						// it will not succeed anymore because box is rebooting
					}).fail(function(result){
						if(result.code && result.code == -32002) { // access denied error. We will get it when it boots up again. 
							$scope.showConfirmation = 0; 
							$scope.$apply(); 
							window.location.reload(); 
						}
					}).always(function(){
						rpc = false; 
					}); 
				}
			}, 1000); 
			
			waitUntilDown().done(function(){
				$scope.message = "Host is rebooting..."; 
				$scope.$apply(); 
				rpc = false; 
			}); 
			console.log("Restarting the system..."); 
		});
	}
	$scope.onCancelRestart = function(){
		$scope.showConfirmation = 0; 
	}
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatsCtrl", function($scope, $rpc, gettext, $tr){
		$scope.dslstats = {}; 
		
		$scope.dslConnectionInfo = {
			title: "test", 
			rows: [[$tr("None"), $tr("None")]]
		}; 
		$scope.dslModeInfo = {
			rows: [[$tr('None'), $tr("None")]]
		}; 
		$scope.dslStatusInfo = {
			rows: []
		}; 
		$scope.dslRateInfo = {
			rows: []
		}; 
		$scope.dslOpInfo = {
			rows: []
		}; 
		$scope.dslErrorInfo = {
			rows: []
		}; 
		$scope.dslCellInfo = {
			rows: []
		}; 
		
		JUCI.interval.repeat("dslstats", 1000, function(done){
			$rpc.router.dslstats().done(function(dslstats){
				dslstats = dslstats.dslstats; 
				
				// compute floating point values (because ubus blobs do not support floats yet)
				function reconstruct_floats(obj) {
					for (var property in obj) {
						if (obj.hasOwnProperty(property)) {
							if (typeof obj[property] == "object") {
								reconstruct_floats(obj[property]);
							} else {
								var matches = property.match(/(.*)_x([\d]*)/); 
								if(matches && matches.length == 3){
									try {
										obj[matches[1]] = parseFloat(String(obj[property])) / parseFloat(matches[2]); 
									} catch(e) {
										obj[matches[1]] = "Err"; 
									}
								}
							}
						}
					} 
				}
				reconstruct_floats(dslstats); 
				
				$scope.online = dslstats.status && dslstats.status.length > 0; 
				
				// todo fields
				with({dslstats: dslstats}){
					dslstats.ip = "TODO"; 
					dslstats.ipstate = "TODO"; 
					dslstats.mode_details = "TODO"; 
					dslstats.line_status_configured = "TODO"; 
					dslstats.line_type_configured = "TODO"; 
					dslstats.line_type = "TODO"; 
				}
				
				$scope.tables = [
					{ 
						title: gettext("DSL Status Information"), 
						columns: [ '', '', 'Current' ], 
						rows: [
							[ gettext("Line Status"), "", dslstats.status ]
						]
					}
				]; 
				if(dslstats.status == "Showtime"){
					$scope.tables = $scope.tables.concat([
						{ 
							title: gettext("DSL Mode"), 
							columns: ["", "", "Current"], 
							rows: [
								[ dslstats.mode, "", dslstats.traffic ]
							]
						}, 
						{ 
							title: gettext("Bit Rate"), 
							columns: [ '', 'Downstream', 'Upstream' ], 
							rows: [
								[ gettext('Actual Data Rate'), dslstats.bearers[0].rate_down, dslstats.bearers[0].rate_up ]
							]
						}, 
						{ 
							title: gettext("Operating Data"), 
							columns: [ '', 'Downstream', 'Upstream' ], 
							rows: [
								[ gettext('SNR Margin'), dslstats.snr_down, dslstats.snr_up ],
								[ gettext('Loop Attenuation'), dslstats.attn_down, dslstats.attn_up ]
							]
						}, 
						{ 
							title: gettext("Error Counter"), 
							columns: [ '', 'Downstream', 'Upstream' ], 
							rows: [
								[ gettext('FEC Corrections'), dslstats.counters.totals.fec_down, dslstats.counters.totals.fec_up ],
								[ gettext('CRC Errors'), dslstats.counters.totals.crc_down, dslstats.counters.totals.crc_up ]
							]
						}, 
						{ 
							title: gettext("Cell Statistics"), 
							columns: [ '', 'Transmitted', 'Received' ], 
							rows: [
								[ gettext('Cell Counter'), dslstats.bearers[0].total_cells_down, dslstats.bearers[0].total_cells_up ]
							]
						}
					]); 
				}
				$scope.dslstats = dslstats; 
				$scope.$apply(); 
				done(); 
			}); 
		}); 
	}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatsOverviewCtrl", function ($scope, $uci, $rpc, gettext, $config) {
	//$scope.expanded = false; 
	$scope.sections = [{}, {}, {}]; 
	
	JUCI.interval.repeat("status.refresh", 2000, function(resume){
		async.series([
			function(next){
				$uci.sync("boardpanel").done(function(){ next(); }); 
			}, 
			function(next){
				$rpc.network.interface.dump().done(function(result){
					_interfaces = result.interface; 
					next(); 
				}); 
			}, 
			function(next){
				var sections = []; 
				[
					{ name: gettext("Internet"), value: $config.wan_interface }, 
					{ name: gettext("Voice"), value: $config.voice_interface }, 
					{ name: gettext("IPTV"), value: $config.iptv_interface }
				].forEach(function(x, c){ 
					if(x.value) {
						sections.push({
							"name": x.name, 
							"interface": _interfaces.find(function(i){ return i.interface === x.value; })
						});  
					}
				}); 
				sections = sections.filter(function(x){ return x.interface !== undefined; }).sort(function(a, b) { return a.interface.up > b.interface.up; }); 
				for(var c = 0; c < sections.length; c++){
					var sec = sections[c]; 
					if(sec.interface.up) sec.status = "ok"; 
					else if(sec.interface.pending) sec.status = "progress"; 
					else sec.status = "error"; 
					Object.assign($scope.sections[c], sec);
				} 
				$scope.$apply(); 
				next(); 
			}, 
			function(next){
				$rpc.router.dslstats().done(function(result){
					switch(result.dslstats.status){
						case 'Idle': $scope.dsl_status = 'disabled'; break; 
						case 'Showtime': $scope.dsl_status = 'ok'; break; 
						default: $scope.dsl_status = 'progress'; break; 
					}
					$scope.dslinfo = result.dslstats; 
					$scope.$apply(); 
					next(); 
				}); 
			}
		], function(){
			resume(); 
		}); 
	}); 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusNetworkPage", function ($scope, $rootScope, $rpc, gettext, $tr) {
	$scope.systemConnectionsTbl = {
		rows: [["", ""]]
	}; 
	$scope.systemDHCPLeasesTbl = {
		columns: [gettext("Hostname"), gettext("IPv4-Address"), gettext("MAC-Address"), gettext("Leasetime remaining")], 
		rows: [
			[gettext("No active leases"), '', '', '']
		]
	}; 
	$scope.systemStationsTbl = {
		columns: [gettext("IPv4-Address"), gettext("MAC address"), gettext("Signal"), gettext("Noise"), gettext("RX Rate"), gettext("TX Rate")], 
		rows: []
	};
	var conntrack = {}; 
	var clients = {}; 
	var leases = {}; 
	
	JUCI.interval.repeat("status.system.refresh", 1000, function(resume){
		async.parallel([
			function (cb){$rpc.luci2.network.conntrack_count().done(function(res){conntrack = res; cb();}).fail(function(res){cb();});},
			function (cb){$rpc.router.clients().done(function(res){clients = res; cb();}).fail(function(res){cb();});},
			function (cb){$rpc.luci2.network.dhcp_leases().done(function(res){leases = res.leases || []; cb();}).fail(function(res){cb();});}
		], function(err, next){
			$scope.systemConnectionsTbl.rows = [
				[$tr(gettext("Active Connections")), '<luci-progress value="'+ conntrack.count +'" total="'+conntrack.limit+'"></luci-progress>']
			]; 
			if(leases.length){
				$scope.systemDHCPLeasesTbl.rows = []; 
				leases.map(function(lease){
					var date = new Date(null);
					date.setSeconds(lease.expires); // specify value for SECONDS here
					var time = date.toISOString().substr(11, 8);
					$scope.systemDHCPLeasesTbl.rows.push(
						[lease.hostname, lease.ipaddr, lease.macaddr, time]
					);  
				}); 
			} else {
				$scope.systemDHCPLeasesTbl.rows = [
					[$tr(gettext("No active leases")), '', '', '']
				]; 
			}
			if(Object.keys(clients).length){
				$scope.systemStationsTbl.rows = []; 
				Object.keys(clients).map(function(id){
					var cl = clients[id]; 
					$scope.systemStationsTbl.rows.push(
						[cl.ipaddr, cl.macaddr, 0, 0, cl.rx_rate || 0, cl.tx_rate || 0]
					); 
				}); 
			} else {
				$scope.systemStationsTbl.rows = [
					[$tr(gettext("No active stations")), '', '', '', '', '']
				]; 
			}
			$scope.$apply(); 
		}, function(){
			resume(); 
		});
	}); 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusSystemPage", function ($scope, $rootScope, $rpc, gettext, $tr) {
	$scope.systemStatusTbl = {
		rows: [["", ""]]
	}; 
	$scope.systemMemoryTbl = {
		rows: [["", ""]]
	}; 
	$scope.systemStorageTbl = {
		rows: [["", ""]]
	}; 
	var info = {};
	var sys = {};  
	var disk = {}; 
	
	JUCI.interval.repeat("status.system.refresh", 1000, function(resume){
		async.parallel([
			function (cb){$rpc.router.info().done(function(res){info = res; cb();}).fail(function(res){cb();});},
			function (cb){$rpc.system.info().done(function(res){sys = res; cb();}).fail(function(res){cb();});},
			function (cb){$rpc.luci2.system.diskfree().done(function(res){disk = res; cb();}).fail(function(res){cb();});}
		], function(err, next){
			$scope.systemStatusTbl.rows = [
				[$tr(gettext("Hostname")), info.system.name],
				[$tr(gettext("Model")), info.system.nvramver],
				[$tr(gettext("Firmware Version")), info.system.firmware],
				[$tr(gettext("Kernel Version")), info.system.kernel],
				[$tr(gettext("Local Time")), new Date(sys.localtime)],
				[$tr(gettext("Uptime")), info.system.uptime],
				//[$tr(gettext("Load Average")), sys.load[0] + " " + sys.load[1] + " " + sys.load[2]]
			]; 
			$scope.systemMemoryTbl.rows = [
				[$tr(gettext("Usage")), '<luci-progress value="'+Math.round((sys.memory.total - sys.memory.free) / 1000)+'" total="'+ Math.round(sys.memory.total / 1000) +'" units="kB"></luci-progress>'],
				[$tr(gettext("Shared")), '<luci-progress value="'+Math.round(sys.memory.shared / 1000)+'" total="'+ Math.round(sys.memory.total / 1000) +'" units="kB"></luci-progress>'],
				[$tr(gettext("Buffered")), '<luci-progress value="'+Math.round(sys.memory.buffered / 1000)+'" total="'+ Math.round(sys.memory.total / 1000) +'" units="kB"></luci-progress>'],
				[$tr(gettext("Swap")), '<luci-progress value="'+Math.round((sys.swap.total - sys.swap.free) / 1000)+'" total="'+ Math.round(sys.swap.total / 1000) +'" units="kB"></luci-progress>']
			];
			$scope.systemStorageTbl.rows = [
				[$tr(gettext("Root Usage (/)")), '<luci-progress value="'+Math.round(disk.root.used / 1000)+'" total="'+ Math.round(disk.root.total / 1000) +'" units="kB"></luci-progress>'],
				[$tr(gettext("Temporary Usage (/tmp)")), '<luci-progress value="'+Math.round(disk.tmp.used / 1000)+'" total="'+ Math.round(disk.tmp.total / 1000) +'" units="kB"></luci-progress>']
			]; 
			$scope.$apply(); 
		}, function(){
			resume(); 
		});
	}); 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusTVPageCtrl", function($scope, $rpc, gettext){
	$rpc.router.igmptable().done(function(result){
		if(!result.table) {
			$scope.$emit("error", gettext("Unable to retreive igmptable from device!")); 
			return; 
		} 
		$scope.igmptable = result.igmptable; 
	}); 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("StatusVoicePageCtrl", function($scope, $rpc, $uci){
	JUCI.interval.repeat("voice.status", 4000, function(done){
		$uci.sync("voice_client").done(function(){
			var sipProviders = $uci.voice_client["@sip_service_provider"]; 
			var brcmLines = $uci.voice_client["@brcm_line"]; 
			$rpc.asterisk.status().done(function(data){
				if(data && data.sip){
					var accounts = []; 
					var lines = []; 
					Object.keys(data.sip).map(function(k){
						var config = sipProviders.find(function(x){ return x[".name"] == k; }); 
						if(config){
							data.sip[k][".config"] = config; 
							accounts.push(data.sip[k]); 
						}
					}); 
					Object.keys(data.brcm).map(function(k){
						var config = brcmLines.find(function(x){ return x[".name"] == k; }); 
						if(config){
							data.brcm[k][".config"] = config; 
							lines.push(data.brcm[k]); 
						}
					}); 
					$scope.sipAccounts = accounts; 
					$scope.brcmLines = lines; 
					$scope.$apply(); 
					done(); 
				}
			});
		}); 
	}); 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.config(function($stateProvider) {
	$stateProvider.state("status", {
		url: "/status", 
		onEnter: function($state){
			$juci.redirect("status-status"); 
		},
	}); 
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("WifiGeneralPageCtrl", function($scope, $uci, $tr){
	async.series([
		function(next){
			$uci.sync(["wireless", "boardpanel"]).done(function(){
				if(!$uci.wireless.status){
					$uci.wireless.create({
						".type": "wifi-status", 
						".name": "status", 
						disabled: false, 
						button_enabled: false
					}).done(function(section){
						$scope.status = section; 
						$uci.save().done(function(){
							next();
						}).fail(function(){
							throw new Error("Could not create missing wifi-settings section!"); 
						}); 
					}).always(function(){
						next(); 
					}); 
				} else {
					next(); 
				}
			}); 
		}, 
		function(next){
			$scope.interfaces = $uci.wireless['@wifi-iface']; 
			$scope.status = $uci.wireless.status; 
			if($uci.boardpanel) 
				$scope.boardpanel = $uci.boardpanel; 
			$scope.$apply(); 
			
			next(); 
		}
	]); 
	// for automatically saving switch state
	$scope.onApply = function(){
		$uci.save(); 
	}
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("WifiMacFilterPageCtrl", function($scope, $uci, gettext){
	window.uci = $uci; 
	$scope.uci = $uci; 
	
	$uci.sync(["wireless", "hosts"]).done(function(){
		$scope.interfaces = $uci.wireless['@wifi-iface'];
		
		// TODO: ================ this is a duplicate. It should be put elsewhere!
		$scope.devices = $uci.wireless["@wifi-device"].map(function(x){
			// TODO: this should be a uci "displayname" or something
			if(x.band.value == "a") x[".label"] = gettext("5GHz"); 
			else if(x.band.value == "b") x[".label"] = gettext("2.4GHz"); 
			return { label: x[".label"], value: x[".name"] };
		}); 
		$uci.wireless["@wifi-iface"].map(function(x){
			var dev = $uci.wireless[x.device.value]; 
			x[".frequency"] = dev[".label"]; 
		});  
		// ========================
		
		$scope.$apply(); 
	}).fail(function(err){
		console.log("failed to sync config: "+err); 
	}); 
	
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("WifiSchedulePageCtrl", function($scope, $uci, gettext){
	$scope.statusItems = [
		{ label: gettext("Enabled"), value: 1 },
		{ label: gettext("Disabled"), value: 0 }
	]; 
	$scope.timeSpan = { }; 
	
	$uci.sync(["wireless"]).done(function(){
		console.log("Got status"); 
		$scope.status = $uci.wireless.status; 
		$scope.schedules = $uci.wireless["@wifi-schedule"]; 
		$scope.$apply(); 
	}).fail(function(err){
		console.log("failed to sync config: "+err); 
	}); 
	
	$scope.onAcceptSchedule = function(){
		//$uci.save().done(function(){
		var schedule = $scope.schedule; 
		var errors = schedule.$getErrors(); 
		
		if(errors && errors.length){
			$scope.errors = errors; 
		} else {
			$scope.errors = []; 
			$scope.showScheduleDialog = 0; 
		}
	}
	
	$scope.onDismissSchedule = function(schedule){
		if($scope.schedule[".new"]){
			$scope.schedule.$delete().done(function(){
				$scope.showScheduleDialog = 0; 
				$scope.$apply(); 
			}); 
		} else {
			$scope.showScheduleDialog = 0; 
		}
	}
	
	$scope.onAddSchedule = function(){
		$uci.wireless.create({".type": "wifi-schedule"}).done(function(item){
			$scope.schedule = item; 
			$scope.schedule[".new"] = true; 
			$scope.showScheduleDialog = 1; 
			$scope.$apply(); 
			console.log("Added new schedule!"); 
		}).fail(function(err){
			console.log("Failed to create schedule!"); 
		}); ; 
	}
	
	$scope.onEditSchedule = function(sched){
		console.log("Editing: "+sched[".name"]); 
		$scope.schedule = sched; 
		$scope.showScheduleDialog = 1; 
	}
	$scope.onDeleteSchedule = function(sched){
		sched.$delete().always(function(){
			$scope.$apply(); 
		}); 
	}
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("WifiSettingsPageCtrl", function($scope, $uci, gettext){
	function load(){
		$uci.sync("wireless").done(function(){
			$scope.devices = $uci.wireless["@wifi-device"].map(function(dev){ 
				// TODO: this should be a uci "displayname" or something
				var ret = { expanded: true, fields: dev }; 
				if(dev.band.value == "a") ret.frequency = gettext("5GHz"); 
				else if(dev.band.value == "b") ret.frequency = gettext("2.4GHz"); 
				else ret.frequency = gettext("Unknown"); 
				return ret; 
			}); 
			$scope.$apply(); 
		}); 
	} load(); 
	
}); 
;
//! Author: Martin K. Schröder <mkschreder.uk@gmail.com>

JUCI.app
.controller("WifiWPSPageCtrl", function($scope, $uci, $rpc, $interval, gettext){
	var wps_status_strings = {
		0: gettext("wps.status.init"),
		1: gettext("wps.status.processing"),
		2: gettext("wps.status.success"),
		3: gettext("wps.status.fail"),
		4: gettext("wps.status.timeout"),
		7: gettext("wps.status.msgdone")
	}; 
	
	$scope.data = {
		userPIN: ""
	}
	$scope.progress = 0; 
	
	$uci.sync(["wireless", "boardpanel"]).done(function(){
		if($uci.boardpanel == undefined) $scope.$emit("error", "Boardpanel config is not present on this system!"); 
		else $scope.boardpanel = $uci.boardpanel; 
		if(!$uci.boardpanel.settings){
			$uci.boardpanel.create({".type": "settings", ".name": "settings"}).done(function(section){
				$uci.save(); 
			}).fail(function(){
				$scope.$emit("error", "Could not create required section boardpanel.settings in config!"); 
			}); 
		} 
		$scope.wireless = $uci.wireless; 
		$scope.$apply(); 
	}).fail(function(err){
		console.log("failed to sync config: "+err); 
	}); 
	
	JUCI.interval.repeat("wifi.wps.retry", 1000, function(next){
		$rpc.wps.status().done(function(result){
			$scope.progress = result.code; 
			$scope.text_status = wps_status_strings[result.code]||gettext("wps.status.unknown"); 
			$scope.$apply();	
			next();
		}); 
	}); 
	
	$rpc.wps.showpin().done(function(data){
		$scope.generatedPIN = data.pin; 
	}); 
	
	$scope.save = function(){
		$uci.save(); 
	}
	$scope.onPairPBC = function(){
		$rpc.wps.pbc();
	}
	$scope.onPairUserPIN = function(){
		$rpc.wps.stapin({ pin: $scope.data.userPIN });
	}
	$scope.onGeneratePIN = function(){
		$rpc.wps.genpin().done(function(data){
			$rpc.wps.setpin({pin: data.pin}).done(function(){
				$scope.generatedPIN = data.pin; 
				$scope.$apply(); 
			}); 
		}); 
	}
	
	$scope.onCancelWPS = function(){
		$rpc.wps.stop(); 
	} 
}); 
;
$juci.module("wifi")
.directive("uciWirelessDeviceEdit", function($compile){
	var plugin_root = $juci.module("wifi").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/uci.wireless.device.edit.html", 
		scope: {
			device: "=ngModel"
		}, 
		controller: "WifiDeviceEditController", 
		replace: true, 
		require: "^ngModel"
	 };  
}).controller("WifiDeviceEditController", function($scope, $rpc, gettext){
	$scope.$watch("device", function(device){
		if(!device) return; 
		
		$rpc.router.radios().done(function(result){
			if(device[".name"] in result){
				var settings = result[device[".name"]]; 
				$scope.allChannels = [gettext("auto")].concat(settings.channels); 
				$scope.allModes = settings.hwmodes; 
				$scope.allBandwidths = settings.bwcaps; 
			} else {
				$scope.allChannels = [ "auto"  ]; 
				$scope.allModes = ["802.11gn", "802.11bg", "802.11bgn", "802.11n"]; 
				$scope.allBandwidths = [ "20", "40", "80" ]; 
			}
			$scope.$apply(); 
		}); 
	}); 
	
}); 
;
$juci.module("wifi")
.directive("uciWirelessInterface", function($compile){
	var plugin_root = $juci.module("wifi").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/uci.wireless.interface.html", 
		scope: {
			interface: "=ngModel"
		}, 
		controller: "WifiInterfaceController", 
		replace: true, 
		require: "^ngModel"
	 };  
}).controller("WifiInterfaceController", function($scope, $uci, $tr, gettext){
	$scope.errors = []; 
	$scope.$on("error", function(ev, err){
		ev.stopPropagation(); 
		$scope.errors.push(err); 
	}); 
	$scope.$watch("interface", function(value){
		try {
			$scope.cryptoChoices = $scope.interface.encryption.schema.allow.map(function(x){
				return { label: $tr("wifi.enc."+x), value: x };
			}); 
		} catch(e) {} 
		$scope.devices = $uci.wireless["@wifi-device"].map(function(x){
			// TODO: this should be a uci "displayname" or something
			if(x.band.value == "a") x[".label"] = gettext("5GHz"); 
			else if(x.band.value == "b") x[".label"] = gettext("2.4GHz"); 
			return { label: x[".label"], value: x[".name"] };
		}); 
		$uci.wireless["@wifi-iface"].map(function(x){
			var dev = $uci.wireless[x.device.value]; 
			x[".frequency"] = dev[".label"]; 
		}); 
		$scope.title = "wifi-iface.name="+$scope.interface[".name"]; 
	});
	$scope.onPreApply = function(){
		$scope.errors.length = 0; 
	}
}); 
;
$juci.module("wifi")
.directive("uciWirelessInterfaceMacfilterEdit", function($compile){
	var plugin_root = $juci.module("wifi").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/uci.wireless.interface.macfilter.edit.html", 
		scope: {
			interface: "=ngModel"
		}, 
		controller: "uciWirelessInterfaceMacfilterEditController", 
		replace: true, 
		require: "^ngModel"
	 };  
}).controller("uciWirelessInterfaceMacfilterEditController", function($scope, $rpc, $uci){
	$scope.maclist = []; 
	/*
	// updates scratch model for the view
	function updateMaclist(i){
		var maclist = []; 
		if(i && i.maclist) {
			async.eachSeries(i.maclist.value, function(mac, next){
				$hosts.select({ macaddr: mac }).done(function(host){
					maclist.push(host); 
					next(); 
				}).fail(function(){
					$hosts.insert({ hostname: "no name", macaddr: mac }).done(function(host){
						maclist.push(host);
					}).always(function(){ next(); });  
				}); 
			}, function(){
				$scope.maclist = maclist; 
			}); 
		} else {
			$scope.maclist = []; 
		}
	}
	*/
	// watch for model change
	$scope.$watch("interface", function(i){
		$scope.maclist = []; 
		console.log("Syncing interface.."); 
		if(i.maclist && i.maclist.value){
			i.maclist.value.map(function(mac){
				var added = { hostname: "", macaddr: mac}; 
				$uci.hosts["@all"].map(function(host){
					console.log("testing host "+host.hostname.value); 
					if(host.macaddr.value == mac){
						added = { hostname: host.hostname.value, macaddr: mac}; 
					}
				}); 
				added.maclist = i.maclist; 
				$scope.maclist.push(added); 
			});
			//$scope.$apply();  
		}
	}); 
	
	// watch maclist for changes by the user
	$scope.rebuildMacList = function(){
		if($scope.interface){
			var newlist = $scope.maclist.map(function(x){
				var found = false; 
				console.log("Looking for mac "+x.macaddr); 
				$uci.hosts["@host"].map(function(host){
					if(host.macaddr.value == x.macaddr) {
						console.log("Setting hostname "+x.hostname+" on "+x.macaddr); 
						host.hostname.value = x.hostname; 
						found = true; 
					}
				}); 
				if(!found){
					$uci.hosts.create({ 
						".type": "host", 
						hostname: x.hostname, 
						macaddr: x.macaddr
					}).done(function(host){
						console.log("Added new host to database: "+host.macaddr.value); 
					}); 
				}
				return x.macaddr || "";  
			}); 
			$scope.interface.maclist.value = newlist;  
		}
	}; 
	
	$rpc.router.clients().done(function(clients){
		$scope.client_list = Object.keys(clients).map(function(x){ 
			return {
				checked: false, 
				client: clients[x]
			}
		});
		$scope.$apply(); 
	}); 
	
	$scope.onDeleteHost = function(host){
		$scope.maclist = ($scope.maclist||[]).filter(function(x) { return x.macaddr != host.macaddr; }); 
		host.maclist.value = host.maclist.value.filter(function(x) { return x != host.macaddr; }); 
	}
	
	$scope.onAddClients = function(){
		// reset all checkboxes 
		if($scope.client_list){
			$scope.client_list.map(function(x){ x.checked = false; }); 
		}
		$scope.showModal = 1; 
	}
	
	$scope.onFilterEnable = function(){
		$scope.filterEnabled = !$scope.filterEnabled; 
		//console.log("Filter: "+$scope.filterEnabled); 
	}
	
	$scope.onAddNewClient = function(){
		$scope.maclist.push({ hostname: "", macaddr: "" }); 
	}
	
	$scope.onAcceptModal = function(){
		if($scope.client_list && $scope.maclist) {
			$scope.client_list.map(function(x){
				if(x.checked) {
					if($scope.maclist.filter(function(a) { return a.macaddr == x.client.macaddr; }).length == 0){
						$scope.maclist.push({ hostname: x.client.hostname, macaddr: x.client.macaddr }); 
						$scope.rebuildMacList(); 
					} else {
						console.log("MAC address "+x.client.macaddr+" is already in the list!"); 
					}
				}
			}); 
		}
		$scope.showModal = 0; 
	}
	
	$scope.onDismissModal = function(){
		$scope.showModal = 0; 
	}
}); 
;
$juci.module("wifi")
.directive("uciWirelessScheduleEdit", function($compile){
	var plugin_root = $juci.module("wifi").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/uci.wireless.schedule.edit.html", 
		scope: {
			schedule: "=schedule", 
		}, 
		controller: "uciWirelessScheduleEdit", 
		replace: true, 
		require: "^ngModel", 
		/*link: function(scope, elm, attrs, ctrl){
			scope.ctrl = ctrl; 
			ctrl.$validators.validate = function (modelValue, viewValue) {
				console.log(JSON.stringify(modelValue) +"-"+viewValue); 
				if (ctrl.$isEmpty(modelValue)) { // consider empty models to be valid
						return true;
				}
				
				return false;
			}
		}*/
	};  
}).controller("uciWirelessScheduleEdit", function($scope, gettext, $uci){
	$scope.selectedTimeFrame = []; 
	$scope.data = {}; 
	
	$scope.allTimeFrames = [
		{ label: gettext("Individual Days"), value: [] }, 
		{ label: gettext("Every Day"), value: ["mon", "tue", "wed", "thu", "fri", "sat", "sun"] }, 
		{ label: gettext("Every Workday"), value: ["mon", "tue", "wed", "thu", "fri"] }, 
		{ label: gettext("All Weekend"), value: ["sat", "sun"] }
	]; 
	$scope.allDayNames = [
		{ label: gettext("Monday"), value: "mon" }, 
		{ label: gettext("Tuesday"), value: "tue" }, 
		{ label: gettext("Wednesday"), value: "wed" }, 
		{ label: gettext("Thursday"), value: "thu" }, 
		{ label: gettext("Friday"), value: "fri" }, 
		{ label: gettext("Saturday"), value: "sat" }, 
		{ label: gettext("Sunday"), value: "sun" }
	]; 
	$scope.selectedTimeFrame = $scope.allTimeFrames[0].value; 
	
	(function(){
		function update_time(){
			if($scope.schedule){
				$scope.schedule.time.value = ($scope.data.timeFrom||"")+"-"+($scope.data.timeTo||""); 
			}
		}
		
		$scope.$watch("data.timeFrom", update_time, true); 
		$scope.$watch("data.timeTo", update_time, true);
	})(); 
	
	$scope.$watch("schedule", function(value){
		if(value != undefined && value.days && value.time){
			$scope.data.days = value.days.value.map(function(x){ return x; }); 
		} 
	});
	 
	$scope.onChangeDays = function(value){
		console.log("Changing days to: "+JSON.stringify($scope.selectedTimeFrame));  
		//$scope.schedule.days.value.splice(0,$scope.schedule.days.value.length); 
		$scope.schedule.days.value = $scope.selectedTimeFrame; 
		//Object.assign($scope.schedule.days.value, $scope.selectedTimeFrame); 
	}
}); 
;
$juci.app
.directive("wifiSignalIndicator", function($compile, $parse){
	var plugin_root = $juci.module("wifi").plugin_root; 
	return {
		templateUrl: plugin_root+"/widgets/wifi.signal.indicator.html", 
		scope: {
			value: "=ngModel"
		}, 
		controller: "wifiSignalIndicator", 
		replace: true, 
		require: "^ngModel"
	 };  
}).controller("wifiSignalIndicator", function($scope, $uci, $rpc){
	$scope.bars = [false, false, false, false]; 
	$scope.$watch("value", function(value){
		var q = value / 5; 
		$scope.bars[0] = $scope.bars[1] = $scope.bars[2] = $scope.bars[3] = false; 
		if(q > 1) $scope.bars[0] = true; 
		if(q > 2) $scope.bars[1] = true; 
		if(q > 3) $scope.bars[2] = true; 
		if(q > 4) $scope.bars[3] = true; 
	}); 
	$scope.barStyle = function(idx, active){
		var height = 5 + ((idx) * 5); 
		var top = 20 - height; 
		return {
			"position": "absolute", 
			"width": "6px", 
			"height": ""+height+"px", 
			"background-color": (active)?"#aab400":"#d5d5d5",
			"top": ""+top+"px", 
			"left": ""+(idx * 8)+"px"
		}; 
	}
}); 
;
JUCI.app
.config(function($stateProvider) {
	$stateProvider.state("wifi", {
		url: "/wifi", 
		onEnter: function($state){
			$juci.redirect("wifi-general"); 
		}
	}); 
}); 

(function(){
	UCI.$registerConfig("wireless"); 
	UCI.wireless.$registerSectionType("wifi-status", {
		"wlan":		{ dvalue: true, type: Boolean }, 
		"wps":		{ dvalue: true, type: Boolean },
		"schedule":	{ dvalue: false, type: Boolean },
		"sched_status":	{ dvalue: false, type: Boolean }
	}); 
	UCI.wireless.$registerSectionType("wifi-schedule", {
		"days":		{ dvalue: [], type: Array, allow: ["mon", "tue", "wed", "thu", "fri", "sat", "sun"], validator: UCI.validators.WeekDayListValidator},
		"time":		{ dvalue: "", type: String, validator: UCI.validators.TimespanValidator}
	}); 
	UCI.wireless.$registerSectionType("wifi-device", {
		"type": 			{ dvalue: "", type: String },
		"country": 		{ dvalue: "", type: String},
		"band": 			{ dvalue: "none", type: String, allow: [ "a", "b" ] },
		"bandwidth": 	{ dvalue: 0, type: String, allow: [ "20", "40", "80" ] },
		"channel":		{ dvalue: "auto", type: String, allow: [ "auto", 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 36, 40, 44, 48 ] },
		"scantimer":	{ dvalue: 0, type: Number },
		"wmm":				{ dvalue: false, type: Boolean },
		"wmm_noack":	{ dvalue: false, type: Boolean },
		"wmm_apsd":		{ dvalue: false, type: Boolean },
		"txpower":		{ dvalue: 0, type: Number },
		"rateset":		{ dvalue: "default", type: String, allow: [ "default" ] },
		"frag":				{ dvalue: 0, type: Number },
		"rts":				{ dvalue: 0, type: Number },
		"dtim_period":{ dvalue: 0, type: Number },
		"beacon_int":	{ dvalue: 0, type: Number },
		"rxchainps":	{ dvalue: false, type: Boolean },
		"rxchainps_qt":{ dvalue: 0, type: Number },
		"rxchainps_pps":{ dvalue: 0, type: Number },
		"rifs":				{ dvalue: false, type: Boolean },
		"rifs_advert":{ dvalue: false, type: Boolean },
		"maxassoc":		{ dvalue: 0, type: Number },
		"doth":				{ dvalue: 0, type: Boolean },
		"dfsc":				{ dvalue: 0, type: Boolean }, // ? 
		"hwmode":			{ dvalue: "auto", type: String, allow: [ "auto", "11a", "11n", "11ac" ] },
		"disabled":		{ dvalue: false, type: Boolean }
	}); 
	UCI.wireless.$registerSectionType("wifi-iface", {
		"device": 		{ dvalue: "wl0", type: String, match: /^wl0|wl1$/ },
		"network":		{ dvalue: "lan", type: String, allow: [ "lan", "guest" ] },
		"mode":				{ dvalue: "ap", type: String, allow: [ "ap" ] },
		"ssid":				{ dvalue: "Inteno", type: String },
		"encryption":	{ dvalue: "mixed-psk", type: String, allow: [ "none", "wep", "psk", "psk2", "mixed-psk" ] },
		"cipher":			{ dvalue: "auto", type: String, allow: [ "auto" ] },
		"key":				{ dvalue: "", type: String },
		"ifname":			{ dvalue: "", type: String },
		"gtk_rekey":	{ dvalue: false, type: Boolean },
		"wps_pbc":		{ dvalue: false, type: Boolean },
		"wmf_bss_enable":{ dvalue: false, type: Boolean },
		"bss_max":		{ dvalue: 0, type: Number },
		"instance":		{ dvalue: 0, type: Number },
		"up":					{ dvalue: false, type: Boolean },
		"closed":			{ dvalue: false, type: Boolean },
		"disabled":		{ dvalue: false, type: Boolean },
		"macmode":		{ dvalue: 1, type: Number, allow: [ 0, 1, 2 ] },
		"macfilter":	{ dvalue: false, type: Boolean },
		"maclist":		{ dvalue: [], type: Array, match_each: /^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/ }
	}, function validator(section){
		// validate ssid
		if(section.ssid.value.length >= 32) 
			throw new Error("SSID string can be at most 32 characters long!"); 
		// validate keys
		switch(section.encryption.value){
			case "wep": {
				if(!section.key.value || !section.key.value.match(/[a-f0-9A-F]{10,26}/)) 
					throw new Error("WEP encryption key must be 10-26 hexadecimal characters!"); 
			} break;
			case "psk": 
			case "psk2": 
			case "mixed-psk": {
				if(!section.key.value || !(section.key.value.length > 8 && section.key.value.length < 64))
					throw new Error("WPA key must be 8-63 characters long!"); 
			} break; 
			default: 
				break; 
		}
	}); 
	
	
	UCI.$registerConfig("hosts"); 
	UCI.hosts.$registerSectionType("host", {
		"hostname":		{ dvalue: "", type: String, required: true}, 
		"macaddr":		{ dvalue: "", type: String, match: /^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/, required: true}
	}); 
})(); 
;
angular.module("luci").config(function($provide){
	var overrides = {
		"luciFooterDirective": "/widgets/luci.footer.html", 
		"luciLayoutNakedDirective": "/widgets/luci.layout.naked.html", 
		"luciLayoutSingleColumnDirective": "/widgets/luci.layout.single_column.html", 
		"luciLayoutWithSidebarDirective": "/widgets/luci.layout.with_sidebar.html", 
		"luciNavbarDirective": "/widgets/luci.navbar.html",
		"luciTopBarDirective": "/widgets/luci.top_bar.html"
	}; 
	var plugin_root = "/themes/vodafone/"; 
	Object.keys(overrides).map(function(k){
		$provide.decorator(k, function($delegate){
			//console.log("VF DECORATOR: "+JSON.stringify($delegate)); 
			if($delegate.length > 1) 
				$delegate[1].templateUrl = plugin_root + overrides[k]; 
			return $delegate; 
		}); 
	}); 
}); 
