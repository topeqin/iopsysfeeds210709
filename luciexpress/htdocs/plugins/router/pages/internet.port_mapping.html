<luci-layout-with-sidebar>
	<div ng-controller="InternetPortMappingPageCtrl">
		<h2 translate>Port Mapping</h2>
		<p translate>Port mapping allows remote computers to connect to a specific device within your private network.</p>
		<table class="table">
			<thead><th translate>Local IP</th><th translate>Protocol</th><th translate>Local port</th><th translate>Public Port</th><th></th><th></th></thead>
			<tr ng-repeat="r in redirects">
				<td>{{ r.dest_ip }}</td>
				<td>{{ r.proto }}</td>
				<td>{{ r.dest_port }}</td>
				<td>{{ r.src_dport }}</td>
				<td style="width: 1%"><button class="btn btn-default" ng-click="onEditRule(r)"><i class="fa fa-pencil" style="{{editColor}}"></i></button></td>
				<td style="width: 1%"><button class="btn btn-default" ng-click="onDeleteRule(r)"><i class="fa fa-trash-o"></i></button></td>
			</tr>
			<tr>
				<td></td>
				<td></td>
				<td></td>
				<td></td>
				<td style="width: 1%"></td>
				<td style="width: 1%"><button class="btn btn-default" ng-click="onAddRule()"><i class="fa fa-plus"></i></button></td>
			</tr>
		</table>
		<form class="form-horizontal">
			<div class="btn-toolbar pull-right">
				<button class="btn btn-primary" ng-click="onCommit()">Save</button>
				<button class="btn btn-default" ng-click="onCancel()">Cancel</button>
			</div>
		</form>
		<modal title="modalTitle" ng-show="showModal" on-accept="onAcceptModal()" on-dismiss="onDismissModal()" dismiss-label="Cancel" accept-label="Save">
			<uci-firewall-nat-rule-edit ng-model="rule"></uci-firewall-nat-rule-edit>
		</modal>
	</div>
</luci-layout-with-sidebar>
