<luci-layout-with-sidebar>
	<div ng-controller="InternetPortMappingPageCtrl">
		<h2 translate>Port Mapping</h2>
		<p translate>Port mapping allows remote computers to connect to a specific device within your private network.</p>
        <table class="table">
			<thead><th translate>Local IP</th><th translate>Protocol</th><th translate>Local port</th><th translate>Public Port</th><th></th><th></th></thead>
			<tbody>
                <tr ng-repeat="r in redirects">
                    <td>{{ r.dest_ip.value }}</td>
                    <td>{{ r.proto.value }}</td>
                    <td>{{ r.dest_port.value }}</td>
                    <td>{{ r.src_dport.value }}</td>
                    <td style="width: 1%"><button class="btn btn-default" ng-click="onEditRule(r)"><i class="fa fa-pencil" style="{{editColor}}"></i></button></td>
                    <td style="width: 1%"><button class="btn btn-default" ng-click="onDeleteRule(r)"><i class="fa fa-trash-o"></i></button></td>
                </tr>
                <tr>
                    <td colspan="5"></td>
                    <td style="width: 1%"><button class="btn btn-default" ng-click="onAddRule()"><i class="fa fa-plus"></i></button></td>
                </tr>
            </tbody>
		</table>
		<luci-config-apply></luci-config-apply>
		<modal title="Add Port Mapping" ng-show="showModal" on-accept="onAcceptModal()" on-dismiss="onDismissModal()" form-included="true" dismiss-label="Cancel" accept-label="Save" hide-close-btn="true">
			<uci-firewall-nat-rule-edit ng-model="rule"></uci-firewall-nat-rule-edit>
		</modal>
	</div>
</luci-layout-with-sidebar>
